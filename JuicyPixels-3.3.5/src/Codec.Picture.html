<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE CPP #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE MultiParamTypeClasses #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE TypeSynonymInstances #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE FlexibleContexts #-}</span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# LANGUAGE TypeFamilies #-}</span><span>
</span><span id="line-6"></span><span class="hs-pragma">{-# LANGUAGE TupleSections #-}</span><span>
</span><span id="line-7"></span><span class="hs-pragma">{-# LANGUAGE FlexibleInstances #-}</span><span>
</span><span id="line-8"></span><span class="hs-comment">-- | Main module for image import/export into various image formats.</span><span>
</span><span id="line-9"></span><span class="hs-comment">--</span><span>
</span><span id="line-10"></span><span class="hs-comment">-- To use the library without thinking about it, look after 'decodeImage' and</span><span>
</span><span id="line-11"></span><span class="hs-comment">-- 'readImage'.</span><span>
</span><span id="line-12"></span><span class="hs-comment">--</span><span>
</span><span id="line-13"></span><span class="hs-comment">-- Generally, the @read*@ functions read the images from a file and try to decode</span><span>
</span><span id="line-14"></span><span class="hs-comment">-- it, and the @decode*@ functions try to decode a bytestring.</span><span>
</span><span id="line-15"></span><span class="hs-comment">--</span><span>
</span><span id="line-16"></span><span class="hs-comment">-- For an easy image writing use the 'saveBmpImage', 'saveJpgImage' &amp; 'savePngImage'</span><span>
</span><span id="line-17"></span><span class="hs-comment">-- functions</span><span>
</span><span id="line-18"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Codec.Picture</span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-19"></span><span>                     </span><span class="hs-comment">-- * Generic functions</span><span>
</span><span id="line-20"></span><span>                       </span><span class="annot"><a href="Codec.Picture.html#readImage"><span class="hs-identifier">readImage</span></a></span><span>
</span><span id="line-21"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.html#readImageWithMetadata"><span class="hs-identifier">readImageWithMetadata</span></a></span><span>
</span><span id="line-22"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.html#decodeImage"><span class="hs-identifier">decodeImage</span></a></span><span>
</span><span id="line-23"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.html#decodeImageWithMetadata"><span class="hs-identifier">decodeImageWithMetadata</span></a></span><span>
</span><span id="line-24"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.html#decodeImageWithPaletteAndMetadata"><span class="hs-identifier">decodeImageWithPaletteAndMetadata</span></a></span><span>
</span><span id="line-25"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#pixelMap"><span class="hs-identifier">pixelMap</span></a></span><span>
</span><span id="line-26"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#dynamicMap"><span class="hs-identifier">dynamicMap</span></a></span><span>
</span><span id="line-27"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#dynamicPixelMap"><span class="hs-identifier">dynamicPixelMap</span></a></span><span>
</span><span id="line-28"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#generateImage"><span class="hs-identifier">generateImage</span></a></span><span>
</span><span id="line-29"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#generateFoldImage"><span class="hs-identifier">generateFoldImage</span></a></span><span>
</span><span id="line-30"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#withImage"><span class="hs-identifier">withImage</span></a></span><span>
</span><span id="line-31"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#palettedToTrueColor"><span class="hs-identifier">palettedToTrueColor</span></a></span><span>
</span><span id="line-32"></span><span>
</span><span id="line-33"></span><span>                      </span><span class="hs-comment">-- * RGB helper functions</span><span>
</span><span id="line-34"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.html#convertRGB8"><span class="hs-identifier">convertRGB8</span></a></span><span>
</span><span id="line-35"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.html#convertRGB16"><span class="hs-identifier">convertRGB16</span></a></span><span>
</span><span id="line-36"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.html#convertRGBA8"><span class="hs-identifier">convertRGBA8</span></a></span><span>
</span><span id="line-37"></span><span>
</span><span id="line-38"></span><span>                     </span><span class="hs-comment">-- * Lens compatibility</span><span>
</span><span id="line-39"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#Traversal"><span class="hs-identifier">Traversal</span></a></span><span>
</span><span id="line-40"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#imagePixels"><span class="hs-identifier">imagePixels</span></a></span><span>
</span><span id="line-41"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#imageIPixels"><span class="hs-identifier">imageIPixels</span></a></span><span>
</span><span id="line-42"></span><span>
</span><span id="line-43"></span><span>                     </span><span class="hs-comment">-- * Generic image writing</span><span>
</span><span id="line-44"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.html#saveBmpImage"><span class="hs-identifier">saveBmpImage</span></a></span><span>
</span><span id="line-45"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.html#saveJpgImage"><span class="hs-identifier">saveJpgImage</span></a></span><span>
</span><span id="line-46"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.html#saveGifImage"><span class="hs-identifier">saveGifImage</span></a></span><span>
</span><span id="line-47"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.html#savePngImage"><span class="hs-identifier">savePngImage</span></a></span><span>
</span><span id="line-48"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.html#saveTiffImage"><span class="hs-identifier">saveTiffImage</span></a></span><span>
</span><span id="line-49"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.html#saveRadianceImage"><span class="hs-identifier">saveRadianceImage</span></a></span><span>
</span><span id="line-50"></span><span>
</span><span id="line-51"></span><span>                     </span><span class="hs-comment">-- * Specific image format functions</span><span>
</span><span id="line-52"></span><span>                     </span><span class="hs-comment">-- ** Bitmap handling</span><span>
</span><span id="line-53"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Bitmap.html#BmpEncodable"><span class="hs-identifier">BmpEncodable</span></a></span><span>
</span><span id="line-54"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Bitmap.html#writeBitmap"><span class="hs-identifier">writeBitmap</span></a></span><span>
</span><span id="line-55"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Bitmap.html#encodeBitmap"><span class="hs-identifier">encodeBitmap</span></a></span><span>
</span><span id="line-56"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.html#readBitmap"><span class="hs-identifier">readBitmap</span></a></span><span>
</span><span id="line-57"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Bitmap.html#decodeBitmap"><span class="hs-identifier">decodeBitmap</span></a></span><span>
</span><span id="line-58"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Bitmap.html#encodeDynamicBitmap"><span class="hs-identifier">encodeDynamicBitmap</span></a></span><span>
</span><span id="line-59"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Bitmap.html#writeDynamicBitmap"><span class="hs-identifier">writeDynamicBitmap</span></a></span><span>
</span><span id="line-60"></span><span>
</span><span id="line-61"></span><span>                     </span><span class="hs-comment">-- ** Gif handling</span><span>
</span><span id="line-62"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.html#readGif"><span class="hs-identifier">readGif</span></a></span><span>
</span><span id="line-63"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.html#readGifImages"><span class="hs-identifier">readGifImages</span></a></span><span>
</span><span id="line-64"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Gif.html#decodeGif"><span class="hs-identifier">decodeGif</span></a></span><span>
</span><span id="line-65"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Gif.html#decodeGifImages"><span class="hs-identifier">decodeGifImages</span></a></span><span>
</span><span id="line-66"></span><span>
</span><span id="line-67"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Gif.html#encodeGifImage"><span class="hs-identifier">encodeGifImage</span></a></span><span>
</span><span id="line-68"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Gif.html#writeGifImage"><span class="hs-identifier">writeGifImage</span></a></span><span>
</span><span id="line-69"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Gif.html#encodeGifImageWithPalette"><span class="hs-identifier">encodeGifImageWithPalette</span></a></span><span>
</span><span id="line-70"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Gif.html#writeGifImageWithPalette"><span class="hs-identifier">writeGifImageWithPalette</span></a></span><span>
</span><span id="line-71"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.html#encodeColorReducedGifImage"><span class="hs-identifier">encodeColorReducedGifImage</span></a></span><span>
</span><span id="line-72"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.html#writeColorReducedGifImage"><span class="hs-identifier">writeColorReducedGifImage</span></a></span><span> </span><span>
</span><span id="line-73"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Gif.html#encodeGifImages"><span class="hs-identifier">encodeGifImages</span></a></span><span>
</span><span id="line-74"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Gif.html#writeGifImages"><span class="hs-identifier">writeGifImages</span></a></span><span>
</span><span id="line-75"></span><span>
</span><span id="line-76"></span><span>                     </span><span class="hs-comment">-- *** Gif animation</span><span>
</span><span id="line-77"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Gif.html#GifDelay"><span class="hs-identifier">GifDelay</span></a></span><span>
</span><span id="line-78"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Gif.html#GifLooping"><span class="hs-identifier">GifLooping</span></a></span><span class="hs-special">(</span><span> </span><span class="hs-glyph">..</span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-79"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.html#encodeGifAnimation"><span class="hs-identifier">encodeGifAnimation</span></a></span><span>
</span><span id="line-80"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.html#writeGifAnimation"><span class="hs-identifier">writeGifAnimation</span></a></span><span>
</span><span id="line-81"></span><span>
</span><span id="line-82"></span><span>                     </span><span class="hs-comment">-- ** Jpeg handling</span><span>
</span><span id="line-83"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.html#readJpeg"><span class="hs-identifier">readJpeg</span></a></span><span>
</span><span id="line-84"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Jpg.html#decodeJpeg"><span class="hs-identifier">decodeJpeg</span></a></span><span>
</span><span id="line-85"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Jpg.html#encodeJpeg"><span class="hs-identifier">encodeJpeg</span></a></span><span>
</span><span id="line-86"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Jpg.html#encodeJpegAtQuality"><span class="hs-identifier">encodeJpegAtQuality</span></a></span><span>
</span><span id="line-87"></span><span>
</span><span id="line-88"></span><span>                     </span><span class="hs-comment">-- ** Png handling</span><span>
</span><span id="line-89"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Png.Internal.Export.html#PngSavable"><span class="hs-identifier">PngSavable</span></a></span><span class="hs-special">(</span><span> </span><span class="hs-glyph">..</span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-90"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.html#readPng"><span class="hs-identifier">readPng</span></a></span><span>
</span><span id="line-91"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Png.html#decodePng"><span class="hs-identifier">decodePng</span></a></span><span>
</span><span id="line-92"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Png.Internal.Export.html#writePng"><span class="hs-identifier">writePng</span></a></span><span>
</span><span id="line-93"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Png.Internal.Export.html#encodePalettedPng"><span class="hs-identifier">encodePalettedPng</span></a></span><span>
</span><span id="line-94"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Png.Internal.Export.html#encodeDynamicPng"><span class="hs-identifier">encodeDynamicPng</span></a></span><span>
</span><span id="line-95"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Png.Internal.Export.html#writeDynamicPng"><span class="hs-identifier">writeDynamicPng</span></a></span><span>
</span><span id="line-96"></span><span>
</span><span id="line-97"></span><span>                     </span><span class="hs-comment">-- ** TGA handling</span><span>
</span><span id="line-98"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.html#readTGA"><span class="hs-identifier">readTGA</span></a></span><span>
</span><span id="line-99"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Tga.html#decodeTga"><span class="hs-identifier">decodeTga</span></a></span><span>
</span><span id="line-100"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Tga.html#TgaSaveable"><span class="hs-identifier">TgaSaveable</span></a></span><span>
</span><span id="line-101"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Tga.html#encodeTga"><span class="hs-identifier">encodeTga</span></a></span><span>
</span><span id="line-102"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Tga.html#writeTga"><span class="hs-identifier">writeTga</span></a></span><span>
</span><span id="line-103"></span><span>
</span><span id="line-104"></span><span>                     </span><span class="hs-comment">-- ** Tiff handling</span><span>
</span><span id="line-105"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.html#readTiff"><span class="hs-identifier">readTiff</span></a></span><span>
</span><span id="line-106"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Tiff.html#TiffSaveable"><span class="hs-identifier">TiffSaveable</span></a></span><span>
</span><span id="line-107"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Tiff.html#decodeTiff"><span class="hs-identifier">decodeTiff</span></a></span><span>
</span><span id="line-108"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Tiff.html#encodeTiff"><span class="hs-identifier">encodeTiff</span></a></span><span>
</span><span id="line-109"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Tiff.html#writeTiff"><span class="hs-identifier">writeTiff</span></a></span><span>
</span><span id="line-110"></span><span>
</span><span id="line-111"></span><span>                     </span><span class="hs-comment">-- ** HDR (Radiance/RGBE) handling</span><span>
</span><span id="line-112"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.html#readHDR"><span class="hs-identifier">readHDR</span></a></span><span>
</span><span id="line-113"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.HDR.html#decodeHDR"><span class="hs-identifier">decodeHDR</span></a></span><span>
</span><span id="line-114"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.HDR.html#encodeHDR"><span class="hs-identifier">encodeHDR</span></a></span><span>
</span><span id="line-115"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.HDR.html#writeHDR"><span class="hs-identifier">writeHDR</span></a></span><span>
</span><span id="line-116"></span><span>
</span><span id="line-117"></span><span>                     </span><span class="hs-comment">-- ** Color Quantization</span><span>
</span><span id="line-118"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.ColorQuant.html#PaletteCreationMethod"><span class="hs-identifier">PaletteCreationMethod</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-119"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.ColorQuant.html#PaletteOptions"><span class="hs-identifier">PaletteOptions</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-120"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.ColorQuant.html#palettize"><span class="hs-identifier">palettize</span></a></span><span>
</span><span id="line-121"></span><span>
</span><span id="line-122"></span><span>                     </span><span class="hs-comment">-- * Image types and pixel types</span><span>
</span><span id="line-123"></span><span>                     </span><span class="hs-comment">-- ** Image</span><span>
</span><span id="line-124"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#Image"><span class="hs-identifier">Image</span></a></span><span class="hs-special">(</span><span> </span><span class="hs-glyph">..</span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-125"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#DynamicImage"><span class="hs-identifier">DynamicImage</span></a></span><span class="hs-special">(</span><span> </span><span class="hs-glyph">..</span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-126"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#Palette"><span class="hs-identifier">Palette</span></a></span><span>
</span><span id="line-127"></span><span>                     </span><span class="hs-comment">-- ** Pixels</span><span>
</span><span id="line-128"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#Pixel"><span class="hs-identifier">Pixel</span></a></span><span class="hs-special">(</span><span> </span><span class="hs-glyph">..</span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-129"></span><span>                     </span><span class="hs-comment">-- $graph</span><span>
</span><span id="line-130"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#Pixel8"><span class="hs-identifier">Pixel8</span></a></span><span>
</span><span id="line-131"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#Pixel16"><span class="hs-identifier">Pixel16</span></a></span><span>
</span><span id="line-132"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#Pixel32"><span class="hs-identifier">Pixel32</span></a></span><span>
</span><span id="line-133"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#PixelF"><span class="hs-identifier">PixelF</span></a></span><span>
</span><span id="line-134"></span><span>
</span><span id="line-135"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#PixelYA8"><span class="hs-identifier">PixelYA8</span></a></span><span class="hs-special">(</span><span> </span><span class="hs-glyph">..</span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-136"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#PixelYA16"><span class="hs-identifier">PixelYA16</span></a></span><span class="hs-special">(</span><span> </span><span class="hs-glyph">..</span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-137"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#PixelRGB8"><span class="hs-identifier">PixelRGB8</span></a></span><span class="hs-special">(</span><span> </span><span class="hs-glyph">..</span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-138"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#PixelRGB16"><span class="hs-identifier">PixelRGB16</span></a></span><span class="hs-special">(</span><span> </span><span class="hs-glyph">..</span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-139"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#PixelRGBF"><span class="hs-identifier">PixelRGBF</span></a></span><span class="hs-special">(</span><span> </span><span class="hs-glyph">..</span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-140"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#PixelRGBA8"><span class="hs-identifier">PixelRGBA8</span></a></span><span class="hs-special">(</span><span> </span><span class="hs-glyph">..</span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-141"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#PixelRGBA16"><span class="hs-identifier">PixelRGBA16</span></a></span><span class="hs-special">(</span><span> </span><span class="hs-glyph">..</span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-142"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#PixelYCbCr8"><span class="hs-identifier">PixelYCbCr8</span></a></span><span class="hs-special">(</span><span> </span><span class="hs-glyph">..</span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-143"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#PixelCMYK8"><span class="hs-identifier">PixelCMYK8</span></a></span><span class="hs-special">(</span><span> </span><span class="hs-glyph">..</span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-144"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#PixelCMYK16"><span class="hs-identifier">PixelCMYK16</span></a></span><span class="hs-special">(</span><span> </span><span class="hs-glyph">..</span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-145"></span><span>
</span><span id="line-146"></span><span>                     </span><span class="hs-comment">-- * Foreign unsafe import</span><span>
</span><span id="line-147"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.VectorByteConversion.html#imageFromUnsafePtr"><span class="hs-identifier">imageFromUnsafePtr</span></a></span><span>
</span><span id="line-148"></span><span>                     </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span class="hs-cpp">

#if !MIN_VERSION_base(4,8,0)
</span><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Control.Applicative</span><span class="hs-special">(</span><span> </span><span class="hs-special">(</span><span class="hs-operator">&lt;$&gt;</span><span class="hs-special">)</span><span> </span><span class="hs-special">)</span><span class="hs-cpp">
#endif
</span><span>
</span><span id="line-154"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Arrow</span></span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier">first</span></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-155"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Bits</span></span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier">unsafeShiftR</span></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-156"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.DeepSeq</span></span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier">NFData</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">deepseq</span></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-157"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Control.Exception</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Exc</span></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier">catch</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">IOException</span></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-158"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Codec.Picture.Metadata.html"><span class="hs-identifier">Codec.Picture.Metadata</span></a></span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Codec.Picture.Metadata.html#Metadatas"><span class="hs-identifier">Metadatas</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-159"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Codec.Picture.Bitmap.html"><span class="hs-identifier">Codec.Picture.Bitmap</span></a></span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Codec.Picture.Bitmap.html#BmpEncodable"><span class="hs-identifier">BmpEncodable</span></a></span><span>
</span><span id="line-160"></span><span>                           </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Bitmap.html#decodeBitmap"><span class="hs-identifier">decodeBitmap</span></a></span><span>
</span><span id="line-161"></span><span>                           </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Bitmap.html#decodeBitmapWithPaletteAndMetadata"><span class="hs-identifier">decodeBitmapWithPaletteAndMetadata</span></a></span><span>
</span><span id="line-162"></span><span>                           </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Bitmap.html#writeBitmap"><span class="hs-identifier">writeBitmap</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Bitmap.html#encodeBitmap"><span class="hs-identifier">encodeBitmap</span></a></span><span>
</span><span id="line-163"></span><span>                           </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Bitmap.html#encodeDynamicBitmap"><span class="hs-identifier">encodeDynamicBitmap</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Bitmap.html#writeDynamicBitmap"><span class="hs-identifier">writeDynamicBitmap</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-164"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Codec.Picture.Jpg.html"><span class="hs-identifier">Codec.Picture.Jpg</span></a></span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Codec.Picture.Jpg.html#decodeJpeg"><span class="hs-identifier">decodeJpeg</span></a></span><span>
</span><span id="line-165"></span><span>                        </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Jpg.html#decodeJpegWithMetadata"><span class="hs-identifier">decodeJpegWithMetadata</span></a></span><span>
</span><span id="line-166"></span><span>                        </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Jpg.html#encodeJpeg"><span class="hs-identifier">encodeJpeg</span></a></span><span>
</span><span id="line-167"></span><span>                        </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Jpg.html#encodeJpegAtQuality"><span class="hs-identifier">encodeJpegAtQuality</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-168"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Codec.Picture.Png.html"><span class="hs-identifier">Codec.Picture.Png</span></a></span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Codec.Picture.Png.Internal.Export.html#PngSavable"><span class="hs-identifier">PngSavable</span></a></span><span class="hs-special">(</span><span> </span><span class="hs-glyph">..</span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-169"></span><span>                        </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Png.html#decodePng"><span class="hs-identifier">decodePng</span></a></span><span>
</span><span id="line-170"></span><span>                        </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Png.html#decodePngWithPaletteAndMetadata"><span class="hs-identifier">decodePngWithPaletteAndMetadata</span></a></span><span>
</span><span id="line-171"></span><span>                        </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Png.Internal.Export.html#writePng"><span class="hs-identifier">writePng</span></a></span><span>
</span><span id="line-172"></span><span>                        </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Png.Internal.Export.html#encodeDynamicPng"><span class="hs-identifier">encodeDynamicPng</span></a></span><span>
</span><span id="line-173"></span><span>                        </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Png.Internal.Export.html#encodePalettedPng"><span class="hs-identifier">encodePalettedPng</span></a></span><span>
</span><span id="line-174"></span><span>                        </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Png.Internal.Export.html#writeDynamicPng"><span class="hs-identifier">writeDynamicPng</span></a></span><span>
</span><span id="line-175"></span><span>                        </span><span class="hs-special">)</span><span>
</span><span id="line-176"></span><span>
</span><span id="line-177"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Codec.Picture.Gif.html"><span class="hs-identifier">Codec.Picture.Gif</span></a></span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Codec.Picture.Gif.html#GifDelay"><span class="hs-identifier">GifDelay</span></a></span><span>
</span><span id="line-178"></span><span>                        </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Gif.html#GifLooping"><span class="hs-identifier">GifLooping</span></a></span><span class="hs-special">(</span><span> </span><span class="hs-glyph">..</span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-179"></span><span>                        </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Gif.html#decodeGif"><span class="hs-identifier">decodeGif</span></a></span><span>
</span><span id="line-180"></span><span>                        </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Gif.html#decodeGifWithPaletteAndMetadata"><span class="hs-identifier">decodeGifWithPaletteAndMetadata</span></a></span><span>
</span><span id="line-181"></span><span>                        </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Gif.html#decodeGifImages"><span class="hs-identifier">decodeGifImages</span></a></span><span>
</span><span id="line-182"></span><span>                        </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Gif.html#encodeGifImage"><span class="hs-identifier">encodeGifImage</span></a></span><span>
</span><span id="line-183"></span><span>                        </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Gif.html#encodeGifImageWithPalette"><span class="hs-identifier">encodeGifImageWithPalette</span></a></span><span>
</span><span id="line-184"></span><span>                        </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Gif.html#encodeGifImages"><span class="hs-identifier">encodeGifImages</span></a></span><span>
</span><span id="line-185"></span><span>
</span><span id="line-186"></span><span>                        </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Gif.html#writeGifImage"><span class="hs-identifier">writeGifImage</span></a></span><span>
</span><span id="line-187"></span><span>                        </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Gif.html#writeGifImageWithPalette"><span class="hs-identifier">writeGifImageWithPalette</span></a></span><span>
</span><span id="line-188"></span><span>                        </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Gif.html#writeGifImages"><span class="hs-identifier">writeGifImages</span></a></span><span>
</span><span id="line-189"></span><span>                        </span><span class="hs-special">)</span><span>
</span><span id="line-190"></span><span>
</span><span id="line-191"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Codec.Picture.HDR.html"><span class="hs-identifier">Codec.Picture.HDR</span></a></span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Codec.Picture.HDR.html#decodeHDR"><span class="hs-identifier">decodeHDR</span></a></span><span>
</span><span id="line-192"></span><span>                        </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.HDR.html#decodeHDRWithMetadata"><span class="hs-identifier">decodeHDRWithMetadata</span></a></span><span>
</span><span id="line-193"></span><span>                        </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.HDR.html#encodeHDR"><span class="hs-identifier">encodeHDR</span></a></span><span>
</span><span id="line-194"></span><span>                        </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.HDR.html#writeHDR"><span class="hs-identifier">writeHDR</span></a></span><span>
</span><span id="line-195"></span><span>                        </span><span class="hs-special">)</span><span>
</span><span id="line-196"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Codec.Picture.Tiff.html"><span class="hs-identifier">Codec.Picture.Tiff</span></a></span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Codec.Picture.Tiff.html#decodeTiff"><span class="hs-identifier">decodeTiff</span></a></span><span>
</span><span id="line-197"></span><span>                         </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Tiff.html#decodeTiffWithPaletteAndMetadata"><span class="hs-identifier">decodeTiffWithPaletteAndMetadata</span></a></span><span>
</span><span id="line-198"></span><span>                         </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Tiff.html#TiffSaveable"><span class="hs-identifier">TiffSaveable</span></a></span><span>
</span><span id="line-199"></span><span>                         </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Tiff.html#encodeTiff"><span class="hs-identifier">encodeTiff</span></a></span><span>
</span><span id="line-200"></span><span>                         </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Tiff.html#writeTiff"><span class="hs-identifier">writeTiff</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-201"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Codec.Picture.Tga.html"><span class="hs-identifier">Codec.Picture.Tga</span></a></span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Codec.Picture.Tga.html#TgaSaveable"><span class="hs-identifier">TgaSaveable</span></a></span><span>
</span><span id="line-202"></span><span>                        </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Tga.html#decodeTga"><span class="hs-identifier">decodeTga</span></a></span><span>
</span><span id="line-203"></span><span>                        </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Tga.html#decodeTgaWithPaletteAndMetadata"><span class="hs-identifier">decodeTgaWithPaletteAndMetadata</span></a></span><span>
</span><span id="line-204"></span><span>                        </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Tga.html#encodeTga"><span class="hs-identifier">encodeTga</span></a></span><span>
</span><span id="line-205"></span><span>                        </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Tga.html#writeTga"><span class="hs-identifier">writeTga</span></a></span><span>
</span><span id="line-206"></span><span>                        </span><span class="hs-special">)</span><span>
</span><span id="line-207"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Codec.Picture.Saving.html"><span class="hs-identifier">Codec.Picture.Saving</span></a></span><span>
</span><span id="line-208"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html"><span class="hs-identifier">Codec.Picture.Types</span></a></span><span>
</span><span id="line-209"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Codec.Picture.ColorQuant.html"><span class="hs-identifier">Codec.Picture.ColorQuant</span></a></span><span>
</span><span id="line-210"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Codec.Picture.VectorByteConversion.html"><span class="hs-identifier">Codec.Picture.VectorByteConversion</span></a></span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Codec.Picture.VectorByteConversion.html#imageFromUnsafePtr"><span class="hs-identifier">imageFromUnsafePtr</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-211"></span><span class="hs-comment">-- import System.IO ( withFile, IOMode(ReadMode) )</span><span class="hs-cpp">
#ifdef WITH_MMAP_BYTESTRING
</span><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">System.IO.MMap</span><span> </span><span class="hs-special">(</span><span> </span><span class="hs-identifier">mmapFileByteString</span><span> </span><span class="hs-special">)</span><span class="hs-cpp">
#endif
</span><span>
</span><span id="line-216"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.ByteString</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">B</span></span><span>
</span><span id="line-217"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.ByteString.Lazy</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">L</span></span><span>
</span><span id="line-218"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Vector.Storable</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">VS</span></span><span>
</span><span id="line-219"></span><span>
</span><span id="line-220"></span><span class="hs-comment">-- | Return the first Right thing, accumulating error</span><span>
</span><span id="line-221"></span><span id="local-6989586621679172077"><span id="local-6989586621679172078"><span class="annot"><a href="Codec.Picture.html#eitherLoad"><span class="hs-identifier hs-type">eitherLoad</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679172078"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679172078"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="annot"><a href="#local-6989586621679172077"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="annot"><a href="#local-6989586621679172077"><span class="hs-identifier hs-type">b</span></a></span></span></span><span>
</span><span id="line-222"></span><span id="eitherLoad"><span class="annot"><span class="annottext">eitherLoad :: c -&gt; [(String, c -&gt; Either String b)] -&gt; Either String b
</span><a href="Codec.Picture.html#eitherLoad"><span class="hs-identifier hs-var hs-var">eitherLoad</span></a></span></span><span> </span><span id="local-6989586621679171986"><span class="annot"><span class="annottext">c
</span><a href="#local-6989586621679171986"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; [(String, c -&gt; Either String b)] -&gt; Either String b
</span><a href="#local-6989586621679171985"><span class="hs-identifier hs-var">inner</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-223"></span><span>    </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621679171985"><span class="annot"><span class="annottext">inner :: String -&gt; [(String, c -&gt; Either String b)] -&gt; Either String b
</span><a href="#local-6989586621679171985"><span class="hs-identifier hs-var hs-var">inner</span></a></span></span><span> </span><span id="local-6989586621679171984"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679171984"><span class="hs-identifier hs-var">errAcc</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Either String b
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Either String b) -&gt; String -&gt; Either String b
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Cannot load file\n&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679171984"><span class="hs-identifier hs-var">errAcc</span></a></span><span>
</span><span id="line-224"></span><span>          </span><span class="annot"><a href="#local-6989586621679171985"><span class="hs-identifier hs-var">inner</span></a></span><span> </span><span id="local-6989586621679171983"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679171983"><span class="hs-identifier hs-var">errAcc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span id="local-6989586621679171982"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679171982"><span class="hs-identifier hs-var">hdr</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679171981"><span class="annot"><span class="annottext">c -&gt; Either String b
</span><a href="#local-6989586621679171981"><span class="hs-identifier hs-var">f</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621679171980"><span class="annot"><span class="annottext">[(String, c -&gt; Either String b)]
</span><a href="#local-6989586621679171980"><span class="hs-identifier hs-var">rest</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">c -&gt; Either String b
</span><a href="#local-6989586621679171981"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">c
</span><a href="#local-6989586621679171986"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-225"></span><span>                </span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span>  </span><span id="local-6989586621679171979"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679171979"><span class="hs-identifier hs-var">err</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; [(String, c -&gt; Either String b)] -&gt; Either String b
</span><a href="#local-6989586621679171985"><span class="hs-identifier hs-var">inner</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679171983"><span class="hs-identifier hs-var">errAcc</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679171982"><span class="hs-identifier hs-var">hdr</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679171979"><span class="hs-identifier hs-var">err</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;\n&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[(String, c -&gt; Either String b)]
</span><a href="#local-6989586621679171980"><span class="hs-identifier hs-var">rest</span></a></span><span>
</span><span id="line-226"></span><span>                </span><span class="annot"><span class="hs-identifier hs-type">Right</span></span><span> </span><span id="local-6989586621679171978"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679171978"><span class="hs-identifier hs-var">rez</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">b -&gt; Either String b
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679171978"><span class="hs-identifier hs-var">rez</span></a></span><span>
</span><span id="line-227"></span><span>
</span><span id="line-228"></span><span class="hs-comment">-- | Encode a full color image to a gif by applying a color quantization</span><span>
</span><span id="line-229"></span><span class="hs-comment">-- algorithm on it.</span><span>
</span><span id="line-230"></span><span class="annot"><a href="Codec.Picture.html#encodeColorReducedGifImage"><span class="hs-identifier hs-type">encodeColorReducedGifImage</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#Image"><span class="hs-identifier hs-type">Image</span></a></span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#PixelRGB8"><span class="hs-identifier hs-type">PixelRGB8</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">L.ByteString</span></span><span>
</span><span id="line-231"></span><span id="encodeColorReducedGifImage"><span class="annot"><span class="annottext">encodeColorReducedGifImage :: Image PixelRGB8 -&gt; Either String ByteString
</span><a href="Codec.Picture.html#encodeColorReducedGifImage"><span class="hs-identifier hs-var hs-var">encodeColorReducedGifImage</span></a></span></span><span> </span><span id="local-6989586621679171977"><span class="annot"><span class="annottext">Image PixelRGB8
</span><a href="#local-6989586621679171977"><span class="hs-identifier hs-var">img</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Image Pixel8 -&gt; Image PixelRGB8 -&gt; Either String ByteString
</span><a href="Codec.Picture.Gif.html#encodeGifImageWithPalette"><span class="hs-identifier hs-var">encodeGifImageWithPalette</span></a></span><span> </span><span class="annot"><span class="annottext">Image Pixel8
</span><a href="#local-6989586621679171976"><span class="hs-identifier hs-var">indexed</span></a></span><span> </span><span class="annot"><span class="annottext">Image PixelRGB8
</span><a href="#local-6989586621679171975"><span class="hs-identifier hs-var">pal</span></a></span><span>
</span><span id="line-232"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679171976"><span class="annot"><span class="annottext">Image Pixel8
</span><a href="#local-6989586621679171976"><span class="hs-identifier hs-var">indexed</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679171975"><span class="annot"><span class="annottext">Image PixelRGB8
</span><a href="#local-6989586621679171975"><span class="hs-identifier hs-var">pal</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PaletteOptions
-&gt; Image PixelRGB8 -&gt; (Image Pixel8, Image PixelRGB8)
</span><a href="Codec.Picture.ColorQuant.html#palettize"><span class="hs-identifier hs-var">palettize</span></a></span><span> </span><span class="annot"><span class="annottext">PaletteOptions
</span><a href="Codec.Picture.ColorQuant.html#defaultPaletteOptions"><span class="hs-identifier hs-var">defaultPaletteOptions</span></a></span><span> </span><span class="annot"><span class="annottext">Image PixelRGB8
</span><a href="#local-6989586621679171977"><span class="hs-identifier hs-var">img</span></a></span><span>
</span><span id="line-233"></span><span>
</span><span id="line-234"></span><span class="hs-comment">-- | Write a full color image to a gif by applying a color quantization</span><span>
</span><span id="line-235"></span><span class="hs-comment">-- algorithm on it.</span><span>
</span><span id="line-236"></span><span class="annot"><a href="Codec.Picture.html#writeColorReducedGifImage"><span class="hs-identifier hs-type">writeColorReducedGifImage</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#Image"><span class="hs-identifier hs-type">Image</span></a></span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#PixelRGB8"><span class="hs-identifier hs-type">PixelRGB8</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-237"></span><span id="writeColorReducedGifImage"><span class="annot"><span class="annottext">writeColorReducedGifImage :: String -&gt; Image PixelRGB8 -&gt; Either String (IO ())
</span><a href="Codec.Picture.html#writeColorReducedGifImage"><span class="hs-identifier hs-var hs-var">writeColorReducedGifImage</span></a></span></span><span> </span><span id="local-6989586621679171972"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679171972"><span class="hs-identifier hs-var">path</span></a></span></span><span> </span><span id="local-6989586621679171971"><span class="annot"><span class="annottext">Image PixelRGB8
</span><a href="#local-6989586621679171971"><span class="hs-identifier hs-var">img</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-238"></span><span>    </span><span class="annot"><span class="annottext">String -&gt; ByteString -&gt; IO ()
</span><span class="hs-identifier hs-var">L.writeFile</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679171972"><span class="hs-identifier hs-var">path</span></a></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; IO ())
-&gt; Either String ByteString -&gt; Either String (IO ())
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Image PixelRGB8 -&gt; Either String ByteString
</span><a href="Codec.Picture.html#encodeColorReducedGifImage"><span class="hs-identifier hs-var">encodeColorReducedGifImage</span></a></span><span> </span><span class="annot"><span class="annottext">Image PixelRGB8
</span><a href="#local-6989586621679171971"><span class="hs-identifier hs-var">img</span></a></span><span>
</span><span id="line-239"></span><span>
</span><span id="line-240"></span><span>
</span><span id="line-241"></span><span class="hs-comment">-- | Helper function to create a gif animation.</span><span>
</span><span id="line-242"></span><span class="hs-comment">-- All the images of the animation are separated</span><span>
</span><span id="line-243"></span><span class="hs-comment">-- by the same delay.</span><span>
</span><span id="line-244"></span><span class="annot"><a href="Codec.Picture.html#encodeGifAnimation"><span class="hs-identifier hs-type">encodeGifAnimation</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Codec.Picture.Gif.html#GifDelay"><span class="hs-identifier hs-type">GifDelay</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Codec.Picture.Gif.html#GifLooping"><span class="hs-identifier hs-type">GifLooping</span></a></span><span>
</span><span id="line-245"></span><span>                   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Codec.Picture.Types.html#Image"><span class="hs-identifier hs-type">Image</span></a></span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#PixelRGB8"><span class="hs-identifier hs-type">PixelRGB8</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">L.ByteString</span></span><span>
</span><span id="line-246"></span><span id="encodeGifAnimation"><span class="annot"><span class="annottext">encodeGifAnimation :: GifDelay
-&gt; GifLooping -&gt; [Image PixelRGB8] -&gt; Either String ByteString
</span><a href="Codec.Picture.html#encodeGifAnimation"><span class="hs-identifier hs-var hs-var">encodeGifAnimation</span></a></span></span><span> </span><span id="local-6989586621679171968"><span class="annot"><span class="annottext">GifDelay
</span><a href="#local-6989586621679171968"><span class="hs-identifier hs-var">delay</span></a></span></span><span> </span><span id="local-6989586621679171967"><span class="annot"><span class="annottext">GifLooping
</span><a href="#local-6989586621679171967"><span class="hs-identifier hs-var">looping</span></a></span></span><span> </span><span id="local-6989586621679171966"><span class="annot"><span class="annottext">[Image PixelRGB8]
</span><a href="#local-6989586621679171966"><span class="hs-identifier hs-var">lst</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-247"></span><span>    </span><span class="annot"><span class="annottext">GifLooping
-&gt; [(Image PixelRGB8, GifDelay, Image Pixel8)]
-&gt; Either String ByteString
</span><a href="Codec.Picture.Gif.html#encodeGifImages"><span class="hs-identifier hs-var">encodeGifImages</span></a></span><span> </span><span class="annot"><span class="annottext">GifLooping
</span><a href="#local-6989586621679171967"><span class="hs-identifier hs-var">looping</span></a></span><span>
</span><span id="line-248"></span><span>        </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Image PixelRGB8
</span><a href="#local-6989586621679171965"><span class="hs-identifier hs-var">pal</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">GifDelay
</span><a href="#local-6989586621679171968"><span class="hs-identifier hs-var">delay</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Image Pixel8
</span><a href="#local-6989586621679171964"><span class="hs-identifier hs-var">img</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-249"></span><span>                </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679171964"><span class="annot"><span class="annottext">Image Pixel8
</span><a href="#local-6989586621679171964"><span class="hs-identifier hs-var">img</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679171965"><span class="annot"><span class="annottext">Image PixelRGB8
</span><a href="#local-6989586621679171965"><span class="hs-identifier hs-var">pal</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">PaletteOptions
-&gt; Image PixelRGB8 -&gt; (Image Pixel8, Image PixelRGB8)
</span><a href="Codec.Picture.ColorQuant.html#palettize"><span class="hs-identifier hs-var">palettize</span></a></span><span> </span><span class="annot"><span class="annottext">PaletteOptions
</span><a href="Codec.Picture.ColorQuant.html#defaultPaletteOptions"><span class="hs-identifier hs-var">defaultPaletteOptions</span></a></span><span> </span><span class="annot"><span class="annottext">(Image PixelRGB8 -&gt; (Image Pixel8, Image PixelRGB8))
-&gt; [Image PixelRGB8] -&gt; [(Image Pixel8, Image PixelRGB8)]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">[Image PixelRGB8]
</span><a href="#local-6989586621679171966"><span class="hs-identifier hs-var">lst</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-250"></span><span>
</span><span id="line-251"></span><span class="hs-comment">-- | Helper function to write a gif animation on disk.</span><span>
</span><span id="line-252"></span><span class="hs-comment">-- See encodeGifAnimation</span><span>
</span><span id="line-253"></span><span class="annot"><a href="Codec.Picture.html#writeGifAnimation"><span class="hs-identifier hs-type">writeGifAnimation</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Codec.Picture.Gif.html#GifDelay"><span class="hs-identifier hs-type">GifDelay</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Codec.Picture.Gif.html#GifLooping"><span class="hs-identifier hs-type">GifLooping</span></a></span><span>
</span><span id="line-254"></span><span>                  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Codec.Picture.Types.html#Image"><span class="hs-identifier hs-type">Image</span></a></span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#PixelRGB8"><span class="hs-identifier hs-type">PixelRGB8</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-255"></span><span id="writeGifAnimation"><span class="annot"><span class="annottext">writeGifAnimation :: String
-&gt; GifDelay
-&gt; GifLooping
-&gt; [Image PixelRGB8]
-&gt; Either String (IO ())
</span><a href="Codec.Picture.html#writeGifAnimation"><span class="hs-identifier hs-var hs-var">writeGifAnimation</span></a></span></span><span> </span><span id="local-6989586621679171963"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679171963"><span class="hs-identifier hs-var">path</span></a></span></span><span> </span><span id="local-6989586621679171962"><span class="annot"><span class="annottext">GifDelay
</span><a href="#local-6989586621679171962"><span class="hs-identifier hs-var">delay</span></a></span></span><span> </span><span id="local-6989586621679171961"><span class="annot"><span class="annottext">GifLooping
</span><a href="#local-6989586621679171961"><span class="hs-identifier hs-var">looping</span></a></span></span><span> </span><span id="local-6989586621679171960"><span class="annot"><span class="annottext">[Image PixelRGB8]
</span><a href="#local-6989586621679171960"><span class="hs-identifier hs-var">img</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-256"></span><span>    </span><span class="annot"><span class="annottext">String -&gt; ByteString -&gt; IO ()
</span><span class="hs-identifier hs-var">L.writeFile</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679171963"><span class="hs-identifier hs-var">path</span></a></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; IO ())
-&gt; Either String ByteString -&gt; Either String (IO ())
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">GifDelay
-&gt; GifLooping -&gt; [Image PixelRGB8] -&gt; Either String ByteString
</span><a href="Codec.Picture.html#encodeGifAnimation"><span class="hs-identifier hs-var">encodeGifAnimation</span></a></span><span> </span><span class="annot"><span class="annottext">GifDelay
</span><a href="#local-6989586621679171962"><span class="hs-identifier hs-var">delay</span></a></span><span> </span><span class="annot"><span class="annottext">GifLooping
</span><a href="#local-6989586621679171961"><span class="hs-identifier hs-var">looping</span></a></span><span> </span><span class="annot"><span class="annottext">[Image PixelRGB8]
</span><a href="#local-6989586621679171960"><span class="hs-identifier hs-var">img</span></a></span><span>
</span><span id="line-257"></span><span>
</span><span id="line-258"></span><span id="local-6989586621679172145"><span class="annot"><a href="Codec.Picture.html#withImageDecoder"><span class="hs-identifier hs-type">withImageDecoder</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">NFData</span></span><span> </span><span class="annot"><a href="#local-6989586621679172145"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-259"></span><span>                 </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">B.ByteString</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="annot"><a href="#local-6989586621679172145"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span><span>
</span><span id="line-260"></span><span>                 </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="annot"><a href="#local-6989586621679172145"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-261"></span><span id="withImageDecoder"><span class="annot"><span class="annottext">withImageDecoder :: (ByteString -&gt; Either String a) -&gt; String -&gt; IO (Either String a)
</span><a href="Codec.Picture.html#withImageDecoder"><span class="hs-identifier hs-var hs-var">withImageDecoder</span></a></span></span><span> </span><span id="local-6989586621679171958"><span class="annot"><span class="annottext">ByteString -&gt; Either String a
</span><a href="#local-6989586621679171958"><span class="hs-identifier hs-var">decoder</span></a></span></span><span> </span><span id="local-6989586621679171957"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679171957"><span class="hs-identifier hs-var">path</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IO (Either String a)
-&gt; (IOException -&gt; IO (Either String a)) -&gt; IO (Either String a)
forall e a. Exception e =&gt; IO a -&gt; (e -&gt; IO a) -&gt; IO a
</span><span class="hs-identifier hs-var">Exc.catch</span></span><span> </span><span class="annot"><span class="annottext">IO (Either String a)
</span><a href="#local-6989586621679171956"><span class="hs-identifier hs-var">doit</span></a></span><span>
</span><span id="line-262"></span><span>                    </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679171955"><span class="annot"><span class="annottext">IOException
</span><a href="#local-6989586621679171955"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Either String a -&gt; IO (Either String a)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(Either String a -&gt; IO (Either String a))
-&gt; (String -&gt; Either String a) -&gt; String -&gt; IO (Either String a)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; Either String a
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; IO (Either String a)) -&gt; String -&gt; IO (Either String a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">IOException -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IOException
</span><a href="#local-6989586621679171955"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Exc.IOException</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-263"></span><span>    </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621679171956"><span class="annot"><span class="annottext">doit :: IO (Either String a)
</span><a href="#local-6989586621679171956"><span class="hs-identifier hs-var hs-var">doit</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Either String a -&gt; Either String a
forall b. NFData b =&gt; b -&gt; b
</span><a href="#local-6989586621679171952"><span class="hs-identifier hs-var">force</span></a></span><span> </span><span class="annot"><span class="annottext">(Either String a -&gt; Either String a)
-&gt; (ByteString -&gt; Either String a) -&gt; ByteString -&gt; Either String a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Either String a
</span><a href="#local-6989586621679171958"><span class="hs-identifier hs-var">decoder</span></a></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; Either String a)
-&gt; IO ByteString -&gt; IO (Either String a)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">IO ByteString
</span><a href="#local-6989586621679171951"><span class="hs-identifier hs-var">get</span></a></span><span class="hs-cpp">
#ifdef WITH_MMAP_BYTESTRING
</span><span>          </span><span class="hs-identifier">get</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">mmapFileByteString</span><span> </span><span class="hs-identifier">path</span><span> </span><span class="hs-identifier">Nothing</span><span class="hs-cpp">
#else
</span><span>          </span><span id="local-6989586621679171951"><span class="annot"><span class="annottext">get :: IO ByteString
</span><a href="#local-6989586621679171951"><span class="hs-identifier hs-var hs-var">get</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; IO ByteString
</span><span class="hs-identifier hs-var">B.readFile</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679171957"><span class="hs-identifier hs-var">path</span></a></span><span class="hs-cpp">
#endif
</span><span>          </span><span class="hs-comment">-- force appeared in deepseq 1.3, Haskell Platform</span><span>
</span><span id="line-270"></span><span>          </span><span class="hs-comment">-- provides 1.1</span><span>
</span><span id="line-271"></span><span>          </span><span id="local-6989586621679171952"><span class="annot"><span class="annottext">force :: b -&gt; b
</span><a href="#local-6989586621679171952"><span class="hs-identifier hs-var hs-var">force</span></a></span></span><span> </span><span id="local-6989586621679171949"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679171949"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679171949"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">b -&gt; b -&gt; b
forall a b. NFData a =&gt; a -&gt; b -&gt; b
</span><span class="hs-operator hs-var">`deepseq`</span></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679171949"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-272"></span><span>
</span><span id="line-273"></span><span class="hs-comment">-- | Load an image file without even thinking about it, it does everything</span><span>
</span><span id="line-274"></span><span class="hs-comment">-- as 'decodeImage'</span><span>
</span><span id="line-275"></span><span class="annot"><a href="Codec.Picture.html#readImage"><span class="hs-identifier hs-type">readImage</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#DynamicImage"><span class="hs-identifier hs-type">DynamicImage</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-276"></span><span id="readImage"><span class="annot"><span class="annottext">readImage :: String -&gt; IO (Either String DynamicImage)
</span><a href="Codec.Picture.html#readImage"><span class="hs-identifier hs-var hs-var">readImage</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; Either String DynamicImage)
-&gt; String -&gt; IO (Either String DynamicImage)
forall a.
NFData a =&gt;
(ByteString -&gt; Either String a) -&gt; String -&gt; IO (Either String a)
</span><a href="Codec.Picture.html#withImageDecoder"><span class="hs-identifier hs-var">withImageDecoder</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Either String DynamicImage
</span><a href="Codec.Picture.html#decodeImage"><span class="hs-identifier hs-var">decodeImage</span></a></span><span>
</span><span id="line-277"></span><span>
</span><span id="line-278"></span><span class="hs-comment">-- | Equivalent to 'readImage'  but also providing metadatas.</span><span>
</span><span id="line-279"></span><span class="annot"><a href="Codec.Picture.html#readImageWithMetadata"><span class="hs-identifier hs-type">readImageWithMetadata</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Codec.Picture.Types.html#DynamicImage"><span class="hs-identifier hs-type">DynamicImage</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Metadata.html#Metadatas"><span class="hs-identifier hs-type">Metadatas</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-280"></span><span id="readImageWithMetadata"><span class="annot"><span class="annottext">readImageWithMetadata :: String -&gt; IO (Either String (DynamicImage, Metadatas))
</span><a href="Codec.Picture.html#readImageWithMetadata"><span class="hs-identifier hs-var hs-var">readImageWithMetadata</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; Either String (DynamicImage, Metadatas))
-&gt; String -&gt; IO (Either String (DynamicImage, Metadatas))
forall a.
NFData a =&gt;
(ByteString -&gt; Either String a) -&gt; String -&gt; IO (Either String a)
</span><a href="Codec.Picture.html#withImageDecoder"><span class="hs-identifier hs-var">withImageDecoder</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Either String (DynamicImage, Metadatas)
</span><a href="Codec.Picture.html#decodeImageWithMetadata"><span class="hs-identifier hs-var">decodeImageWithMetadata</span></a></span><span>
</span><span id="line-281"></span><span>
</span><span id="line-282"></span><span>
</span><span id="line-283"></span><span class="hs-comment">-- | If you want to decode an image in a bytestring without even thinking</span><span>
</span><span id="line-284"></span><span class="hs-comment">-- in term of format or whatever, this is the function to use. It will try</span><span>
</span><span id="line-285"></span><span class="hs-comment">-- to decode in each known format and if one decoding succeeds, it will return</span><span>
</span><span id="line-286"></span><span class="hs-comment">-- the decoded image in it's own colorspace.</span><span>
</span><span id="line-287"></span><span class="annot"><a href="Codec.Picture.html#decodeImage"><span class="hs-identifier hs-type">decodeImage</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">B.ByteString</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#DynamicImage"><span class="hs-identifier hs-type">DynamicImage</span></a></span><span>
</span><span id="line-288"></span><span id="decodeImage"><span class="annot"><span class="annottext">decodeImage :: ByteString -&gt; Either String DynamicImage
</span><a href="Codec.Picture.html#decodeImage"><span class="hs-identifier hs-var hs-var">decodeImage</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((DynamicImage, Metadatas) -&gt; DynamicImage)
-&gt; Either String (DynamicImage, Metadatas)
-&gt; Either String DynamicImage
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">(DynamicImage, Metadatas) -&gt; DynamicImage
forall a b. (a, b) -&gt; a
</span><span class="hs-identifier hs-var">fst</span></span><span> </span><span class="annot"><span class="annottext">(Either String (DynamicImage, Metadatas)
 -&gt; Either String DynamicImage)
-&gt; (ByteString -&gt; Either String (DynamicImage, Metadatas))
-&gt; ByteString
-&gt; Either String DynamicImage
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Either String (DynamicImage, Metadatas)
</span><a href="Codec.Picture.html#decodeImageWithMetadata"><span class="hs-identifier hs-var">decodeImageWithMetadata</span></a></span><span> </span><span>
</span><span id="line-289"></span><span>
</span><span id="line-290"></span><span class="hs-keyword">class</span><span> </span><span id="Decimable"><span class="annot"><a href="Codec.Picture.html#Decimable"><span class="hs-identifier hs-var">Decimable</span></a></span></span><span> </span><span id="local-6989586621679172110"><span class="annot"><a href="#local-6989586621679172110"><span class="hs-identifier hs-type">px1</span></a></span></span><span> </span><span id="local-6989586621679172109"><span class="annot"><a href="#local-6989586621679172109"><span class="hs-identifier hs-type">px2</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-291"></span><span>   </span><span id="decimateBitDepth"><span class="annot"><a href="Codec.Picture.html#decimateBitDepth"><span class="hs-identifier hs-type">decimateBitDepth</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#Image"><span class="hs-identifier hs-type">Image</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679172110"><span class="hs-identifier hs-type">px1</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#Image"><span class="hs-identifier hs-type">Image</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679172109"><span class="hs-identifier hs-type">px2</span></a></span><span>
</span><span id="line-292"></span><span>
</span><span id="line-293"></span><span id="local-6989586621679172106"><span id="local-6989586621679172108"><span class="annot"><a href="Codec.Picture.html#decimateWord16"><span class="hs-identifier hs-type">decimateWord16</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#Pixel"><span class="hs-identifier hs-type">Pixel</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679172108"><span class="hs-identifier hs-type">px1</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#Pixel"><span class="hs-identifier hs-type">Pixel</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679172106"><span class="hs-identifier hs-type">px2</span></a></span><span>
</span><span id="line-294"></span><span>                  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#PixelBaseComponent"><span class="hs-identifier hs-type">PixelBaseComponent</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679172108"><span class="hs-identifier hs-type">px1</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">~</span></span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#Pixel16"><span class="hs-identifier hs-type">Pixel16</span></a></span><span>
</span><span id="line-295"></span><span>                  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#PixelBaseComponent"><span class="hs-identifier hs-type">PixelBaseComponent</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679172106"><span class="hs-identifier hs-type">px2</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">~</span></span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#Pixel8"><span class="hs-identifier hs-type">Pixel8</span></a></span><span>
</span><span id="line-296"></span><span>                  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#Image"><span class="hs-identifier hs-type">Image</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679172108"><span class="hs-identifier hs-type">px1</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#Image"><span class="hs-identifier hs-type">Image</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679172106"><span class="hs-identifier hs-type">px2</span></a></span></span></span><span>
</span><span id="line-297"></span><span id="decimateWord16"><span class="annot"><span class="annottext">decimateWord16 :: Image px1 -&gt; Image px2
</span><a href="Codec.Picture.html#decimateWord16"><span class="hs-identifier hs-var hs-var">decimateWord16</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Codec.Picture.Types.html#Image"><span class="hs-identifier hs-type">Image</span></a></span><span> </span><span id="local-6989586621679171945"><span class="annot"><span class="annottext">GifDelay
</span><a href="#local-6989586621679171945"><span class="hs-identifier hs-var">w</span></a></span></span><span> </span><span id="local-6989586621679171944"><span class="annot"><span class="annottext">GifDelay
</span><a href="#local-6989586621679171944"><span class="hs-identifier hs-var">h</span></a></span></span><span> </span><span id="local-6989586621679171943"><span class="annot"><span class="annottext">Vector (PixelBaseComponent px1)
</span><a href="#local-6989586621679171943"><span class="hs-identifier hs-var">da</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-298"></span><span>  </span><span class="annot"><span class="annottext">GifDelay
-&gt; GifDelay -&gt; Vector (PixelBaseComponent px2) -&gt; Image px2
forall a.
GifDelay -&gt; GifDelay -&gt; Vector (PixelBaseComponent a) -&gt; Image a
</span><a href="Codec.Picture.Types.html#Image"><span class="hs-identifier hs-var">Image</span></a></span><span> </span><span class="annot"><span class="annottext">GifDelay
</span><a href="#local-6989586621679171945"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">GifDelay
</span><a href="#local-6989586621679171944"><span class="hs-identifier hs-var">h</span></a></span><span> </span><span class="annot"><span class="annottext">(Vector (PixelBaseComponent px2) -&gt; Image px2)
-&gt; Vector (PixelBaseComponent px2) -&gt; Image px2
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Pixel16 -&gt; Pixel8) -&gt; Vector Pixel16 -&gt; Vector Pixel8
forall a b.
(Storable a, Storable b) =&gt;
(a -&gt; b) -&gt; Vector a -&gt; Vector b
</span><span class="hs-identifier hs-var">VS.map</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679171941"><span class="annot"><span class="annottext">Pixel16
</span><a href="#local-6989586621679171941"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Pixel16 -&gt; Pixel8
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">(Pixel16 -&gt; Pixel8) -&gt; Pixel16 -&gt; Pixel8
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Pixel16
</span><a href="#local-6989586621679171941"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">Pixel16 -&gt; GifDelay -&gt; Pixel16
forall a. Bits a =&gt; a -&gt; GifDelay -&gt; a
</span><span class="hs-operator hs-var">`unsafeShiftR`</span></span><span> </span><span class="annot"><span class="annottext">GifDelay
</span><span class="hs-number">8</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Vector Pixel16
Vector (PixelBaseComponent px1)
</span><a href="#local-6989586621679171943"><span class="hs-identifier hs-var">da</span></a></span><span>
</span><span id="line-299"></span><span>
</span><span id="line-300"></span><span id="local-6989586621679172104"><span id="local-6989586621679172105"><span class="annot"><a href="Codec.Picture.html#decimateWord3216"><span class="hs-identifier hs-type">decimateWord3216</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#Pixel"><span class="hs-identifier hs-type">Pixel</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679172105"><span class="hs-identifier hs-type">px1</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#Pixel"><span class="hs-identifier hs-type">Pixel</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679172104"><span class="hs-identifier hs-type">px2</span></a></span><span>
</span><span id="line-301"></span><span>                  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#PixelBaseComponent"><span class="hs-identifier hs-type">PixelBaseComponent</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679172105"><span class="hs-identifier hs-type">px1</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">~</span></span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#Pixel32"><span class="hs-identifier hs-type">Pixel32</span></a></span><span>
</span><span id="line-302"></span><span>                  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#PixelBaseComponent"><span class="hs-identifier hs-type">PixelBaseComponent</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679172104"><span class="hs-identifier hs-type">px2</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">~</span></span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#Pixel16"><span class="hs-identifier hs-type">Pixel16</span></a></span><span>
</span><span id="line-303"></span><span>                  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#Image"><span class="hs-identifier hs-type">Image</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679172105"><span class="hs-identifier hs-type">px1</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#Image"><span class="hs-identifier hs-type">Image</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679172104"><span class="hs-identifier hs-type">px2</span></a></span></span></span><span>
</span><span id="line-304"></span><span id="decimateWord3216"><span class="annot"><span class="annottext">decimateWord3216 :: Image px1 -&gt; Image px2
</span><a href="Codec.Picture.html#decimateWord3216"><span class="hs-identifier hs-var hs-var">decimateWord3216</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Codec.Picture.Types.html#Image"><span class="hs-identifier hs-type">Image</span></a></span><span> </span><span id="local-6989586621679171939"><span class="annot"><span class="annottext">GifDelay
</span><a href="#local-6989586621679171939"><span class="hs-identifier hs-var">w</span></a></span></span><span> </span><span id="local-6989586621679171938"><span class="annot"><span class="annottext">GifDelay
</span><a href="#local-6989586621679171938"><span class="hs-identifier hs-var">h</span></a></span></span><span> </span><span id="local-6989586621679171937"><span class="annot"><span class="annottext">Vector (PixelBaseComponent px1)
</span><a href="#local-6989586621679171937"><span class="hs-identifier hs-var">da</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-305"></span><span>  </span><span class="annot"><span class="annottext">GifDelay
-&gt; GifDelay -&gt; Vector (PixelBaseComponent px2) -&gt; Image px2
forall a.
GifDelay -&gt; GifDelay -&gt; Vector (PixelBaseComponent a) -&gt; Image a
</span><a href="Codec.Picture.Types.html#Image"><span class="hs-identifier hs-var">Image</span></a></span><span> </span><span class="annot"><span class="annottext">GifDelay
</span><a href="#local-6989586621679171939"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">GifDelay
</span><a href="#local-6989586621679171938"><span class="hs-identifier hs-var">h</span></a></span><span> </span><span class="annot"><span class="annottext">(Vector (PixelBaseComponent px2) -&gt; Image px2)
-&gt; Vector (PixelBaseComponent px2) -&gt; Image px2
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Pixel32 -&gt; Pixel16) -&gt; Vector Pixel32 -&gt; Vector Pixel16
forall a b.
(Storable a, Storable b) =&gt;
(a -&gt; b) -&gt; Vector a -&gt; Vector b
</span><span class="hs-identifier hs-var">VS.map</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679171936"><span class="annot"><span class="annottext">Pixel32
</span><a href="#local-6989586621679171936"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Pixel32 -&gt; Pixel16
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">(Pixel32 -&gt; Pixel16) -&gt; Pixel32 -&gt; Pixel16
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Pixel32
</span><a href="#local-6989586621679171936"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">Pixel32 -&gt; GifDelay -&gt; Pixel32
forall a. Bits a =&gt; a -&gt; GifDelay -&gt; a
</span><span class="hs-operator hs-var">`unsafeShiftR`</span></span><span> </span><span class="annot"><span class="annottext">GifDelay
</span><span class="hs-number">16</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Vector Pixel32
Vector (PixelBaseComponent px1)
</span><a href="#local-6989586621679171937"><span class="hs-identifier hs-var">da</span></a></span><span>
</span><span id="line-306"></span><span>  </span><span>
</span><span id="line-307"></span><span id="local-6989586621679172102"><span id="local-6989586621679172103"><span class="annot"><a href="Codec.Picture.html#decimateWord32"><span class="hs-identifier hs-type">decimateWord32</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#Pixel"><span class="hs-identifier hs-type">Pixel</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679172103"><span class="hs-identifier hs-type">px1</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#Pixel"><span class="hs-identifier hs-type">Pixel</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679172102"><span class="hs-identifier hs-type">px2</span></a></span><span>
</span><span id="line-308"></span><span>                  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#PixelBaseComponent"><span class="hs-identifier hs-type">PixelBaseComponent</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679172103"><span class="hs-identifier hs-type">px1</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">~</span></span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#Pixel32"><span class="hs-identifier hs-type">Pixel32</span></a></span><span>
</span><span id="line-309"></span><span>                  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#PixelBaseComponent"><span class="hs-identifier hs-type">PixelBaseComponent</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679172102"><span class="hs-identifier hs-type">px2</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">~</span></span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#Pixel8"><span class="hs-identifier hs-type">Pixel8</span></a></span><span>
</span><span id="line-310"></span><span>                  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#Image"><span class="hs-identifier hs-type">Image</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679172103"><span class="hs-identifier hs-type">px1</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#Image"><span class="hs-identifier hs-type">Image</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679172102"><span class="hs-identifier hs-type">px2</span></a></span></span></span><span>
</span><span id="line-311"></span><span id="decimateWord32"><span class="annot"><span class="annottext">decimateWord32 :: Image px1 -&gt; Image px2
</span><a href="Codec.Picture.html#decimateWord32"><span class="hs-identifier hs-var hs-var">decimateWord32</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Codec.Picture.Types.html#Image"><span class="hs-identifier hs-type">Image</span></a></span><span> </span><span id="local-6989586621679171934"><span class="annot"><span class="annottext">GifDelay
</span><a href="#local-6989586621679171934"><span class="hs-identifier hs-var">w</span></a></span></span><span> </span><span id="local-6989586621679171933"><span class="annot"><span class="annottext">GifDelay
</span><a href="#local-6989586621679171933"><span class="hs-identifier hs-var">h</span></a></span></span><span> </span><span id="local-6989586621679171932"><span class="annot"><span class="annottext">Vector (PixelBaseComponent px1)
</span><a href="#local-6989586621679171932"><span class="hs-identifier hs-var">da</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-312"></span><span>  </span><span class="annot"><span class="annottext">GifDelay
-&gt; GifDelay -&gt; Vector (PixelBaseComponent px2) -&gt; Image px2
forall a.
GifDelay -&gt; GifDelay -&gt; Vector (PixelBaseComponent a) -&gt; Image a
</span><a href="Codec.Picture.Types.html#Image"><span class="hs-identifier hs-var">Image</span></a></span><span> </span><span class="annot"><span class="annottext">GifDelay
</span><a href="#local-6989586621679171934"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">GifDelay
</span><a href="#local-6989586621679171933"><span class="hs-identifier hs-var">h</span></a></span><span> </span><span class="annot"><span class="annottext">(Vector (PixelBaseComponent px2) -&gt; Image px2)
-&gt; Vector (PixelBaseComponent px2) -&gt; Image px2
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Pixel32 -&gt; Pixel8) -&gt; Vector Pixel32 -&gt; Vector Pixel8
forall a b.
(Storable a, Storable b) =&gt;
(a -&gt; b) -&gt; Vector a -&gt; Vector b
</span><span class="hs-identifier hs-var">VS.map</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679171931"><span class="annot"><span class="annottext">Pixel32
</span><a href="#local-6989586621679171931"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Pixel32 -&gt; Pixel8
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">(Pixel32 -&gt; Pixel8) -&gt; Pixel32 -&gt; Pixel8
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Pixel32
</span><a href="#local-6989586621679171931"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">Pixel32 -&gt; GifDelay -&gt; Pixel32
forall a. Bits a =&gt; a -&gt; GifDelay -&gt; a
</span><span class="hs-operator hs-var">`unsafeShiftR`</span></span><span> </span><span class="annot"><span class="annottext">GifDelay
</span><span class="hs-number">24</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Vector Pixel32
Vector (PixelBaseComponent px1)
</span><a href="#local-6989586621679171932"><span class="hs-identifier hs-var">da</span></a></span><span>
</span><span id="line-313"></span><span>
</span><span id="line-314"></span><span id="local-6989586621679172093"><span id="local-6989586621679172094"><span class="annot"><a href="Codec.Picture.html#decimateFloat"><span class="hs-identifier hs-type">decimateFloat</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#Pixel"><span class="hs-identifier hs-type">Pixel</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679172094"><span class="hs-identifier hs-type">px1</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#Pixel"><span class="hs-identifier hs-type">Pixel</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679172093"><span class="hs-identifier hs-type">px2</span></a></span><span>
</span><span id="line-315"></span><span>                 </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#PixelBaseComponent"><span class="hs-identifier hs-type">PixelBaseComponent</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679172094"><span class="hs-identifier hs-type">px1</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">~</span></span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#PixelF"><span class="hs-identifier hs-type">PixelF</span></a></span><span>
</span><span id="line-316"></span><span>                 </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#PixelBaseComponent"><span class="hs-identifier hs-type">PixelBaseComponent</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679172093"><span class="hs-identifier hs-type">px2</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">~</span></span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#Pixel8"><span class="hs-identifier hs-type">Pixel8</span></a></span><span>
</span><span id="line-317"></span><span>                 </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#Image"><span class="hs-identifier hs-type">Image</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679172094"><span class="hs-identifier hs-type">px1</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#Image"><span class="hs-identifier hs-type">Image</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679172093"><span class="hs-identifier hs-type">px2</span></a></span></span></span><span>
</span><span id="line-318"></span><span id="decimateFloat"><span class="annot"><span class="annottext">decimateFloat :: Image px1 -&gt; Image px2
</span><a href="Codec.Picture.html#decimateFloat"><span class="hs-identifier hs-var hs-var">decimateFloat</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Codec.Picture.Types.html#Image"><span class="hs-identifier hs-type">Image</span></a></span><span> </span><span id="local-6989586621679171929"><span class="annot"><span class="annottext">GifDelay
</span><a href="#local-6989586621679171929"><span class="hs-identifier hs-var">w</span></a></span></span><span> </span><span id="local-6989586621679171928"><span class="annot"><span class="annottext">GifDelay
</span><a href="#local-6989586621679171928"><span class="hs-identifier hs-var">h</span></a></span></span><span> </span><span id="local-6989586621679171927"><span class="annot"><span class="annottext">Vector (PixelBaseComponent px1)
</span><a href="#local-6989586621679171927"><span class="hs-identifier hs-var">da</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-319"></span><span>  </span><span class="annot"><span class="annottext">GifDelay
-&gt; GifDelay -&gt; Vector (PixelBaseComponent px2) -&gt; Image px2
forall a.
GifDelay -&gt; GifDelay -&gt; Vector (PixelBaseComponent a) -&gt; Image a
</span><a href="Codec.Picture.Types.html#Image"><span class="hs-identifier hs-var">Image</span></a></span><span> </span><span class="annot"><span class="annottext">GifDelay
</span><a href="#local-6989586621679171929"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">GifDelay
</span><a href="#local-6989586621679171928"><span class="hs-identifier hs-var">h</span></a></span><span> </span><span class="annot"><span class="annottext">(Vector (PixelBaseComponent px2) -&gt; Image px2)
-&gt; Vector (PixelBaseComponent px2) -&gt; Image px2
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(PixelF -&gt; Pixel8) -&gt; Vector PixelF -&gt; Vector Pixel8
forall a b.
(Storable a, Storable b) =&gt;
(a -&gt; b) -&gt; Vector a -&gt; Vector b
</span><span class="hs-identifier hs-var">VS.map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PixelF -&gt; Pixel8
forall a b. (RealFrac a, Integral b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">floor</span></span><span> </span><span class="annot"><span class="annottext">(PixelF -&gt; Pixel8) -&gt; (PixelF -&gt; PixelF) -&gt; PixelF -&gt; Pixel8
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PixelF
</span><span class="hs-number">255</span></span><span class="annot"><span class="annottext">PixelF -&gt; PixelF -&gt; PixelF
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(PixelF -&gt; PixelF) -&gt; (PixelF -&gt; PixelF) -&gt; PixelF -&gt; PixelF
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">PixelF -&gt; PixelF -&gt; PixelF
forall a. Ord a =&gt; a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var">max</span></span><span> </span><span class="annot"><span class="annottext">PixelF
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">(PixelF -&gt; PixelF) -&gt; (PixelF -&gt; PixelF) -&gt; PixelF -&gt; PixelF
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">PixelF -&gt; PixelF -&gt; PixelF
forall a. Ord a =&gt; a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var">min</span></span><span> </span><span class="annot"><span class="annottext">PixelF
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Vector PixelF
Vector (PixelBaseComponent px1)
</span><a href="#local-6989586621679171927"><span class="hs-identifier hs-var">da</span></a></span><span>
</span><span id="line-320"></span><span>
</span><span id="line-321"></span><span id="local-6989586621679172091"><span id="local-6989586621679172092"><span class="annot"><a href="Codec.Picture.html#decimateFloat16"><span class="hs-identifier hs-type">decimateFloat16</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#Pixel"><span class="hs-identifier hs-type">Pixel</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679172092"><span class="hs-identifier hs-type">px1</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#Pixel"><span class="hs-identifier hs-type">Pixel</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679172091"><span class="hs-identifier hs-type">px2</span></a></span><span>
</span><span id="line-322"></span><span>                 </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#PixelBaseComponent"><span class="hs-identifier hs-type">PixelBaseComponent</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679172092"><span class="hs-identifier hs-type">px1</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">~</span></span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#PixelF"><span class="hs-identifier hs-type">PixelF</span></a></span><span>
</span><span id="line-323"></span><span>                 </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#PixelBaseComponent"><span class="hs-identifier hs-type">PixelBaseComponent</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679172091"><span class="hs-identifier hs-type">px2</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">~</span></span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#Pixel16"><span class="hs-identifier hs-type">Pixel16</span></a></span><span>
</span><span id="line-324"></span><span>                 </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#Image"><span class="hs-identifier hs-type">Image</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679172092"><span class="hs-identifier hs-type">px1</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#Image"><span class="hs-identifier hs-type">Image</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679172091"><span class="hs-identifier hs-type">px2</span></a></span></span></span><span>
</span><span id="line-325"></span><span id="decimateFloat16"><span class="annot"><span class="annottext">decimateFloat16 :: Image px1 -&gt; Image px2
</span><a href="Codec.Picture.html#decimateFloat16"><span class="hs-identifier hs-var hs-var">decimateFloat16</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Codec.Picture.Types.html#Image"><span class="hs-identifier hs-type">Image</span></a></span><span> </span><span id="local-6989586621679171921"><span class="annot"><span class="annottext">GifDelay
</span><a href="#local-6989586621679171921"><span class="hs-identifier hs-var">w</span></a></span></span><span> </span><span id="local-6989586621679171920"><span class="annot"><span class="annottext">GifDelay
</span><a href="#local-6989586621679171920"><span class="hs-identifier hs-var">h</span></a></span></span><span> </span><span id="local-6989586621679171919"><span class="annot"><span class="annottext">Vector (PixelBaseComponent px1)
</span><a href="#local-6989586621679171919"><span class="hs-identifier hs-var">da</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-326"></span><span>  </span><span class="annot"><span class="annottext">GifDelay
-&gt; GifDelay -&gt; Vector (PixelBaseComponent px2) -&gt; Image px2
forall a.
GifDelay -&gt; GifDelay -&gt; Vector (PixelBaseComponent a) -&gt; Image a
</span><a href="Codec.Picture.Types.html#Image"><span class="hs-identifier hs-var">Image</span></a></span><span> </span><span class="annot"><span class="annottext">GifDelay
</span><a href="#local-6989586621679171921"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">GifDelay
</span><a href="#local-6989586621679171920"><span class="hs-identifier hs-var">h</span></a></span><span> </span><span class="annot"><span class="annottext">(Vector (PixelBaseComponent px2) -&gt; Image px2)
-&gt; Vector (PixelBaseComponent px2) -&gt; Image px2
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(PixelF -&gt; Pixel16) -&gt; Vector PixelF -&gt; Vector Pixel16
forall a b.
(Storable a, Storable b) =&gt;
(a -&gt; b) -&gt; Vector a -&gt; Vector b
</span><span class="hs-identifier hs-var">VS.map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PixelF -&gt; Pixel16
forall a b. (RealFrac a, Integral b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">floor</span></span><span> </span><span class="annot"><span class="annottext">(PixelF -&gt; Pixel16) -&gt; (PixelF -&gt; PixelF) -&gt; PixelF -&gt; Pixel16
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PixelF
</span><span class="hs-number">65535</span></span><span class="annot"><span class="annottext">PixelF -&gt; PixelF -&gt; PixelF
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(PixelF -&gt; PixelF) -&gt; (PixelF -&gt; PixelF) -&gt; PixelF -&gt; PixelF
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">PixelF -&gt; PixelF -&gt; PixelF
forall a. Ord a =&gt; a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var">max</span></span><span> </span><span class="annot"><span class="annottext">PixelF
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">(PixelF -&gt; PixelF) -&gt; (PixelF -&gt; PixelF) -&gt; PixelF -&gt; PixelF
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">PixelF -&gt; PixelF -&gt; PixelF
forall a. Ord a =&gt; a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var">min</span></span><span> </span><span class="annot"><span class="annottext">PixelF
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Vector PixelF
Vector (PixelBaseComponent px1)
</span><a href="#local-6989586621679171919"><span class="hs-identifier hs-var">da</span></a></span><span>
</span><span id="line-327"></span><span>
</span><span id="line-328"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Codec.Picture.html#Decimable"><span class="hs-identifier hs-type">Decimable</span></a></span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#Pixel16"><span class="hs-identifier hs-type">Pixel16</span></a></span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#Pixel8"><span class="hs-identifier hs-type">Pixel8</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-329"></span><span>   </span><span id="local-6989586621679171916"><span class="annot"><span class="annottext">decimateBitDepth :: Image Pixel16 -&gt; Image Pixel8
</span><a href="#local-6989586621679171916"><span class="hs-identifier hs-var hs-var hs-var hs-var">decimateBitDepth</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Image Pixel16 -&gt; Image Pixel8
forall px1 px2.
(Pixel px1, Pixel px2, PixelBaseComponent px1 ~ Pixel16,
 PixelBaseComponent px2 ~ Pixel8) =&gt;
Image px1 -&gt; Image px2
</span><a href="Codec.Picture.html#decimateWord16"><span class="hs-identifier hs-var">decimateWord16</span></a></span><span>
</span><span id="line-330"></span><span>
</span><span id="line-331"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Codec.Picture.html#Decimable"><span class="hs-identifier hs-type">Decimable</span></a></span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#Pixel32"><span class="hs-identifier hs-type">Pixel32</span></a></span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#Pixel16"><span class="hs-identifier hs-type">Pixel16</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-332"></span><span>   </span><span id="local-6989586621679171914"><span class="annot"><span class="annottext">decimateBitDepth :: Image Pixel32 -&gt; Image Pixel16
</span><a href="#local-6989586621679171914"><span class="hs-identifier hs-var hs-var hs-var hs-var">decimateBitDepth</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Image Pixel32 -&gt; Image Pixel16
forall px1 px2.
(Pixel px1, Pixel px2, PixelBaseComponent px1 ~ Pixel32,
 PixelBaseComponent px2 ~ Pixel16) =&gt;
Image px1 -&gt; Image px2
</span><a href="Codec.Picture.html#decimateWord3216"><span class="hs-identifier hs-var">decimateWord3216</span></a></span><span>
</span><span id="line-333"></span><span>
</span><span id="line-334"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Codec.Picture.html#Decimable"><span class="hs-identifier hs-type">Decimable</span></a></span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#Pixel32"><span class="hs-identifier hs-type">Pixel32</span></a></span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#Pixel8"><span class="hs-identifier hs-type">Pixel8</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-335"></span><span>   </span><span id="local-6989586621679171912"><span class="annot"><span class="annottext">decimateBitDepth :: Image Pixel32 -&gt; Image Pixel8
</span><a href="#local-6989586621679171912"><span class="hs-identifier hs-var hs-var hs-var hs-var">decimateBitDepth</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Image Pixel32 -&gt; Image Pixel8
forall px1 px2.
(Pixel px1, Pixel px2, PixelBaseComponent px1 ~ Pixel32,
 PixelBaseComponent px2 ~ Pixel8) =&gt;
Image px1 -&gt; Image px2
</span><a href="Codec.Picture.html#decimateWord32"><span class="hs-identifier hs-var">decimateWord32</span></a></span><span>
</span><span id="line-336"></span><span>
</span><span id="line-337"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Codec.Picture.html#Decimable"><span class="hs-identifier hs-type">Decimable</span></a></span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#PixelYA16"><span class="hs-identifier hs-type">PixelYA16</span></a></span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#PixelYA8"><span class="hs-identifier hs-type">PixelYA8</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-338"></span><span>   </span><span id="local-6989586621679171910"><span class="annot"><span class="annottext">decimateBitDepth :: Image PixelYA16 -&gt; Image PixelYA8
</span><a href="#local-6989586621679171910"><span class="hs-identifier hs-var hs-var hs-var hs-var">decimateBitDepth</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Image PixelYA16 -&gt; Image PixelYA8
forall px1 px2.
(Pixel px1, Pixel px2, PixelBaseComponent px1 ~ Pixel16,
 PixelBaseComponent px2 ~ Pixel8) =&gt;
Image px1 -&gt; Image px2
</span><a href="Codec.Picture.html#decimateWord16"><span class="hs-identifier hs-var">decimateWord16</span></a></span><span>
</span><span id="line-339"></span><span>
</span><span id="line-340"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Codec.Picture.html#Decimable"><span class="hs-identifier hs-type">Decimable</span></a></span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#PixelRGB16"><span class="hs-identifier hs-type">PixelRGB16</span></a></span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#PixelRGB8"><span class="hs-identifier hs-type">PixelRGB8</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-341"></span><span>   </span><span id="local-6989586621679171908"><span class="annot"><span class="annottext">decimateBitDepth :: Image PixelRGB16 -&gt; Image PixelRGB8
</span><a href="#local-6989586621679171908"><span class="hs-identifier hs-var hs-var hs-var hs-var">decimateBitDepth</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Image PixelRGB16 -&gt; Image PixelRGB8
forall px1 px2.
(Pixel px1, Pixel px2, PixelBaseComponent px1 ~ Pixel16,
 PixelBaseComponent px2 ~ Pixel8) =&gt;
Image px1 -&gt; Image px2
</span><a href="Codec.Picture.html#decimateWord16"><span class="hs-identifier hs-var">decimateWord16</span></a></span><span>
</span><span id="line-342"></span><span>
</span><span id="line-343"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Codec.Picture.html#Decimable"><span class="hs-identifier hs-type">Decimable</span></a></span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#PixelRGBA16"><span class="hs-identifier hs-type">PixelRGBA16</span></a></span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#PixelRGBA8"><span class="hs-identifier hs-type">PixelRGBA8</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-344"></span><span>   </span><span id="local-6989586621679171906"><span class="annot"><span class="annottext">decimateBitDepth :: Image PixelRGBA16 -&gt; Image PixelRGBA8
</span><a href="#local-6989586621679171906"><span class="hs-identifier hs-var hs-var hs-var hs-var">decimateBitDepth</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Image PixelRGBA16 -&gt; Image PixelRGBA8
forall px1 px2.
(Pixel px1, Pixel px2, PixelBaseComponent px1 ~ Pixel16,
 PixelBaseComponent px2 ~ Pixel8) =&gt;
Image px1 -&gt; Image px2
</span><a href="Codec.Picture.html#decimateWord16"><span class="hs-identifier hs-var">decimateWord16</span></a></span><span>
</span><span id="line-345"></span><span>
</span><span id="line-346"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Codec.Picture.html#Decimable"><span class="hs-identifier hs-type">Decimable</span></a></span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#PixelCMYK16"><span class="hs-identifier hs-type">PixelCMYK16</span></a></span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#PixelCMYK8"><span class="hs-identifier hs-type">PixelCMYK8</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-347"></span><span>   </span><span id="local-6989586621679171904"><span class="annot"><span class="annottext">decimateBitDepth :: Image PixelCMYK16 -&gt; Image PixelCMYK8
</span><a href="#local-6989586621679171904"><span class="hs-identifier hs-var hs-var hs-var hs-var">decimateBitDepth</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Image PixelCMYK16 -&gt; Image PixelCMYK8
forall px1 px2.
(Pixel px1, Pixel px2, PixelBaseComponent px1 ~ Pixel16,
 PixelBaseComponent px2 ~ Pixel8) =&gt;
Image px1 -&gt; Image px2
</span><a href="Codec.Picture.html#decimateWord16"><span class="hs-identifier hs-var">decimateWord16</span></a></span><span>
</span><span id="line-348"></span><span>
</span><span id="line-349"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Codec.Picture.html#Decimable"><span class="hs-identifier hs-type">Decimable</span></a></span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#PixelF"><span class="hs-identifier hs-type">PixelF</span></a></span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#Pixel8"><span class="hs-identifier hs-type">Pixel8</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-350"></span><span>   </span><span id="local-6989586621679171902"><span class="annot"><span class="annottext">decimateBitDepth :: Image PixelF -&gt; Image Pixel8
</span><a href="#local-6989586621679171902"><span class="hs-identifier hs-var hs-var hs-var hs-var">decimateBitDepth</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Image PixelF -&gt; Image Pixel8
forall px1 px2.
(Pixel px1, Pixel px2, PixelBaseComponent px1 ~ PixelF,
 PixelBaseComponent px2 ~ Pixel8) =&gt;
Image px1 -&gt; Image px2
</span><a href="Codec.Picture.html#decimateFloat"><span class="hs-identifier hs-var">decimateFloat</span></a></span><span>
</span><span id="line-351"></span><span>
</span><span id="line-352"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Codec.Picture.html#Decimable"><span class="hs-identifier hs-type">Decimable</span></a></span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#PixelF"><span class="hs-identifier hs-type">PixelF</span></a></span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#Pixel16"><span class="hs-identifier hs-type">Pixel16</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-353"></span><span>   </span><span id="local-6989586621679171900"><span class="annot"><span class="annottext">decimateBitDepth :: Image PixelF -&gt; Image Pixel16
</span><a href="#local-6989586621679171900"><span class="hs-identifier hs-var hs-var hs-var hs-var">decimateBitDepth</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Image PixelF -&gt; Image Pixel16
forall px1 px2.
(Pixel px1, Pixel px2, PixelBaseComponent px1 ~ PixelF,
 PixelBaseComponent px2 ~ Pixel16) =&gt;
Image px1 -&gt; Image px2
</span><a href="Codec.Picture.html#decimateFloat16"><span class="hs-identifier hs-var">decimateFloat16</span></a></span><span>
</span><span id="line-354"></span><span>
</span><span id="line-355"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Codec.Picture.html#Decimable"><span class="hs-identifier hs-type">Decimable</span></a></span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#PixelRGBF"><span class="hs-identifier hs-type">PixelRGBF</span></a></span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#PixelRGB8"><span class="hs-identifier hs-type">PixelRGB8</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-356"></span><span>   </span><span id="local-6989586621679171898"><span class="annot"><span class="annottext">decimateBitDepth :: Image PixelRGBF -&gt; Image PixelRGB8
</span><a href="#local-6989586621679171898"><span class="hs-identifier hs-var hs-var hs-var hs-var">decimateBitDepth</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Image PixelRGBF -&gt; Image PixelRGB8
forall px1 px2.
(Pixel px1, Pixel px2, PixelBaseComponent px1 ~ PixelF,
 PixelBaseComponent px2 ~ Pixel8) =&gt;
Image px1 -&gt; Image px2
</span><a href="Codec.Picture.html#decimateFloat"><span class="hs-identifier hs-var">decimateFloat</span></a></span><span>
</span><span id="line-357"></span><span>
</span><span id="line-358"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Codec.Picture.html#Decimable"><span class="hs-identifier hs-type">Decimable</span></a></span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#PixelRGBF"><span class="hs-identifier hs-type">PixelRGBF</span></a></span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#PixelRGB16"><span class="hs-identifier hs-type">PixelRGB16</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-359"></span><span>   </span><span id="local-6989586621679171896"><span class="annot"><span class="annottext">decimateBitDepth :: Image PixelRGBF -&gt; Image PixelRGB16
</span><a href="#local-6989586621679171896"><span class="hs-identifier hs-var hs-var hs-var hs-var">decimateBitDepth</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Image PixelRGBF -&gt; Image PixelRGB16
forall px1 px2.
(Pixel px1, Pixel px2, PixelBaseComponent px1 ~ PixelF,
 PixelBaseComponent px2 ~ Pixel16) =&gt;
Image px1 -&gt; Image px2
</span><a href="Codec.Picture.html#decimateFloat16"><span class="hs-identifier hs-var">decimateFloat16</span></a></span><span>
</span><span id="line-360"></span><span>
</span><span id="line-361"></span><span class="hs-comment">-- | Convert by any means possible a dynamic image to an image</span><span>
</span><span id="line-362"></span><span class="hs-comment">-- in RGBA. The process can lose precision while converting from</span><span>
</span><span id="line-363"></span><span class="hs-comment">-- 16bits pixels or Floating point pixels.</span><span>
</span><span id="line-364"></span><span class="annot"><a href="Codec.Picture.html#convertRGBA8"><span class="hs-identifier hs-type">convertRGBA8</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#DynamicImage"><span class="hs-identifier hs-type">DynamicImage</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#Image"><span class="hs-identifier hs-type">Image</span></a></span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#PixelRGBA8"><span class="hs-identifier hs-type">PixelRGBA8</span></a></span><span>
</span><span id="line-365"></span><span id="convertRGBA8"><span class="annot"><span class="annottext">convertRGBA8 :: DynamicImage -&gt; Image PixelRGBA8
</span><a href="Codec.Picture.html#convertRGBA8"><span class="hs-identifier hs-var hs-var">convertRGBA8</span></a></span></span><span> </span><span id="local-6989586621679171895"><span class="annot"><span class="annottext">DynamicImage
</span><a href="#local-6989586621679171895"><span class="hs-identifier hs-var">dynImage</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">DynamicImage
</span><a href="#local-6989586621679171895"><span class="hs-identifier hs-var">dynImage</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-366"></span><span>  </span><span class="annot"><a href="Codec.Picture.Types.html#ImageY8"><span class="hs-identifier hs-type">ImageY8</span></a></span><span>     </span><span id="local-6989586621679171893"><span class="annot"><span class="annottext">Image Pixel8
</span><a href="#local-6989586621679171893"><span class="hs-identifier hs-var">img</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Image Pixel8 -&gt; Image PixelRGBA8
forall a b. ColorConvertible a b =&gt; Image a -&gt; Image b
</span><a href="Codec.Picture.Types.html#promoteImage"><span class="hs-identifier hs-var">promoteImage</span></a></span><span> </span><span class="annot"><span class="annottext">Image Pixel8
</span><a href="#local-6989586621679171893"><span class="hs-identifier hs-var">img</span></a></span><span>
</span><span id="line-367"></span><span>  </span><span class="annot"><a href="Codec.Picture.Types.html#ImageY16"><span class="hs-identifier hs-type">ImageY16</span></a></span><span>    </span><span id="local-6989586621679171890"><span class="annot"><span class="annottext">Image Pixel16
</span><a href="#local-6989586621679171890"><span class="hs-identifier hs-var">img</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Image Pixel8 -&gt; Image PixelRGBA8
forall a b. ColorConvertible a b =&gt; Image a -&gt; Image b
</span><a href="Codec.Picture.Types.html#promoteImage"><span class="hs-identifier hs-var">promoteImage</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Image Pixel16 -&gt; Image Pixel8
forall px1 px2. Decimable px1 px2 =&gt; Image px1 -&gt; Image px2
</span><a href="Codec.Picture.html#decimateBitDepth"><span class="hs-identifier hs-var">decimateBitDepth</span></a></span><span> </span><span class="annot"><span class="annottext">Image Pixel16
</span><a href="#local-6989586621679171890"><span class="hs-identifier hs-var">img</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#Image"><span class="hs-identifier hs-type">Image</span></a></span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#Pixel8"><span class="hs-identifier hs-type">Pixel8</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-368"></span><span>  </span><span class="annot"><a href="Codec.Picture.Types.html#ImageY32"><span class="hs-identifier hs-type">ImageY32</span></a></span><span>    </span><span id="local-6989586621679171888"><span class="annot"><span class="annottext">Image Pixel32
</span><a href="#local-6989586621679171888"><span class="hs-identifier hs-var">img</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Image Pixel8 -&gt; Image PixelRGBA8
forall a b. ColorConvertible a b =&gt; Image a -&gt; Image b
</span><a href="Codec.Picture.Types.html#promoteImage"><span class="hs-identifier hs-var">promoteImage</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Image Pixel32 -&gt; Image Pixel8
forall px1 px2. Decimable px1 px2 =&gt; Image px1 -&gt; Image px2
</span><a href="Codec.Picture.html#decimateBitDepth"><span class="hs-identifier hs-var">decimateBitDepth</span></a></span><span> </span><span class="annot"><span class="annottext">Image Pixel32
</span><a href="#local-6989586621679171888"><span class="hs-identifier hs-var">img</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#Image"><span class="hs-identifier hs-type">Image</span></a></span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#Pixel8"><span class="hs-identifier hs-type">Pixel8</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-369"></span><span>  </span><span class="annot"><a href="Codec.Picture.Types.html#ImageYF"><span class="hs-identifier hs-type">ImageYF</span></a></span><span>     </span><span id="local-6989586621679171886"><span class="annot"><span class="annottext">Image PixelF
</span><a href="#local-6989586621679171886"><span class="hs-identifier hs-var">img</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Image Pixel8 -&gt; Image PixelRGBA8
forall a b. ColorConvertible a b =&gt; Image a -&gt; Image b
</span><a href="Codec.Picture.Types.html#promoteImage"><span class="hs-identifier hs-var">promoteImage</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Image PixelF -&gt; Image Pixel8
forall px1 px2. Decimable px1 px2 =&gt; Image px1 -&gt; Image px2
</span><a href="Codec.Picture.html#decimateBitDepth"><span class="hs-identifier hs-var">decimateBitDepth</span></a></span><span> </span><span class="annot"><span class="annottext">Image PixelF
</span><a href="#local-6989586621679171886"><span class="hs-identifier hs-var">img</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#Image"><span class="hs-identifier hs-type">Image</span></a></span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#Pixel8"><span class="hs-identifier hs-type">Pixel8</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-370"></span><span>  </span><span class="annot"><a href="Codec.Picture.Types.html#ImageYA8"><span class="hs-identifier hs-type">ImageYA8</span></a></span><span>    </span><span id="local-6989586621679171884"><span class="annot"><span class="annottext">Image PixelYA8
</span><a href="#local-6989586621679171884"><span class="hs-identifier hs-var">img</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Image PixelYA8 -&gt; Image PixelRGBA8
forall a b. ColorConvertible a b =&gt; Image a -&gt; Image b
</span><a href="Codec.Picture.Types.html#promoteImage"><span class="hs-identifier hs-var">promoteImage</span></a></span><span> </span><span class="annot"><span class="annottext">Image PixelYA8
</span><a href="#local-6989586621679171884"><span class="hs-identifier hs-var">img</span></a></span><span>
</span><span id="line-371"></span><span>  </span><span class="annot"><a href="Codec.Picture.Types.html#ImageYA16"><span class="hs-identifier hs-type">ImageYA16</span></a></span><span>   </span><span id="local-6989586621679171882"><span class="annot"><span class="annottext">Image PixelYA16
</span><a href="#local-6989586621679171882"><span class="hs-identifier hs-var">img</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Image PixelYA8 -&gt; Image PixelRGBA8
forall a b. ColorConvertible a b =&gt; Image a -&gt; Image b
</span><a href="Codec.Picture.Types.html#promoteImage"><span class="hs-identifier hs-var">promoteImage</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Image PixelYA16 -&gt; Image PixelYA8
forall px1 px2. Decimable px1 px2 =&gt; Image px1 -&gt; Image px2
</span><a href="Codec.Picture.html#decimateBitDepth"><span class="hs-identifier hs-var">decimateBitDepth</span></a></span><span> </span><span class="annot"><span class="annottext">Image PixelYA16
</span><a href="#local-6989586621679171882"><span class="hs-identifier hs-var">img</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#Image"><span class="hs-identifier hs-type">Image</span></a></span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#PixelYA8"><span class="hs-identifier hs-type">PixelYA8</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-372"></span><span>  </span><span class="annot"><a href="Codec.Picture.Types.html#ImageRGB8"><span class="hs-identifier hs-type">ImageRGB8</span></a></span><span>   </span><span id="local-6989586621679171880"><span class="annot"><span class="annottext">Image PixelRGB8
</span><a href="#local-6989586621679171880"><span class="hs-identifier hs-var">img</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Image PixelRGB8 -&gt; Image PixelRGBA8
forall a b. ColorConvertible a b =&gt; Image a -&gt; Image b
</span><a href="Codec.Picture.Types.html#promoteImage"><span class="hs-identifier hs-var">promoteImage</span></a></span><span> </span><span class="annot"><span class="annottext">Image PixelRGB8
</span><a href="#local-6989586621679171880"><span class="hs-identifier hs-var">img</span></a></span><span>
</span><span id="line-373"></span><span>  </span><span class="annot"><a href="Codec.Picture.Types.html#ImageRGB16"><span class="hs-identifier hs-type">ImageRGB16</span></a></span><span>  </span><span id="local-6989586621679171878"><span class="annot"><span class="annottext">Image PixelRGB16
</span><a href="#local-6989586621679171878"><span class="hs-identifier hs-var">img</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Image PixelRGB8 -&gt; Image PixelRGBA8
forall a b. ColorConvertible a b =&gt; Image a -&gt; Image b
</span><a href="Codec.Picture.Types.html#promoteImage"><span class="hs-identifier hs-var">promoteImage</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Image PixelRGB16 -&gt; Image PixelRGB8
forall px1 px2. Decimable px1 px2 =&gt; Image px1 -&gt; Image px2
</span><a href="Codec.Picture.html#decimateBitDepth"><span class="hs-identifier hs-var">decimateBitDepth</span></a></span><span> </span><span class="annot"><span class="annottext">Image PixelRGB16
</span><a href="#local-6989586621679171878"><span class="hs-identifier hs-var">img</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#Image"><span class="hs-identifier hs-type">Image</span></a></span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#PixelRGB8"><span class="hs-identifier hs-type">PixelRGB8</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-374"></span><span>  </span><span class="annot"><a href="Codec.Picture.Types.html#ImageRGBF"><span class="hs-identifier hs-type">ImageRGBF</span></a></span><span>   </span><span id="local-6989586621679171876"><span class="annot"><span class="annottext">Image PixelRGBF
</span><a href="#local-6989586621679171876"><span class="hs-identifier hs-var">img</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Image PixelRGB8 -&gt; Image PixelRGBA8
forall a b. ColorConvertible a b =&gt; Image a -&gt; Image b
</span><a href="Codec.Picture.Types.html#promoteImage"><span class="hs-identifier hs-var">promoteImage</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Image PixelRGBF -&gt; Image PixelRGB8
forall px1 px2. Decimable px1 px2 =&gt; Image px1 -&gt; Image px2
</span><a href="Codec.Picture.html#decimateBitDepth"><span class="hs-identifier hs-var">decimateBitDepth</span></a></span><span> </span><span class="annot"><span class="annottext">Image PixelRGBF
</span><a href="#local-6989586621679171876"><span class="hs-identifier hs-var">img</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#Image"><span class="hs-identifier hs-type">Image</span></a></span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#PixelRGB8"><span class="hs-identifier hs-type">PixelRGB8</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-375"></span><span>  </span><span class="annot"><a href="Codec.Picture.Types.html#ImageRGBA8"><span class="hs-identifier hs-type">ImageRGBA8</span></a></span><span>  </span><span id="local-6989586621679171874"><span class="annot"><span class="annottext">Image PixelRGBA8
</span><a href="#local-6989586621679171874"><span class="hs-identifier hs-var">img</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Image PixelRGBA8 -&gt; Image PixelRGBA8
forall a b. ColorConvertible a b =&gt; Image a -&gt; Image b
</span><a href="Codec.Picture.Types.html#promoteImage"><span class="hs-identifier hs-var">promoteImage</span></a></span><span> </span><span class="annot"><span class="annottext">Image PixelRGBA8
</span><a href="#local-6989586621679171874"><span class="hs-identifier hs-var">img</span></a></span><span>
</span><span id="line-376"></span><span>  </span><span class="annot"><a href="Codec.Picture.Types.html#ImageRGBA16"><span class="hs-identifier hs-type">ImageRGBA16</span></a></span><span> </span><span id="local-6989586621679171872"><span class="annot"><span class="annottext">Image PixelRGBA16
</span><a href="#local-6989586621679171872"><span class="hs-identifier hs-var">img</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Image PixelRGBA16 -&gt; Image PixelRGBA8
forall px1 px2. Decimable px1 px2 =&gt; Image px1 -&gt; Image px2
</span><a href="Codec.Picture.html#decimateBitDepth"><span class="hs-identifier hs-var">decimateBitDepth</span></a></span><span> </span><span class="annot"><span class="annottext">Image PixelRGBA16
</span><a href="#local-6989586621679171872"><span class="hs-identifier hs-var">img</span></a></span><span>
</span><span id="line-377"></span><span>  </span><span class="annot"><a href="Codec.Picture.Types.html#ImageYCbCr8"><span class="hs-identifier hs-type">ImageYCbCr8</span></a></span><span> </span><span id="local-6989586621679171870"><span class="annot"><span class="annottext">Image PixelYCbCr8
</span><a href="#local-6989586621679171870"><span class="hs-identifier hs-var">img</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Image PixelRGB8 -&gt; Image PixelRGBA8
forall a b. ColorConvertible a b =&gt; Image a -&gt; Image b
</span><a href="Codec.Picture.Types.html#promoteImage"><span class="hs-identifier hs-var">promoteImage</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Image PixelYCbCr8 -&gt; Image PixelRGB8
forall a b. ColorSpaceConvertible a b =&gt; Image a -&gt; Image b
</span><a href="Codec.Picture.Types.html#convertImage"><span class="hs-identifier hs-var">convertImage</span></a></span><span> </span><span class="annot"><span class="annottext">Image PixelYCbCr8
</span><a href="#local-6989586621679171870"><span class="hs-identifier hs-var">img</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#Image"><span class="hs-identifier hs-type">Image</span></a></span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#PixelRGB8"><span class="hs-identifier hs-type">PixelRGB8</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-378"></span><span>  </span><span class="annot"><a href="Codec.Picture.Types.html#ImageCMYK8"><span class="hs-identifier hs-type">ImageCMYK8</span></a></span><span>  </span><span id="local-6989586621679171867"><span class="annot"><span class="annottext">Image PixelCMYK8
</span><a href="#local-6989586621679171867"><span class="hs-identifier hs-var">img</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Image PixelRGB8 -&gt; Image PixelRGBA8
forall a b. ColorConvertible a b =&gt; Image a -&gt; Image b
</span><a href="Codec.Picture.Types.html#promoteImage"><span class="hs-identifier hs-var">promoteImage</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Image PixelCMYK8 -&gt; Image PixelRGB8
forall a b. ColorSpaceConvertible a b =&gt; Image a -&gt; Image b
</span><a href="Codec.Picture.Types.html#convertImage"><span class="hs-identifier hs-var">convertImage</span></a></span><span> </span><span class="annot"><span class="annottext">Image PixelCMYK8
</span><a href="#local-6989586621679171867"><span class="hs-identifier hs-var">img</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#Image"><span class="hs-identifier hs-type">Image</span></a></span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#PixelRGB8"><span class="hs-identifier hs-type">PixelRGB8</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-379"></span><span>  </span><span class="annot"><a href="Codec.Picture.Types.html#ImageCMYK16"><span class="hs-identifier hs-type">ImageCMYK16</span></a></span><span> </span><span id="local-6989586621679171865"><span class="annot"><span class="annottext">Image PixelCMYK16
</span><a href="#local-6989586621679171865"><span class="hs-identifier hs-var">img</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-380"></span><span>    </span><span class="annot"><span class="annottext">Image PixelRGB8 -&gt; Image PixelRGBA8
forall a b. ColorConvertible a b =&gt; Image a -&gt; Image b
</span><a href="Codec.Picture.Types.html#promoteImage"><span class="hs-identifier hs-var">promoteImage</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Image PixelCMYK8 -&gt; Image PixelRGB8
forall a b. ColorSpaceConvertible a b =&gt; Image a -&gt; Image b
</span><a href="Codec.Picture.Types.html#convertImage"><span class="hs-identifier hs-var">convertImage</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Image PixelCMYK16 -&gt; Image PixelCMYK8
forall px1 px2. Decimable px1 px2 =&gt; Image px1 -&gt; Image px2
</span><a href="Codec.Picture.html#decimateBitDepth"><span class="hs-identifier hs-var">decimateBitDepth</span></a></span><span> </span><span class="annot"><span class="annottext">Image PixelCMYK16
</span><a href="#local-6989586621679171865"><span class="hs-identifier hs-var">img</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#Image"><span class="hs-identifier hs-type">Image</span></a></span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#PixelCMYK8"><span class="hs-identifier hs-type">PixelCMYK8</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#Image"><span class="hs-identifier hs-type">Image</span></a></span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#PixelRGB8"><span class="hs-identifier hs-type">PixelRGB8</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-381"></span><span>
</span><span id="line-382"></span><span class="hs-comment">-- | Convert by any means possible a dynamic image to an image</span><span>
</span><span id="line-383"></span><span class="hs-comment">-- in RGB. The process can lose precision while converting from</span><span>
</span><span id="line-384"></span><span class="hs-comment">-- 16bits pixels or Floating point pixels. Any alpha layer will</span><span>
</span><span id="line-385"></span><span class="hs-comment">-- be dropped</span><span>
</span><span id="line-386"></span><span class="annot"><a href="Codec.Picture.html#convertRGB8"><span class="hs-identifier hs-type">convertRGB8</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#DynamicImage"><span class="hs-identifier hs-type">DynamicImage</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#Image"><span class="hs-identifier hs-type">Image</span></a></span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#PixelRGB8"><span class="hs-identifier hs-type">PixelRGB8</span></a></span><span>
</span><span id="line-387"></span><span id="convertRGB8"><span class="annot"><span class="annottext">convertRGB8 :: DynamicImage -&gt; Image PixelRGB8
</span><a href="Codec.Picture.html#convertRGB8"><span class="hs-identifier hs-var hs-var">convertRGB8</span></a></span></span><span> </span><span id="local-6989586621679171864"><span class="annot"><span class="annottext">DynamicImage
</span><a href="#local-6989586621679171864"><span class="hs-identifier hs-var">dynImage</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">DynamicImage
</span><a href="#local-6989586621679171864"><span class="hs-identifier hs-var">dynImage</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-388"></span><span>  </span><span class="annot"><a href="Codec.Picture.Types.html#ImageY8"><span class="hs-identifier hs-type">ImageY8</span></a></span><span>     </span><span id="local-6989586621679171863"><span class="annot"><span class="annottext">Image Pixel8
</span><a href="#local-6989586621679171863"><span class="hs-identifier hs-var">img</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Image Pixel8 -&gt; Image PixelRGB8
forall a b. ColorConvertible a b =&gt; Image a -&gt; Image b
</span><a href="Codec.Picture.Types.html#promoteImage"><span class="hs-identifier hs-var">promoteImage</span></a></span><span> </span><span class="annot"><span class="annottext">Image Pixel8
</span><a href="#local-6989586621679171863"><span class="hs-identifier hs-var">img</span></a></span><span>
</span><span id="line-389"></span><span>  </span><span class="annot"><a href="Codec.Picture.Types.html#ImageY16"><span class="hs-identifier hs-type">ImageY16</span></a></span><span>    </span><span id="local-6989586621679171862"><span class="annot"><span class="annottext">Image Pixel16
</span><a href="#local-6989586621679171862"><span class="hs-identifier hs-var">img</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Image Pixel8 -&gt; Image PixelRGB8
forall a b. ColorConvertible a b =&gt; Image a -&gt; Image b
</span><a href="Codec.Picture.Types.html#promoteImage"><span class="hs-identifier hs-var">promoteImage</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Image Pixel16 -&gt; Image Pixel8
forall px1 px2. Decimable px1 px2 =&gt; Image px1 -&gt; Image px2
</span><a href="Codec.Picture.html#decimateBitDepth"><span class="hs-identifier hs-var">decimateBitDepth</span></a></span><span> </span><span class="annot"><span class="annottext">Image Pixel16
</span><a href="#local-6989586621679171862"><span class="hs-identifier hs-var">img</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#Image"><span class="hs-identifier hs-type">Image</span></a></span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#Pixel8"><span class="hs-identifier hs-type">Pixel8</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-390"></span><span>  </span><span class="annot"><a href="Codec.Picture.Types.html#ImageY32"><span class="hs-identifier hs-type">ImageY32</span></a></span><span>    </span><span id="local-6989586621679171861"><span class="annot"><span class="annottext">Image Pixel32
</span><a href="#local-6989586621679171861"><span class="hs-identifier hs-var">img</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Image Pixel8 -&gt; Image PixelRGB8
forall a b. ColorConvertible a b =&gt; Image a -&gt; Image b
</span><a href="Codec.Picture.Types.html#promoteImage"><span class="hs-identifier hs-var">promoteImage</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Image Pixel32 -&gt; Image Pixel8
forall px1 px2. Decimable px1 px2 =&gt; Image px1 -&gt; Image px2
</span><a href="Codec.Picture.html#decimateBitDepth"><span class="hs-identifier hs-var">decimateBitDepth</span></a></span><span> </span><span class="annot"><span class="annottext">Image Pixel32
</span><a href="#local-6989586621679171861"><span class="hs-identifier hs-var">img</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#Image"><span class="hs-identifier hs-type">Image</span></a></span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#Pixel8"><span class="hs-identifier hs-type">Pixel8</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-391"></span><span>  </span><span class="annot"><a href="Codec.Picture.Types.html#ImageYF"><span class="hs-identifier hs-type">ImageYF</span></a></span><span>     </span><span id="local-6989586621679171860"><span class="annot"><span class="annottext">Image PixelF
</span><a href="#local-6989586621679171860"><span class="hs-identifier hs-var">img</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Image Pixel8 -&gt; Image PixelRGB8
forall a b. ColorConvertible a b =&gt; Image a -&gt; Image b
</span><a href="Codec.Picture.Types.html#promoteImage"><span class="hs-identifier hs-var">promoteImage</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Image PixelF -&gt; Image Pixel8
forall px1 px2. Decimable px1 px2 =&gt; Image px1 -&gt; Image px2
</span><a href="Codec.Picture.html#decimateBitDepth"><span class="hs-identifier hs-var">decimateBitDepth</span></a></span><span> </span><span class="annot"><span class="annottext">Image PixelF
</span><a href="#local-6989586621679171860"><span class="hs-identifier hs-var">img</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#Image"><span class="hs-identifier hs-type">Image</span></a></span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#Pixel8"><span class="hs-identifier hs-type">Pixel8</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-392"></span><span>  </span><span class="annot"><a href="Codec.Picture.Types.html#ImageYA8"><span class="hs-identifier hs-type">ImageYA8</span></a></span><span>    </span><span id="local-6989586621679171859"><span class="annot"><span class="annottext">Image PixelYA8
</span><a href="#local-6989586621679171859"><span class="hs-identifier hs-var">img</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Image PixelYA8 -&gt; Image PixelRGB8
forall a b. ColorConvertible a b =&gt; Image a -&gt; Image b
</span><a href="Codec.Picture.Types.html#promoteImage"><span class="hs-identifier hs-var">promoteImage</span></a></span><span> </span><span class="annot"><span class="annottext">Image PixelYA8
</span><a href="#local-6989586621679171859"><span class="hs-identifier hs-var">img</span></a></span><span>
</span><span id="line-393"></span><span>  </span><span class="annot"><a href="Codec.Picture.Types.html#ImageYA16"><span class="hs-identifier hs-type">ImageYA16</span></a></span><span>   </span><span id="local-6989586621679171858"><span class="annot"><span class="annottext">Image PixelYA16
</span><a href="#local-6989586621679171858"><span class="hs-identifier hs-var">img</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Image PixelYA8 -&gt; Image PixelRGB8
forall a b. ColorConvertible a b =&gt; Image a -&gt; Image b
</span><a href="Codec.Picture.Types.html#promoteImage"><span class="hs-identifier hs-var">promoteImage</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Image PixelYA16 -&gt; Image PixelYA8
forall px1 px2. Decimable px1 px2 =&gt; Image px1 -&gt; Image px2
</span><a href="Codec.Picture.html#decimateBitDepth"><span class="hs-identifier hs-var">decimateBitDepth</span></a></span><span> </span><span class="annot"><span class="annottext">Image PixelYA16
</span><a href="#local-6989586621679171858"><span class="hs-identifier hs-var">img</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#Image"><span class="hs-identifier hs-type">Image</span></a></span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#PixelYA8"><span class="hs-identifier hs-type">PixelYA8</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-394"></span><span>  </span><span class="annot"><a href="Codec.Picture.Types.html#ImageRGB8"><span class="hs-identifier hs-type">ImageRGB8</span></a></span><span>   </span><span id="local-6989586621679171857"><span class="annot"><span class="annottext">Image PixelRGB8
</span><a href="#local-6989586621679171857"><span class="hs-identifier hs-var">img</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Image PixelRGB8
</span><a href="#local-6989586621679171857"><span class="hs-identifier hs-var">img</span></a></span><span>
</span><span id="line-395"></span><span>  </span><span class="annot"><a href="Codec.Picture.Types.html#ImageRGB16"><span class="hs-identifier hs-type">ImageRGB16</span></a></span><span>  </span><span id="local-6989586621679171856"><span class="annot"><span class="annottext">Image PixelRGB16
</span><a href="#local-6989586621679171856"><span class="hs-identifier hs-var">img</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Image PixelRGB16 -&gt; Image PixelRGB8
forall px1 px2. Decimable px1 px2 =&gt; Image px1 -&gt; Image px2
</span><a href="Codec.Picture.html#decimateBitDepth"><span class="hs-identifier hs-var">decimateBitDepth</span></a></span><span> </span><span class="annot"><span class="annottext">Image PixelRGB16
</span><a href="#local-6989586621679171856"><span class="hs-identifier hs-var">img</span></a></span><span>
</span><span id="line-396"></span><span>  </span><span class="annot"><a href="Codec.Picture.Types.html#ImageRGBF"><span class="hs-identifier hs-type">ImageRGBF</span></a></span><span>   </span><span id="local-6989586621679171855"><span class="annot"><span class="annottext">Image PixelRGBF
</span><a href="#local-6989586621679171855"><span class="hs-identifier hs-var">img</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Image PixelRGBF -&gt; Image PixelRGB8
forall px1 px2. Decimable px1 px2 =&gt; Image px1 -&gt; Image px2
</span><a href="Codec.Picture.html#decimateBitDepth"><span class="hs-identifier hs-var">decimateBitDepth</span></a></span><span> </span><span class="annot"><span class="annottext">Image PixelRGBF
</span><a href="#local-6989586621679171855"><span class="hs-identifier hs-var">img</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#Image"><span class="hs-identifier hs-type">Image</span></a></span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#PixelRGB8"><span class="hs-identifier hs-type">PixelRGB8</span></a></span><span>
</span><span id="line-397"></span><span>  </span><span class="annot"><a href="Codec.Picture.Types.html#ImageRGBA8"><span class="hs-identifier hs-type">ImageRGBA8</span></a></span><span>  </span><span id="local-6989586621679171854"><span class="annot"><span class="annottext">Image PixelRGBA8
</span><a href="#local-6989586621679171854"><span class="hs-identifier hs-var">img</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Image PixelRGBA8 -&gt; Image PixelRGB8
forall a b. TransparentPixel a b =&gt; Image a -&gt; Image b
</span><a href="Codec.Picture.Types.html#dropAlphaLayer"><span class="hs-identifier hs-var">dropAlphaLayer</span></a></span><span> </span><span class="annot"><span class="annottext">Image PixelRGBA8
</span><a href="#local-6989586621679171854"><span class="hs-identifier hs-var">img</span></a></span><span>
</span><span id="line-398"></span><span>  </span><span class="annot"><a href="Codec.Picture.Types.html#ImageRGBA16"><span class="hs-identifier hs-type">ImageRGBA16</span></a></span><span> </span><span id="local-6989586621679171852"><span class="annot"><span class="annottext">Image PixelRGBA16
</span><a href="#local-6989586621679171852"><span class="hs-identifier hs-var">img</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Image PixelRGBA8 -&gt; Image PixelRGB8
forall a b. TransparentPixel a b =&gt; Image a -&gt; Image b
</span><a href="Codec.Picture.Types.html#dropAlphaLayer"><span class="hs-identifier hs-var">dropAlphaLayer</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Image PixelRGBA16 -&gt; Image PixelRGBA8
forall px1 px2. Decimable px1 px2 =&gt; Image px1 -&gt; Image px2
</span><a href="Codec.Picture.html#decimateBitDepth"><span class="hs-identifier hs-var">decimateBitDepth</span></a></span><span> </span><span class="annot"><span class="annottext">Image PixelRGBA16
</span><a href="#local-6989586621679171852"><span class="hs-identifier hs-var">img</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#Image"><span class="hs-identifier hs-type">Image</span></a></span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#PixelRGBA8"><span class="hs-identifier hs-type">PixelRGBA8</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-399"></span><span>  </span><span class="annot"><a href="Codec.Picture.Types.html#ImageYCbCr8"><span class="hs-identifier hs-type">ImageYCbCr8</span></a></span><span> </span><span id="local-6989586621679171851"><span class="annot"><span class="annottext">Image PixelYCbCr8
</span><a href="#local-6989586621679171851"><span class="hs-identifier hs-var">img</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Image PixelYCbCr8 -&gt; Image PixelRGB8
forall a b. ColorSpaceConvertible a b =&gt; Image a -&gt; Image b
</span><a href="Codec.Picture.Types.html#convertImage"><span class="hs-identifier hs-var">convertImage</span></a></span><span> </span><span class="annot"><span class="annottext">Image PixelYCbCr8
</span><a href="#local-6989586621679171851"><span class="hs-identifier hs-var">img</span></a></span><span>
</span><span id="line-400"></span><span>  </span><span class="annot"><a href="Codec.Picture.Types.html#ImageCMYK8"><span class="hs-identifier hs-type">ImageCMYK8</span></a></span><span>  </span><span id="local-6989586621679171850"><span class="annot"><span class="annottext">Image PixelCMYK8
</span><a href="#local-6989586621679171850"><span class="hs-identifier hs-var">img</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Image PixelCMYK8 -&gt; Image PixelRGB8
forall a b. ColorSpaceConvertible a b =&gt; Image a -&gt; Image b
</span><a href="Codec.Picture.Types.html#convertImage"><span class="hs-identifier hs-var">convertImage</span></a></span><span> </span><span class="annot"><span class="annottext">Image PixelCMYK8
</span><a href="#local-6989586621679171850"><span class="hs-identifier hs-var">img</span></a></span><span>
</span><span id="line-401"></span><span>  </span><span class="annot"><a href="Codec.Picture.Types.html#ImageCMYK16"><span class="hs-identifier hs-type">ImageCMYK16</span></a></span><span> </span><span id="local-6989586621679171849"><span class="annot"><span class="annottext">Image PixelCMYK16
</span><a href="#local-6989586621679171849"><span class="hs-identifier hs-var">img</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Image PixelCMYK8 -&gt; Image PixelRGB8
forall a b. ColorSpaceConvertible a b =&gt; Image a -&gt; Image b
</span><a href="Codec.Picture.Types.html#convertImage"><span class="hs-identifier hs-var">convertImage</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Image PixelCMYK16 -&gt; Image PixelCMYK8
forall px1 px2. Decimable px1 px2 =&gt; Image px1 -&gt; Image px2
</span><a href="Codec.Picture.html#decimateBitDepth"><span class="hs-identifier hs-var">decimateBitDepth</span></a></span><span> </span><span class="annot"><span class="annottext">Image PixelCMYK16
</span><a href="#local-6989586621679171849"><span class="hs-identifier hs-var">img</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#Image"><span class="hs-identifier hs-type">Image</span></a></span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#PixelCMYK8"><span class="hs-identifier hs-type">PixelCMYK8</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-402"></span><span>  </span><span>
</span><span id="line-403"></span><span class="hs-comment">-- | Convert by any means possible a dynamic image to an image</span><span>
</span><span id="line-404"></span><span class="hs-comment">-- in RGB. The process can lose precision while converting from</span><span>
</span><span id="line-405"></span><span class="hs-comment">-- 32bits pixels or Floating point pixels. Any alpha layer will</span><span>
</span><span id="line-406"></span><span class="hs-comment">-- be dropped</span><span>
</span><span id="line-407"></span><span class="annot"><a href="Codec.Picture.html#convertRGB16"><span class="hs-identifier hs-type">convertRGB16</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#DynamicImage"><span class="hs-identifier hs-type">DynamicImage</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#Image"><span class="hs-identifier hs-type">Image</span></a></span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#PixelRGB16"><span class="hs-identifier hs-type">PixelRGB16</span></a></span><span>
</span><span id="line-408"></span><span id="convertRGB16"><span class="annot"><span class="annottext">convertRGB16 :: DynamicImage -&gt; Image PixelRGB16
</span><a href="Codec.Picture.html#convertRGB16"><span class="hs-identifier hs-var hs-var">convertRGB16</span></a></span></span><span> </span><span id="local-6989586621679171848"><span class="annot"><span class="annottext">DynamicImage
</span><a href="#local-6989586621679171848"><span class="hs-identifier hs-var">dynImage</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">DynamicImage
</span><a href="#local-6989586621679171848"><span class="hs-identifier hs-var">dynImage</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-409"></span><span>  </span><span class="annot"><a href="Codec.Picture.Types.html#ImageY8"><span class="hs-identifier hs-type">ImageY8</span></a></span><span>     </span><span id="local-6989586621679171847"><span class="annot"><span class="annottext">Image Pixel8
</span><a href="#local-6989586621679171847"><span class="hs-identifier hs-var">img</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Image Pixel8 -&gt; Image PixelRGB16
forall a b. ColorConvertible a b =&gt; Image a -&gt; Image b
</span><a href="Codec.Picture.Types.html#promoteImage"><span class="hs-identifier hs-var">promoteImage</span></a></span><span> </span><span class="annot"><span class="annottext">Image Pixel8
</span><a href="#local-6989586621679171847"><span class="hs-identifier hs-var">img</span></a></span><span>
</span><span id="line-410"></span><span>  </span><span class="annot"><a href="Codec.Picture.Types.html#ImageY16"><span class="hs-identifier hs-type">ImageY16</span></a></span><span>    </span><span id="local-6989586621679171846"><span class="annot"><span class="annottext">Image Pixel16
</span><a href="#local-6989586621679171846"><span class="hs-identifier hs-var">img</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Image Pixel16 -&gt; Image PixelRGB16
forall a b. ColorConvertible a b =&gt; Image a -&gt; Image b
</span><a href="Codec.Picture.Types.html#promoteImage"><span class="hs-identifier hs-var">promoteImage</span></a></span><span> </span><span class="annot"><span class="annottext">Image Pixel16
</span><a href="#local-6989586621679171846"><span class="hs-identifier hs-var">img</span></a></span><span>
</span><span id="line-411"></span><span>  </span><span class="annot"><a href="Codec.Picture.Types.html#ImageY32"><span class="hs-identifier hs-type">ImageY32</span></a></span><span>    </span><span id="local-6989586621679171845"><span class="annot"><span class="annottext">Image Pixel32
</span><a href="#local-6989586621679171845"><span class="hs-identifier hs-var">img</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Image Pixel16 -&gt; Image PixelRGB16
forall a b. ColorConvertible a b =&gt; Image a -&gt; Image b
</span><a href="Codec.Picture.Types.html#promoteImage"><span class="hs-identifier hs-var">promoteImage</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Image Pixel32 -&gt; Image Pixel16
forall px1 px2. Decimable px1 px2 =&gt; Image px1 -&gt; Image px2
</span><a href="Codec.Picture.html#decimateBitDepth"><span class="hs-identifier hs-var">decimateBitDepth</span></a></span><span> </span><span class="annot"><span class="annottext">Image Pixel32
</span><a href="#local-6989586621679171845"><span class="hs-identifier hs-var">img</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#Image"><span class="hs-identifier hs-type">Image</span></a></span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#Pixel16"><span class="hs-identifier hs-type">Pixel16</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-412"></span><span>  </span><span class="annot"><a href="Codec.Picture.Types.html#ImageYF"><span class="hs-identifier hs-type">ImageYF</span></a></span><span>     </span><span id="local-6989586621679171844"><span class="annot"><span class="annottext">Image PixelF
</span><a href="#local-6989586621679171844"><span class="hs-identifier hs-var">img</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Image Pixel16 -&gt; Image PixelRGB16
forall a b. ColorConvertible a b =&gt; Image a -&gt; Image b
</span><a href="Codec.Picture.Types.html#promoteImage"><span class="hs-identifier hs-var">promoteImage</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Image PixelF -&gt; Image Pixel16
forall px1 px2. Decimable px1 px2 =&gt; Image px1 -&gt; Image px2
</span><a href="Codec.Picture.html#decimateBitDepth"><span class="hs-identifier hs-var">decimateBitDepth</span></a></span><span> </span><span class="annot"><span class="annottext">Image PixelF
</span><a href="#local-6989586621679171844"><span class="hs-identifier hs-var">img</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#Image"><span class="hs-identifier hs-type">Image</span></a></span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#Pixel16"><span class="hs-identifier hs-type">Pixel16</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-413"></span><span>  </span><span class="annot"><a href="Codec.Picture.Types.html#ImageYA8"><span class="hs-identifier hs-type">ImageYA8</span></a></span><span>    </span><span id="local-6989586621679171843"><span class="annot"><span class="annottext">Image PixelYA8
</span><a href="#local-6989586621679171843"><span class="hs-identifier hs-var">img</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Image PixelYA8 -&gt; Image PixelRGB16
forall a b. ColorConvertible a b =&gt; Image a -&gt; Image b
</span><a href="Codec.Picture.Types.html#promoteImage"><span class="hs-identifier hs-var">promoteImage</span></a></span><span> </span><span class="annot"><span class="annottext">Image PixelYA8
</span><a href="#local-6989586621679171843"><span class="hs-identifier hs-var">img</span></a></span><span>
</span><span id="line-414"></span><span>  </span><span class="annot"><a href="Codec.Picture.Types.html#ImageYA16"><span class="hs-identifier hs-type">ImageYA16</span></a></span><span>   </span><span id="local-6989586621679171842"><span class="annot"><span class="annottext">Image PixelYA16
</span><a href="#local-6989586621679171842"><span class="hs-identifier hs-var">img</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Image PixelYA16 -&gt; Image PixelRGB16
forall a b. ColorConvertible a b =&gt; Image a -&gt; Image b
</span><a href="Codec.Picture.Types.html#promoteImage"><span class="hs-identifier hs-var">promoteImage</span></a></span><span> </span><span class="annot"><span class="annottext">Image PixelYA16
</span><a href="#local-6989586621679171842"><span class="hs-identifier hs-var">img</span></a></span><span>
</span><span id="line-415"></span><span>  </span><span class="annot"><a href="Codec.Picture.Types.html#ImageRGB8"><span class="hs-identifier hs-type">ImageRGB8</span></a></span><span>   </span><span id="local-6989586621679171841"><span class="annot"><span class="annottext">Image PixelRGB8
</span><a href="#local-6989586621679171841"><span class="hs-identifier hs-var">img</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Image PixelRGB8 -&gt; Image PixelRGB16
forall a b. ColorConvertible a b =&gt; Image a -&gt; Image b
</span><a href="Codec.Picture.Types.html#promoteImage"><span class="hs-identifier hs-var">promoteImage</span></a></span><span> </span><span class="annot"><span class="annottext">Image PixelRGB8
</span><a href="#local-6989586621679171841"><span class="hs-identifier hs-var">img</span></a></span><span>
</span><span id="line-416"></span><span>  </span><span class="annot"><a href="Codec.Picture.Types.html#ImageRGB16"><span class="hs-identifier hs-type">ImageRGB16</span></a></span><span>  </span><span id="local-6989586621679171840"><span class="annot"><span class="annottext">Image PixelRGB16
</span><a href="#local-6989586621679171840"><span class="hs-identifier hs-var">img</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Image PixelRGB16
</span><a href="#local-6989586621679171840"><span class="hs-identifier hs-var">img</span></a></span><span>
</span><span id="line-417"></span><span>  </span><span class="annot"><a href="Codec.Picture.Types.html#ImageRGBF"><span class="hs-identifier hs-type">ImageRGBF</span></a></span><span>   </span><span id="local-6989586621679171839"><span class="annot"><span class="annottext">Image PixelRGBF
</span><a href="#local-6989586621679171839"><span class="hs-identifier hs-var">img</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Image PixelRGBF -&gt; Image PixelRGB16
forall px1 px2. Decimable px1 px2 =&gt; Image px1 -&gt; Image px2
</span><a href="Codec.Picture.html#decimateBitDepth"><span class="hs-identifier hs-var">decimateBitDepth</span></a></span><span> </span><span class="annot"><span class="annottext">Image PixelRGBF
</span><a href="#local-6989586621679171839"><span class="hs-identifier hs-var">img</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#Image"><span class="hs-identifier hs-type">Image</span></a></span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#PixelRGB16"><span class="hs-identifier hs-type">PixelRGB16</span></a></span><span>
</span><span id="line-418"></span><span>  </span><span class="annot"><a href="Codec.Picture.Types.html#ImageRGBA8"><span class="hs-identifier hs-type">ImageRGBA8</span></a></span><span>  </span><span id="local-6989586621679171838"><span class="annot"><span class="annottext">Image PixelRGBA8
</span><a href="#local-6989586621679171838"><span class="hs-identifier hs-var">img</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Image PixelRGBA16 -&gt; Image PixelRGB16
forall a b. TransparentPixel a b =&gt; Image a -&gt; Image b
</span><a href="Codec.Picture.Types.html#dropAlphaLayer"><span class="hs-identifier hs-var">dropAlphaLayer</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Image PixelRGBA8 -&gt; Image PixelRGBA16
forall a b. ColorConvertible a b =&gt; Image a -&gt; Image b
</span><a href="Codec.Picture.Types.html#promoteImage"><span class="hs-identifier hs-var">promoteImage</span></a></span><span> </span><span class="annot"><span class="annottext">Image PixelRGBA8
</span><a href="#local-6989586621679171838"><span class="hs-identifier hs-var">img</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#Image"><span class="hs-identifier hs-type">Image</span></a></span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#PixelRGBA16"><span class="hs-identifier hs-type">PixelRGBA16</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-419"></span><span>  </span><span class="annot"><a href="Codec.Picture.Types.html#ImageRGBA16"><span class="hs-identifier hs-type">ImageRGBA16</span></a></span><span> </span><span id="local-6989586621679171837"><span class="annot"><span class="annottext">Image PixelRGBA16
</span><a href="#local-6989586621679171837"><span class="hs-identifier hs-var">img</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Image PixelRGBA16 -&gt; Image PixelRGB16
forall a b. TransparentPixel a b =&gt; Image a -&gt; Image b
</span><a href="Codec.Picture.Types.html#dropAlphaLayer"><span class="hs-identifier hs-var">dropAlphaLayer</span></a></span><span> </span><span class="annot"><span class="annottext">Image PixelRGBA16
</span><a href="#local-6989586621679171837"><span class="hs-identifier hs-var">img</span></a></span><span>
</span><span id="line-420"></span><span>  </span><span class="annot"><a href="Codec.Picture.Types.html#ImageYCbCr8"><span class="hs-identifier hs-type">ImageYCbCr8</span></a></span><span> </span><span id="local-6989586621679171836"><span class="annot"><span class="annottext">Image PixelYCbCr8
</span><a href="#local-6989586621679171836"><span class="hs-identifier hs-var">img</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Image PixelRGB8 -&gt; Image PixelRGB16
forall a b. ColorConvertible a b =&gt; Image a -&gt; Image b
</span><a href="Codec.Picture.Types.html#promoteImage"><span class="hs-identifier hs-var">promoteImage</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Image PixelYCbCr8 -&gt; Image PixelRGB8
forall a b. ColorSpaceConvertible a b =&gt; Image a -&gt; Image b
</span><a href="Codec.Picture.Types.html#convertImage"><span class="hs-identifier hs-var">convertImage</span></a></span><span> </span><span class="annot"><span class="annottext">Image PixelYCbCr8
</span><a href="#local-6989586621679171836"><span class="hs-identifier hs-var">img</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#Image"><span class="hs-identifier hs-type">Image</span></a></span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#PixelRGB8"><span class="hs-identifier hs-type">PixelRGB8</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-421"></span><span>  </span><span class="annot"><a href="Codec.Picture.Types.html#ImageCMYK8"><span class="hs-identifier hs-type">ImageCMYK8</span></a></span><span>  </span><span id="local-6989586621679171835"><span class="annot"><span class="annottext">Image PixelCMYK8
</span><a href="#local-6989586621679171835"><span class="hs-identifier hs-var">img</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Image PixelRGB8 -&gt; Image PixelRGB16
forall a b. ColorConvertible a b =&gt; Image a -&gt; Image b
</span><a href="Codec.Picture.Types.html#promoteImage"><span class="hs-identifier hs-var">promoteImage</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Image PixelCMYK8 -&gt; Image PixelRGB8
forall a b. ColorSpaceConvertible a b =&gt; Image a -&gt; Image b
</span><a href="Codec.Picture.Types.html#convertImage"><span class="hs-identifier hs-var">convertImage</span></a></span><span> </span><span class="annot"><span class="annottext">Image PixelCMYK8
</span><a href="#local-6989586621679171835"><span class="hs-identifier hs-var">img</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#Image"><span class="hs-identifier hs-type">Image</span></a></span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#PixelRGB8"><span class="hs-identifier hs-type">PixelRGB8</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-422"></span><span>  </span><span class="annot"><a href="Codec.Picture.Types.html#ImageCMYK16"><span class="hs-identifier hs-type">ImageCMYK16</span></a></span><span> </span><span id="local-6989586621679171834"><span class="annot"><span class="annottext">Image PixelCMYK16
</span><a href="#local-6989586621679171834"><span class="hs-identifier hs-var">img</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Image PixelCMYK16 -&gt; Image PixelRGB16
forall a b. ColorSpaceConvertible a b =&gt; Image a -&gt; Image b
</span><a href="Codec.Picture.Types.html#convertImage"><span class="hs-identifier hs-var">convertImage</span></a></span><span> </span><span class="annot"><span class="annottext">Image PixelCMYK16
</span><a href="#local-6989586621679171834"><span class="hs-identifier hs-var">img</span></a></span><span>
</span><span id="line-423"></span><span>
</span><span id="line-424"></span><span class="hs-comment">-- | Equivalent to 'decodeImage', but also provide potential metadatas</span><span>
</span><span id="line-425"></span><span class="hs-comment">-- present in the given file and the palettes if the format provides them.</span><span>
</span><span id="line-426"></span><span class="annot"><a href="Codec.Picture.html#decodeImageWithPaletteAndMetadata"><span class="hs-identifier hs-type">decodeImageWithPaletteAndMetadata</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">B.ByteString</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Codec.Picture.Types.html#PalettedImage"><span class="hs-identifier hs-type">PalettedImage</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Metadata.html#Metadatas"><span class="hs-identifier hs-type">Metadatas</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-427"></span><span id="decodeImageWithPaletteAndMetadata"><span class="annot"><span class="annottext">decodeImageWithPaletteAndMetadata :: ByteString -&gt; Either String (PalettedImage, Metadatas)
</span><a href="Codec.Picture.html#decodeImageWithPaletteAndMetadata"><span class="hs-identifier hs-var hs-var">decodeImageWithPaletteAndMetadata</span></a></span></span><span> </span><span id="local-6989586621679171833"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679171833"><span class="hs-identifier hs-var">str</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ByteString
-&gt; [(String,
     ByteString -&gt; Either String (PalettedImage, Metadatas))]
-&gt; Either String (PalettedImage, Metadatas)
forall c b.
c -&gt; [(String, c -&gt; Either String b)] -&gt; Either String b
</span><a href="Codec.Picture.html#eitherLoad"><span class="hs-identifier hs-var">eitherLoad</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679171833"><span class="hs-identifier hs-var">str</span></a></span><span>
</span><span id="line-428"></span><span>    </span><span class="hs-special">[</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Jpeg&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">((DynamicImage, Metadatas) -&gt; (PalettedImage, Metadatas))
-&gt; Either String (DynamicImage, Metadatas)
-&gt; Either String (PalettedImage, Metadatas)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(DynamicImage -&gt; PalettedImage)
-&gt; (DynamicImage, Metadatas) -&gt; (PalettedImage, Metadatas)
forall (a :: * -&gt; * -&gt; *) b c d.
Arrow a =&gt;
a b c -&gt; a (b, d) (c, d)
</span><span class="hs-identifier hs-var">first</span></span><span> </span><span class="annot"><span class="annottext">DynamicImage -&gt; PalettedImage
</span><a href="Codec.Picture.Types.html#TrueColorImage"><span class="hs-identifier hs-var">TrueColorImage</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Either String (DynamicImage, Metadatas)
 -&gt; Either String (PalettedImage, Metadatas))
-&gt; (ByteString -&gt; Either String (DynamicImage, Metadatas))
-&gt; ByteString
-&gt; Either String (PalettedImage, Metadatas)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Either String (DynamicImage, Metadatas)
</span><a href="Codec.Picture.Jpg.html#decodeJpegWithMetadata"><span class="hs-identifier hs-var">decodeJpegWithMetadata</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-429"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;PNG&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Either String (PalettedImage, Metadatas)
</span><a href="Codec.Picture.Png.html#decodePngWithPaletteAndMetadata"><span class="hs-identifier hs-var">decodePngWithPaletteAndMetadata</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-430"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Bitmap&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Either String (PalettedImage, Metadatas)
</span><a href="Codec.Picture.Bitmap.html#decodeBitmapWithPaletteAndMetadata"><span class="hs-identifier hs-var">decodeBitmapWithPaletteAndMetadata</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-431"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;GIF&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Either String (PalettedImage, Metadatas)
</span><a href="Codec.Picture.Gif.html#decodeGifWithPaletteAndMetadata"><span class="hs-identifier hs-var">decodeGifWithPaletteAndMetadata</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-432"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;HDR&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">((DynamicImage, Metadatas) -&gt; (PalettedImage, Metadatas))
-&gt; Either String (DynamicImage, Metadatas)
-&gt; Either String (PalettedImage, Metadatas)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(DynamicImage -&gt; PalettedImage)
-&gt; (DynamicImage, Metadatas) -&gt; (PalettedImage, Metadatas)
forall (a :: * -&gt; * -&gt; *) b c d.
Arrow a =&gt;
a b c -&gt; a (b, d) (c, d)
</span><span class="hs-identifier hs-var">first</span></span><span> </span><span class="annot"><span class="annottext">DynamicImage -&gt; PalettedImage
</span><a href="Codec.Picture.Types.html#TrueColorImage"><span class="hs-identifier hs-var">TrueColorImage</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Either String (DynamicImage, Metadatas)
 -&gt; Either String (PalettedImage, Metadatas))
-&gt; (ByteString -&gt; Either String (DynamicImage, Metadatas))
-&gt; ByteString
-&gt; Either String (PalettedImage, Metadatas)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Either String (DynamicImage, Metadatas)
</span><a href="Codec.Picture.HDR.html#decodeHDRWithMetadata"><span class="hs-identifier hs-var">decodeHDRWithMetadata</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-433"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Tiff&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Either String (PalettedImage, Metadatas)
</span><a href="Codec.Picture.Tiff.html#decodeTiffWithPaletteAndMetadata"><span class="hs-identifier hs-var">decodeTiffWithPaletteAndMetadata</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-434"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;TGA&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Either String (PalettedImage, Metadatas)
</span><a href="Codec.Picture.Tga.html#decodeTgaWithPaletteAndMetadata"><span class="hs-identifier hs-var">decodeTgaWithPaletteAndMetadata</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-435"></span><span>    </span><span class="hs-special">]</span><span>
</span><span id="line-436"></span><span>
</span><span id="line-437"></span><span class="hs-comment">-- | Equivalent to 'decodeImage', but also provide potential metadatas</span><span>
</span><span id="line-438"></span><span class="hs-comment">-- present in the given file.</span><span>
</span><span id="line-439"></span><span class="annot"><a href="Codec.Picture.html#decodeImageWithMetadata"><span class="hs-identifier hs-type">decodeImageWithMetadata</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">B.ByteString</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Codec.Picture.Types.html#DynamicImage"><span class="hs-identifier hs-type">DynamicImage</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Codec.Picture.Metadata.html#Metadatas"><span class="hs-identifier hs-type">Metadatas</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-440"></span><span id="decodeImageWithMetadata"><span class="annot"><span class="annottext">decodeImageWithMetadata :: ByteString -&gt; Either String (DynamicImage, Metadatas)
</span><a href="Codec.Picture.html#decodeImageWithMetadata"><span class="hs-identifier hs-var hs-var">decodeImageWithMetadata</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-441"></span><span>    </span><span class="annot"><span class="annottext">((PalettedImage, Metadatas) -&gt; (DynamicImage, Metadatas))
-&gt; Either String (PalettedImage, Metadatas)
-&gt; Either String (DynamicImage, Metadatas)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(PalettedImage -&gt; DynamicImage)
-&gt; (PalettedImage, Metadatas) -&gt; (DynamicImage, Metadatas)
forall (a :: * -&gt; * -&gt; *) b c d.
Arrow a =&gt;
a b c -&gt; a (b, d) (c, d)
</span><span class="hs-identifier hs-var">first</span></span><span> </span><span class="annot"><span class="annottext">PalettedImage -&gt; DynamicImage
</span><a href="Codec.Picture.Types.html#palettedToTrueColor"><span class="hs-identifier hs-var">palettedToTrueColor</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Either String (PalettedImage, Metadatas)
 -&gt; Either String (DynamicImage, Metadatas))
-&gt; (ByteString -&gt; Either String (PalettedImage, Metadatas))
-&gt; ByteString
-&gt; Either String (DynamicImage, Metadatas)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Either String (PalettedImage, Metadatas)
</span><a href="Codec.Picture.html#decodeImageWithPaletteAndMetadata"><span class="hs-identifier hs-var">decodeImageWithPaletteAndMetadata</span></a></span><span>
</span><span id="line-442"></span><span>
</span><span id="line-443"></span><span class="hs-comment">-- | Helper function trying to load a png file from a file on disk.</span><span>
</span><span id="line-444"></span><span class="annot"><a href="Codec.Picture.html#readPng"><span class="hs-identifier hs-type">readPng</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#DynamicImage"><span class="hs-identifier hs-type">DynamicImage</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-445"></span><span id="readPng"><span class="annot"><span class="annottext">readPng :: String -&gt; IO (Either String DynamicImage)
</span><a href="Codec.Picture.html#readPng"><span class="hs-identifier hs-var hs-var">readPng</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; Either String DynamicImage)
-&gt; String -&gt; IO (Either String DynamicImage)
forall a.
NFData a =&gt;
(ByteString -&gt; Either String a) -&gt; String -&gt; IO (Either String a)
</span><a href="Codec.Picture.html#withImageDecoder"><span class="hs-identifier hs-var">withImageDecoder</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Either String DynamicImage
</span><a href="Codec.Picture.Png.html#decodePng"><span class="hs-identifier hs-var">decodePng</span></a></span><span>
</span><span id="line-446"></span><span>
</span><span id="line-447"></span><span class="hs-comment">-- | Helper function trying to load a gif file from a file on disk.</span><span>
</span><span id="line-448"></span><span class="annot"><a href="Codec.Picture.html#readGif"><span class="hs-identifier hs-type">readGif</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#DynamicImage"><span class="hs-identifier hs-type">DynamicImage</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-449"></span><span id="readGif"><span class="annot"><span class="annottext">readGif :: String -&gt; IO (Either String DynamicImage)
</span><a href="Codec.Picture.html#readGif"><span class="hs-identifier hs-var hs-var">readGif</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; Either String DynamicImage)
-&gt; String -&gt; IO (Either String DynamicImage)
forall a.
NFData a =&gt;
(ByteString -&gt; Either String a) -&gt; String -&gt; IO (Either String a)
</span><a href="Codec.Picture.html#withImageDecoder"><span class="hs-identifier hs-var">withImageDecoder</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Either String DynamicImage
</span><a href="Codec.Picture.Gif.html#decodeGif"><span class="hs-identifier hs-var">decodeGif</span></a></span><span>
</span><span id="line-450"></span><span>
</span><span id="line-451"></span><span class="hs-comment">-- | Helper function trying to load tiff file from a file on disk.</span><span>
</span><span id="line-452"></span><span class="annot"><a href="Codec.Picture.html#readTiff"><span class="hs-identifier hs-type">readTiff</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#DynamicImage"><span class="hs-identifier hs-type">DynamicImage</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-453"></span><span id="readTiff"><span class="annot"><span class="annottext">readTiff :: String -&gt; IO (Either String DynamicImage)
</span><a href="Codec.Picture.html#readTiff"><span class="hs-identifier hs-var hs-var">readTiff</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; Either String DynamicImage)
-&gt; String -&gt; IO (Either String DynamicImage)
forall a.
NFData a =&gt;
(ByteString -&gt; Either String a) -&gt; String -&gt; IO (Either String a)
</span><a href="Codec.Picture.html#withImageDecoder"><span class="hs-identifier hs-var">withImageDecoder</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Either String DynamicImage
</span><a href="Codec.Picture.Tiff.html#decodeTiff"><span class="hs-identifier hs-var">decodeTiff</span></a></span><span>
</span><span id="line-454"></span><span>
</span><span id="line-455"></span><span class="hs-comment">-- | Helper function trying to load all the images of an animated</span><span>
</span><span id="line-456"></span><span class="hs-comment">-- gif file.</span><span>
</span><span id="line-457"></span><span class="annot"><a href="Codec.Picture.html#readGifImages"><span class="hs-identifier hs-type">readGifImages</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Codec.Picture.Types.html#DynamicImage"><span class="hs-identifier hs-type">DynamicImage</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-458"></span><span id="readGifImages"><span class="annot"><span class="annottext">readGifImages :: String -&gt; IO (Either String [DynamicImage])
</span><a href="Codec.Picture.html#readGifImages"><span class="hs-identifier hs-var hs-var">readGifImages</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; Either String [DynamicImage])
-&gt; String -&gt; IO (Either String [DynamicImage])
forall a.
NFData a =&gt;
(ByteString -&gt; Either String a) -&gt; String -&gt; IO (Either String a)
</span><a href="Codec.Picture.html#withImageDecoder"><span class="hs-identifier hs-var">withImageDecoder</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Either String [DynamicImage]
</span><a href="Codec.Picture.Gif.html#decodeGifImages"><span class="hs-identifier hs-var">decodeGifImages</span></a></span><span>
</span><span id="line-459"></span><span>
</span><span id="line-460"></span><span class="hs-comment">-- | Try to load a jpeg file and decompress. The colorspace is still</span><span>
</span><span id="line-461"></span><span class="hs-comment">-- YCbCr if you want to perform computation on the luma part. You can</span><span>
</span><span id="line-462"></span><span class="hs-comment">-- convert it to RGB using 'colorSpaceConversion'.</span><span>
</span><span id="line-463"></span><span class="annot"><a href="Codec.Picture.html#readJpeg"><span class="hs-identifier hs-type">readJpeg</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#DynamicImage"><span class="hs-identifier hs-type">DynamicImage</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-464"></span><span id="readJpeg"><span class="annot"><span class="annottext">readJpeg :: String -&gt; IO (Either String DynamicImage)
</span><a href="Codec.Picture.html#readJpeg"><span class="hs-identifier hs-var hs-var">readJpeg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; Either String DynamicImage)
-&gt; String -&gt; IO (Either String DynamicImage)
forall a.
NFData a =&gt;
(ByteString -&gt; Either String a) -&gt; String -&gt; IO (Either String a)
</span><a href="Codec.Picture.html#withImageDecoder"><span class="hs-identifier hs-var">withImageDecoder</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Either String DynamicImage
</span><a href="Codec.Picture.Jpg.html#decodeJpeg"><span class="hs-identifier hs-var">decodeJpeg</span></a></span><span>
</span><span id="line-465"></span><span>
</span><span id="line-466"></span><span class="hs-comment">-- | Try to load a .bmp file. The colorspace would be RGB, RGBA or Y.</span><span>
</span><span id="line-467"></span><span class="annot"><a href="Codec.Picture.html#readBitmap"><span class="hs-identifier hs-type">readBitmap</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#DynamicImage"><span class="hs-identifier hs-type">DynamicImage</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-468"></span><span id="readBitmap"><span class="annot"><span class="annottext">readBitmap :: String -&gt; IO (Either String DynamicImage)
</span><a href="Codec.Picture.html#readBitmap"><span class="hs-identifier hs-var hs-var">readBitmap</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; Either String DynamicImage)
-&gt; String -&gt; IO (Either String DynamicImage)
forall a.
NFData a =&gt;
(ByteString -&gt; Either String a) -&gt; String -&gt; IO (Either String a)
</span><a href="Codec.Picture.html#withImageDecoder"><span class="hs-identifier hs-var">withImageDecoder</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Either String DynamicImage
</span><a href="Codec.Picture.Bitmap.html#decodeBitmap"><span class="hs-identifier hs-var">decodeBitmap</span></a></span><span>
</span><span id="line-469"></span><span>
</span><span id="line-470"></span><span class="hs-comment">-- | Try to load a .pic file. The colorspace can only be</span><span>
</span><span id="line-471"></span><span class="hs-comment">-- RGB with floating point precision.</span><span>
</span><span id="line-472"></span><span class="annot"><a href="Codec.Picture.html#readHDR"><span class="hs-identifier hs-type">readHDR</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#DynamicImage"><span class="hs-identifier hs-type">DynamicImage</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-473"></span><span id="readHDR"><span class="annot"><span class="annottext">readHDR :: String -&gt; IO (Either String DynamicImage)
</span><a href="Codec.Picture.html#readHDR"><span class="hs-identifier hs-var hs-var">readHDR</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; Either String DynamicImage)
-&gt; String -&gt; IO (Either String DynamicImage)
forall a.
NFData a =&gt;
(ByteString -&gt; Either String a) -&gt; String -&gt; IO (Either String a)
</span><a href="Codec.Picture.html#withImageDecoder"><span class="hs-identifier hs-var">withImageDecoder</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Either String DynamicImage
</span><a href="Codec.Picture.HDR.html#decodeHDR"><span class="hs-identifier hs-var">decodeHDR</span></a></span><span>
</span><span id="line-474"></span><span>
</span><span id="line-475"></span><span class="hs-comment">-- | Try to load a .tga file from disk.</span><span>
</span><span id="line-476"></span><span class="annot"><a href="Codec.Picture.html#readTGA"><span class="hs-identifier hs-type">readTGA</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#DynamicImage"><span class="hs-identifier hs-type">DynamicImage</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-477"></span><span id="readTGA"><span class="annot"><span class="annottext">readTGA :: String -&gt; IO (Either String DynamicImage)
</span><a href="Codec.Picture.html#readTGA"><span class="hs-identifier hs-var hs-var">readTGA</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; Either String DynamicImage)
-&gt; String -&gt; IO (Either String DynamicImage)
forall a.
NFData a =&gt;
(ByteString -&gt; Either String a) -&gt; String -&gt; IO (Either String a)
</span><a href="Codec.Picture.html#withImageDecoder"><span class="hs-identifier hs-var">withImageDecoder</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Either String DynamicImage
</span><a href="Codec.Picture.Tga.html#decodeTga"><span class="hs-identifier hs-var">decodeTga</span></a></span><span>
</span><span id="line-478"></span><span>
</span><span id="line-479"></span><span class="hs-comment">-- | Save an image to a '.jpg' file, will do everything it can to save an image.</span><span>
</span><span id="line-480"></span><span class="annot"><a href="Codec.Picture.html#saveJpgImage"><span class="hs-identifier hs-type">saveJpgImage</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#DynamicImage"><span class="hs-identifier hs-type">DynamicImage</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-481"></span><span id="saveJpgImage"><span class="annot"><span class="annottext">saveJpgImage :: GifDelay -&gt; String -&gt; DynamicImage -&gt; IO ()
</span><a href="Codec.Picture.html#saveJpgImage"><span class="hs-identifier hs-var hs-var">saveJpgImage</span></a></span></span><span> </span><span id="local-6989586621679171831"><span class="annot"><span class="annottext">GifDelay
</span><a href="#local-6989586621679171831"><span class="hs-identifier hs-var">quality</span></a></span></span><span> </span><span id="local-6989586621679171830"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679171830"><span class="hs-identifier hs-var">path</span></a></span></span><span> </span><span id="local-6989586621679171829"><span class="annot"><span class="annottext">DynamicImage
</span><a href="#local-6989586621679171829"><span class="hs-identifier hs-var">img</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; ByteString -&gt; IO ()
</span><span class="hs-identifier hs-var">L.writeFile</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679171830"><span class="hs-identifier hs-var">path</span></a></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; IO ()) -&gt; ByteString -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">GifDelay -&gt; DynamicImage -&gt; ByteString
</span><a href="Codec.Picture.Saving.html#imageToJpg"><span class="hs-identifier hs-var">imageToJpg</span></a></span><span> </span><span class="annot"><span class="annottext">GifDelay
</span><a href="#local-6989586621679171831"><span class="hs-identifier hs-var">quality</span></a></span><span> </span><span class="annot"><span class="annottext">DynamicImage
</span><a href="#local-6989586621679171829"><span class="hs-identifier hs-var">img</span></a></span><span>
</span><span id="line-482"></span><span>
</span><span id="line-483"></span><span class="hs-comment">-- | Save an image to a '.gif' file, will do everything it can to save it.</span><span>
</span><span id="line-484"></span><span class="annot"><a href="Codec.Picture.html#saveGifImage"><span class="hs-identifier hs-type">saveGifImage</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#DynamicImage"><span class="hs-identifier hs-type">DynamicImage</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-485"></span><span id="saveGifImage"><span class="annot"><span class="annottext">saveGifImage :: String -&gt; DynamicImage -&gt; Either String (IO ())
</span><a href="Codec.Picture.html#saveGifImage"><span class="hs-identifier hs-var hs-var">saveGifImage</span></a></span></span><span> </span><span id="local-6989586621679171827"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679171827"><span class="hs-identifier hs-var">path</span></a></span></span><span> </span><span id="local-6989586621679171826"><span class="annot"><span class="annottext">DynamicImage
</span><a href="#local-6989586621679171826"><span class="hs-identifier hs-var">img</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; ByteString -&gt; IO ()
</span><span class="hs-identifier hs-var">L.writeFile</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679171827"><span class="hs-identifier hs-var">path</span></a></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; IO ())
-&gt; Either String ByteString -&gt; Either String (IO ())
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">DynamicImage -&gt; Either String ByteString
</span><a href="Codec.Picture.Saving.html#imageToGif"><span class="hs-identifier hs-var">imageToGif</span></a></span><span> </span><span class="annot"><span class="annottext">DynamicImage
</span><a href="#local-6989586621679171826"><span class="hs-identifier hs-var">img</span></a></span><span>
</span><span id="line-486"></span><span>
</span><span id="line-487"></span><span class="hs-comment">-- | Save an image to a '.tiff' file, will do everything it can to save an image.</span><span>
</span><span id="line-488"></span><span class="annot"><a href="Codec.Picture.html#saveTiffImage"><span class="hs-identifier hs-type">saveTiffImage</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#DynamicImage"><span class="hs-identifier hs-type">DynamicImage</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-489"></span><span id="saveTiffImage"><span class="annot"><span class="annottext">saveTiffImage :: String -&gt; DynamicImage -&gt; IO ()
</span><a href="Codec.Picture.html#saveTiffImage"><span class="hs-identifier hs-var hs-var">saveTiffImage</span></a></span></span><span> </span><span id="local-6989586621679171824"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679171824"><span class="hs-identifier hs-var">path</span></a></span></span><span> </span><span id="local-6989586621679171823"><span class="annot"><span class="annottext">DynamicImage
</span><a href="#local-6989586621679171823"><span class="hs-identifier hs-var">img</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; ByteString -&gt; IO ()
</span><span class="hs-identifier hs-var">L.writeFile</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679171824"><span class="hs-identifier hs-var">path</span></a></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; IO ()) -&gt; ByteString -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">DynamicImage -&gt; ByteString
</span><a href="Codec.Picture.Saving.html#imageToTiff"><span class="hs-identifier hs-var">imageToTiff</span></a></span><span> </span><span class="annot"><span class="annottext">DynamicImage
</span><a href="#local-6989586621679171823"><span class="hs-identifier hs-var">img</span></a></span><span>
</span><span id="line-490"></span><span>
</span><span id="line-491"></span><span class="hs-comment">-- | Save an image to a '.hdr' file, will do everything it can to save an image.</span><span>
</span><span id="line-492"></span><span class="annot"><a href="Codec.Picture.html#saveRadianceImage"><span class="hs-identifier hs-type">saveRadianceImage</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#DynamicImage"><span class="hs-identifier hs-type">DynamicImage</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-493"></span><span id="saveRadianceImage"><span class="annot"><span class="annottext">saveRadianceImage :: String -&gt; DynamicImage -&gt; IO ()
</span><a href="Codec.Picture.html#saveRadianceImage"><span class="hs-identifier hs-var hs-var">saveRadianceImage</span></a></span></span><span> </span><span id="local-6989586621679171821"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679171821"><span class="hs-identifier hs-var">path</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; ByteString -&gt; IO ()
</span><span class="hs-identifier hs-var">L.writeFile</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679171821"><span class="hs-identifier hs-var">path</span></a></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; IO ())
-&gt; (DynamicImage -&gt; ByteString) -&gt; DynamicImage -&gt; IO ()
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">DynamicImage -&gt; ByteString
</span><a href="Codec.Picture.Saving.html#imageToRadiance"><span class="hs-identifier hs-var">imageToRadiance</span></a></span><span>
</span><span id="line-494"></span><span>
</span><span id="line-495"></span><span class="hs-comment">-- | Save an image to a '.png' file, will do everything it can to save an image.</span><span>
</span><span id="line-496"></span><span class="hs-comment">-- For example, a simple transcoder to png</span><span>
</span><span id="line-497"></span><span class="hs-comment">--</span><span>
</span><span id="line-498"></span><span class="hs-comment">-- &gt; transcodeToPng :: FilePath -&gt; FilePath -&gt; IO ()</span><span>
</span><span id="line-499"></span><span class="hs-comment">-- &gt; transcodeToPng pathIn pathOut = do</span><span>
</span><span id="line-500"></span><span class="hs-comment">-- &gt;    eitherImg &lt;- readImage pathIn</span><span>
</span><span id="line-501"></span><span class="hs-comment">-- &gt;    case eitherImg of</span><span>
</span><span id="line-502"></span><span class="hs-comment">-- &gt;        Left _ -&gt; return ()</span><span>
</span><span id="line-503"></span><span class="hs-comment">-- &gt;        Right img -&gt; savePngImage pathOut img</span><span>
</span><span id="line-504"></span><span class="hs-comment">--</span><span>
</span><span id="line-505"></span><span class="annot"><a href="Codec.Picture.html#savePngImage"><span class="hs-identifier hs-type">savePngImage</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#DynamicImage"><span class="hs-identifier hs-type">DynamicImage</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-506"></span><span id="savePngImage"><span class="annot"><span class="annottext">savePngImage :: String -&gt; DynamicImage -&gt; IO ()
</span><a href="Codec.Picture.html#savePngImage"><span class="hs-identifier hs-var hs-var">savePngImage</span></a></span></span><span> </span><span id="local-6989586621679171819"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679171819"><span class="hs-identifier hs-var">path</span></a></span></span><span> </span><span id="local-6989586621679171818"><span class="annot"><span class="annottext">DynamicImage
</span><a href="#local-6989586621679171818"><span class="hs-identifier hs-var">img</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; ByteString -&gt; IO ()
</span><span class="hs-identifier hs-var">L.writeFile</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679171819"><span class="hs-identifier hs-var">path</span></a></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; IO ()) -&gt; ByteString -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">DynamicImage -&gt; ByteString
</span><a href="Codec.Picture.Saving.html#imageToPng"><span class="hs-identifier hs-var">imageToPng</span></a></span><span> </span><span class="annot"><span class="annottext">DynamicImage
</span><a href="#local-6989586621679171818"><span class="hs-identifier hs-var">img</span></a></span><span>
</span><span id="line-507"></span><span>
</span><span id="line-508"></span><span class="hs-comment">-- | Save an image to a '.bmp' file, will do everything it can to save an image.</span><span>
</span><span id="line-509"></span><span class="annot"><a href="Codec.Picture.html#saveBmpImage"><span class="hs-identifier hs-type">saveBmpImage</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Codec.Picture.Types.html#DynamicImage"><span class="hs-identifier hs-type">DynamicImage</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-510"></span><span id="saveBmpImage"><span class="annot"><span class="annottext">saveBmpImage :: String -&gt; DynamicImage -&gt; IO ()
</span><a href="Codec.Picture.html#saveBmpImage"><span class="hs-identifier hs-var hs-var">saveBmpImage</span></a></span></span><span> </span><span id="local-6989586621679171816"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679171816"><span class="hs-identifier hs-var">path</span></a></span></span><span> </span><span id="local-6989586621679171815"><span class="annot"><span class="annottext">DynamicImage
</span><a href="#local-6989586621679171815"><span class="hs-identifier hs-var">img</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; ByteString -&gt; IO ()
</span><span class="hs-identifier hs-var">L.writeFile</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679171816"><span class="hs-identifier hs-var">path</span></a></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; IO ()) -&gt; ByteString -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">DynamicImage -&gt; ByteString
</span><a href="Codec.Picture.Saving.html#imageToBitmap"><span class="hs-identifier hs-var">imageToBitmap</span></a></span><span> </span><span class="annot"><span class="annottext">DynamicImage
</span><a href="#local-6989586621679171815"><span class="hs-identifier hs-var">img</span></a></span><span>
</span><span id="line-511"></span><span>
</span><span id="line-512"></span></pre></body></html>
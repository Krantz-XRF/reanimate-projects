<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE CPP #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE FlexibleContexts #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE RankNTypes #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE TypeFamilies #-}</span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# LANGUAGE UndecidableInstances #-}</span><span>
</span><span id="line-6"></span><span>
</span><span id="line-7"></span><span class="hs-comment">{- |
Module      : Control.Concurrent.Async.Lifted
Copyright   : Copyright (C) 2012-2018 Mitsutoshi Aoe
License     : BSD-style (see the file LICENSE)
Maintainer  : Mitsutoshi Aoe &lt;maoe@foldr.in&gt;
Stability   : experimental

This is a wrapped version of @Control.Concurrent.Async@ with types generalized
from 'IO' to all monads in either 'MonadBase' or 'MonadBaseControl'.

All the functions restore the monadic effects in the forked computation
unless specified otherwise.

If your monad stack satisfies @'StM' m a ~ a@ (e.g. the reader monad), consider
using @Control.Concurrent.Async.Lifted.Safe@ module, which prevents you from
messing up monadic effects.
-}</span><span>
</span><span id="line-24"></span><span>
</span><span id="line-25"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Control.Concurrent.Async.Lifted</span><span>
</span><span id="line-26"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-comment">-- * Asynchronous actions</span></span><span>
</span><span id="line-27"></span><span>    </span><span class="annot"><span class="hs-identifier">A.Async</span></span><span>
</span><span id="line-28"></span><span>    </span><span class="annot"><span class="hs-comment">-- ** Spawning</span></span><span>
</span><span id="line-29"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Concurrent.Async.Lifted.html#async"><span class="hs-identifier">async</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Concurrent.Async.Lifted.html#asyncBound"><span class="hs-identifier">asyncBound</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Concurrent.Async.Lifted.html#asyncOn"><span class="hs-identifier">asyncOn</span></a></span><span>
</span><span id="line-30"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Concurrent.Async.Lifted.html#asyncWithUnmask"><span class="hs-identifier">asyncWithUnmask</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Concurrent.Async.Lifted.html#asyncOnWithUnmask"><span class="hs-identifier">asyncOnWithUnmask</span></a></span><span>
</span><span id="line-31"></span><span>
</span><span id="line-32"></span><span>    </span><span class="annot"><span class="hs-comment">-- ** Spawning with automatic 'cancel'ation</span></span><span>
</span><span id="line-33"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Concurrent.Async.Lifted.html#withAsync"><span class="hs-identifier">withAsync</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Concurrent.Async.Lifted.html#withAsyncBound"><span class="hs-identifier">withAsyncBound</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Concurrent.Async.Lifted.html#withAsyncOn"><span class="hs-identifier">withAsyncOn</span></a></span><span>
</span><span id="line-34"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Concurrent.Async.Lifted.html#withAsyncWithUnmask"><span class="hs-identifier">withAsyncWithUnmask</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Concurrent.Async.Lifted.html#withAsyncOnWithUnmask"><span class="hs-identifier">withAsyncOnWithUnmask</span></a></span><span>
</span><span id="line-35"></span><span>
</span><span id="line-36"></span><span>    </span><span class="annot"><span class="hs-comment">-- ** Quering 'Async's</span></span><span>
</span><span id="line-37"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Concurrent.Async.Lifted.html#wait"><span class="hs-identifier">wait</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Concurrent.Async.Lifted.html#poll"><span class="hs-identifier">poll</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Concurrent.Async.Lifted.html#waitCatch"><span class="hs-identifier">waitCatch</span></a></span><span>
</span><span id="line-38"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Concurrent.Async.Lifted.html#cancel"><span class="hs-identifier">cancel</span></a></span><span>
</span><span id="line-39"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Concurrent.Async.Lifted.html#uninterruptibleCancel"><span class="hs-identifier">uninterruptibleCancel</span></a></span><span>
</span><span id="line-40"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Concurrent.Async.Lifted.html#cancelWith"><span class="hs-identifier">cancelWith</span></a></span><span>
</span><span id="line-41"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">A.asyncThreadId</span></span><span>
</span><span id="line-42"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">A.AsyncCancelled</span></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-43"></span><span>
</span><span id="line-44"></span><span>    </span><span class="annot"><span class="hs-comment">-- ** STM operations</span></span><span>
</span><span id="line-45"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">A.waitSTM</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">A.pollSTM</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">A.waitCatchSTM</span></span><span>
</span><span id="line-46"></span><span>
</span><span id="line-47"></span><span>    </span><span class="annot"><span class="hs-comment">-- ** Waiting for multiple 'Async's</span></span><span>
</span><span id="line-48"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Concurrent.Async.Lifted.html#waitAny"><span class="hs-identifier">waitAny</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Concurrent.Async.Lifted.html#waitAnyCatch"><span class="hs-identifier">waitAnyCatch</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Concurrent.Async.Lifted.html#waitAnyCancel"><span class="hs-identifier">waitAnyCancel</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Concurrent.Async.Lifted.html#waitAnyCatchCancel"><span class="hs-identifier">waitAnyCatchCancel</span></a></span><span>
</span><span id="line-49"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Concurrent.Async.Lifted.html#waitEither"><span class="hs-identifier">waitEither</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Concurrent.Async.Lifted.html#waitEitherCatch"><span class="hs-identifier">waitEitherCatch</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Concurrent.Async.Lifted.html#waitEitherCancel"><span class="hs-identifier">waitEitherCancel</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Concurrent.Async.Lifted.html#waitEitherCatchCancel"><span class="hs-identifier">waitEitherCatchCancel</span></a></span><span>
</span><span id="line-50"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Concurrent.Async.Lifted.html#waitEither_"><span class="hs-identifier">waitEither_</span></a></span><span>
</span><span id="line-51"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Concurrent.Async.Lifted.html#waitBoth"><span class="hs-identifier">waitBoth</span></a></span><span>
</span><span id="line-52"></span><span>
</span><span id="line-53"></span><span>    </span><span class="annot"><span class="hs-comment">-- ** Waiting for multiple 'Async's in STM</span></span><span>
</span><span id="line-54"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">A.waitAnySTM</span></span><span>
</span><span id="line-55"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">A.waitAnyCatchSTM</span></span><span>
</span><span id="line-56"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">A.waitEitherSTM</span></span><span>
</span><span id="line-57"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">A.waitEitherCatchSTM</span></span><span>
</span><span id="line-58"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">A.waitEitherSTM_</span></span><span>
</span><span id="line-59"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">A.waitBothSTM</span></span><span>
</span><span id="line-60"></span><span>
</span><span id="line-61"></span><span>    </span><span class="annot"><span class="hs-comment">-- ** Linking</span></span><span>
</span><span id="line-62"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Concurrent.Async.Lifted.html#link"><span class="hs-identifier">link</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Concurrent.Async.Lifted.html#link2"><span class="hs-identifier">link2</span></a></span><span>
</span><span id="line-63"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">A.ExceptionInLinkedThread</span></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-64"></span><span>
</span><span id="line-65"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Convenient utilities</span></span><span>
</span><span id="line-66"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Concurrent.Async.Lifted.html#race"><span class="hs-identifier">race</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Concurrent.Async.Lifted.html#race_"><span class="hs-identifier">race_</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Concurrent.Async.Lifted.html#concurrently"><span class="hs-identifier">concurrently</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Concurrent.Async.Lifted.html#concurrently_"><span class="hs-identifier">concurrently_</span></a></span><span>
</span><span id="line-67"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Concurrent.Async.Lifted.html#mapConcurrently"><span class="hs-identifier">mapConcurrently</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Concurrent.Async.Lifted.html#mapConcurrently_"><span class="hs-identifier">mapConcurrently_</span></a></span><span>
</span><span id="line-68"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Concurrent.Async.Lifted.html#forConcurrently"><span class="hs-identifier">forConcurrently</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Concurrent.Async.Lifted.html#forConcurrently_"><span class="hs-identifier">forConcurrently_</span></a></span><span>
</span><span id="line-69"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Concurrent.Async.Lifted.html#replicateConcurrently"><span class="hs-identifier">replicateConcurrently</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Concurrent.Async.Lifted.html#replicateConcurrently_"><span class="hs-identifier">replicateConcurrently_</span></a></span><span>
</span><span id="line-70"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Concurrent.Async.Lifted.html#Concurrently"><span class="hs-identifier">Concurrently</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-71"></span><span>
</span><span id="line-72"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">A.compareAsyncs</span></span><span>
</span><span id="line-73"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-74"></span><span>
</span><span id="line-75"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Applicative</span></span><span>
</span><span id="line-76"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Concurrent</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">threadDelay</span></span><span class="hs-special">)</span><span>
</span><span id="line-77"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-operator">(&gt;=&gt;)</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">forever</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">void</span></span><span class="hs-special">)</span><span>
</span><span id="line-78"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Foldable</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">fold</span></span><span class="hs-special">)</span><span>
</span><span id="line-79"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">GHC.IO</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">unsafeUnmask</span></span><span class="hs-special">)</span><span>
</span><span id="line-80"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Prelude</span></span><span>
</span><span id="line-81"></span><span>
</span><span id="line-82"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Concurrent.Async</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Async</span></span><span class="hs-special">)</span><span>
</span><span id="line-83"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Exception.Lifted</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">SomeException</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">Exception</span></span><span class="hs-special">)</span><span>
</span><span id="line-84"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad.Base</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">MonadBase</span></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-85"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad.Trans.Control</span></span><span>
</span><span id="line-86"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Control.Concurrent.Async</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">A</span></span><span>
</span><span id="line-87"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Control.Exception.Lifted</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">E</span></span><span class="hs-cpp">

#if defined(__GLASGOW_HASKELL__) &amp;&amp; __GLASGOW_HASKELL__ &lt; 710
</span><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Data.Foldable</span><span>
</span><span id="line-91"></span><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Data.Traversable</span><span class="hs-cpp">
#endif
</span><span class="hs-cpp">#if !MIN_VERSION_base(4, 8, 0)
</span><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Data.Monoid</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Monoid</span><span class="hs-special">(</span><span class="hs-identifier">mappend</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">mempty</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-cpp">
#elif MIN_VERSION_base(4, 9, 0) &amp;&amp; !MIN_VERSION_base(4, 13, 0)
</span><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Data.Semigroup</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Semigroup</span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-operator">&lt;&gt;</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-cpp">
#endif
</span><span>
</span><span id="line-99"></span><span class="hs-comment">-- | Generalized version of 'A.async'.</span><span>
</span><span id="line-100"></span><span id="local-6989586621679063216"><span id="local-6989586621679063217"><span class="annot"><a href="Control.Concurrent.Async.Lifted.html#async"><span class="hs-identifier hs-type">async</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadBaseControl</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="#local-6989586621679063217"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679063217"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679063216"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679063217"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Async</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">StM</span></span><span> </span><span class="annot"><a href="#local-6989586621679063217"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679063216"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span></span><span>
</span><span id="line-101"></span><span id="async"><span class="annot"><span class="annottext">async :: m a -&gt; m (Async (StM m a))
</span><a href="Control.Concurrent.Async.Lifted.html#async"><span class="hs-identifier hs-var hs-var">async</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(IO (StM m a) -&gt; IO (Async (StM m a)))
-&gt; m a -&gt; m (Async (StM m a))
forall (m :: * -&gt; *) a.
MonadBaseControl IO m =&gt;
(IO (StM m a) -&gt; IO (Async (StM m a)))
-&gt; m a -&gt; m (Async (StM m a))
</span><a href="Control.Concurrent.Async.Lifted.html#asyncUsing"><span class="hs-identifier hs-var">asyncUsing</span></a></span><span> </span><span class="annot"><span class="annottext">IO (StM m a) -&gt; IO (Async (StM m a))
forall a. IO a -&gt; IO (Async a)
</span><span class="hs-identifier hs-var">A.async</span></span><span>
</span><span id="line-102"></span><span>
</span><span id="line-103"></span><span class="hs-comment">-- | Generalized version of 'A.asyncBound'.</span><span>
</span><span id="line-104"></span><span id="local-6989586621679062906"><span id="local-6989586621679062907"><span class="annot"><a href="Control.Concurrent.Async.Lifted.html#asyncBound"><span class="hs-identifier hs-type">asyncBound</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadBaseControl</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="#local-6989586621679062907"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679062907"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679062906"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679062907"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Async</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">StM</span></span><span> </span><span class="annot"><a href="#local-6989586621679062907"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679062906"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span></span><span>
</span><span id="line-105"></span><span id="asyncBound"><span class="annot"><span class="annottext">asyncBound :: m a -&gt; m (Async (StM m a))
</span><a href="Control.Concurrent.Async.Lifted.html#asyncBound"><span class="hs-identifier hs-var hs-var">asyncBound</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(IO (StM m a) -&gt; IO (Async (StM m a)))
-&gt; m a -&gt; m (Async (StM m a))
forall (m :: * -&gt; *) a.
MonadBaseControl IO m =&gt;
(IO (StM m a) -&gt; IO (Async (StM m a)))
-&gt; m a -&gt; m (Async (StM m a))
</span><a href="Control.Concurrent.Async.Lifted.html#asyncUsing"><span class="hs-identifier hs-var">asyncUsing</span></a></span><span> </span><span class="annot"><span class="annottext">IO (StM m a) -&gt; IO (Async (StM m a))
forall a. IO a -&gt; IO (Async a)
</span><span class="hs-identifier hs-var">A.asyncBound</span></span><span>
</span><span id="line-106"></span><span>
</span><span id="line-107"></span><span class="hs-comment">-- | Generalized version of 'A.asyncOn'.</span><span>
</span><span id="line-108"></span><span id="local-6989586621679063222"><span id="local-6989586621679063223"><span class="annot"><a href="Control.Concurrent.Async.Lifted.html#asyncOn"><span class="hs-identifier hs-type">asyncOn</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadBaseControl</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="#local-6989586621679063223"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679063223"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679063222"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679063223"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Async</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">StM</span></span><span> </span><span class="annot"><a href="#local-6989586621679063223"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679063222"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span></span><span>
</span><span id="line-109"></span><span id="asyncOn"><span class="annot"><span class="annottext">asyncOn :: Int -&gt; m a -&gt; m (Async (StM m a))
</span><a href="Control.Concurrent.Async.Lifted.html#asyncOn"><span class="hs-identifier hs-var hs-var">asyncOn</span></a></span></span><span> </span><span id="local-6989586621679062904"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679062904"><span class="hs-identifier hs-var">cpu</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(IO (StM m a) -&gt; IO (Async (StM m a)))
-&gt; m a -&gt; m (Async (StM m a))
forall (m :: * -&gt; *) a.
MonadBaseControl IO m =&gt;
(IO (StM m a) -&gt; IO (Async (StM m a)))
-&gt; m a -&gt; m (Async (StM m a))
</span><a href="Control.Concurrent.Async.Lifted.html#asyncUsing"><span class="hs-identifier hs-var">asyncUsing</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; IO (StM m a) -&gt; IO (Async (StM m a))
forall a. Int -&gt; IO a -&gt; IO (Async a)
</span><span class="hs-identifier hs-var">A.asyncOn</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679062904"><span class="hs-identifier hs-var">cpu</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-110"></span><span>
</span><span id="line-111"></span><span class="hs-comment">-- | Generalized version of 'A.asyncWithUnmask'.</span><span>
</span><span id="line-112"></span><span id="local-6989586621679062901"><span id="local-6989586621679062902"><span class="annot"><a href="Control.Concurrent.Async.Lifted.html#asyncWithUnmask"><span class="hs-identifier hs-type">asyncWithUnmask</span></a></span><span>
</span><span id="line-113"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadBaseControl</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="#local-6989586621679062902"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-114"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679063271"><span class="annot"><a href="#local-6989586621679063271"><span class="hs-identifier hs-type">b</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="#local-6989586621679062902"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679063271"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679062902"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679063271"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679062902"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679062901"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-115"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679062902"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Async</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">StM</span></span><span> </span><span class="annot"><a href="#local-6989586621679062902"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679062901"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span></span><span>
</span><span id="line-116"></span><span id="asyncWithUnmask"><span class="annot"><span class="annottext">asyncWithUnmask :: ((forall b. m b -&gt; m b) -&gt; m a) -&gt; m (Async (StM m a))
</span><a href="Control.Concurrent.Async.Lifted.html#asyncWithUnmask"><span class="hs-identifier hs-var hs-var">asyncWithUnmask</span></a></span></span><span> </span><span id="local-6989586621679062900"><span class="annot"><span class="annottext">(forall b. m b -&gt; m b) -&gt; m a
</span><a href="#local-6989586621679062900"><span class="hs-identifier hs-var">actionWith</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-117"></span><span>  </span><span class="annot"><span class="annottext">(IO (StM m a) -&gt; IO (Async (StM m a)))
-&gt; m a -&gt; m (Async (StM m a))
forall (m :: * -&gt; *) a.
MonadBaseControl IO m =&gt;
(IO (StM m a) -&gt; IO (Async (StM m a)))
-&gt; m a -&gt; m (Async (StM m a))
</span><a href="Control.Concurrent.Async.Lifted.html#asyncUsing"><span class="hs-identifier hs-var">asyncUsing</span></a></span><span> </span><span class="annot"><span class="annottext">IO (StM m a) -&gt; IO (Async (StM m a))
forall a. IO a -&gt; IO (Async a)
</span><span class="hs-identifier hs-var">A.async</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(forall b. m b -&gt; m b) -&gt; m a
</span><a href="#local-6989586621679062900"><span class="hs-identifier hs-var">actionWith</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(IO (StM m b) -&gt; IO (StM m b)) -&gt; m b -&gt; m b
forall (b :: * -&gt; *) (m :: * -&gt; *) a c.
MonadBaseControl b m =&gt;
(b (StM m a) -&gt; b (StM m c)) -&gt; m a -&gt; m c
</span><span class="hs-identifier hs-var">liftBaseOp_</span></span><span> </span><span class="annot"><span class="annottext">IO (StM m b) -&gt; IO (StM m b)
forall a. IO a -&gt; IO a
</span><span class="hs-identifier hs-var">unsafeUnmask</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-118"></span><span>
</span><span id="line-119"></span><span class="hs-comment">-- | Generalized version of 'A.asyncOnWithUnmask'.</span><span>
</span><span id="line-120"></span><span id="local-6989586621679062897"><span id="local-6989586621679062898"><span class="annot"><a href="Control.Concurrent.Async.Lifted.html#asyncOnWithUnmask"><span class="hs-identifier hs-type">asyncOnWithUnmask</span></a></span><span>
</span><span id="line-121"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadBaseControl</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="#local-6989586621679062898"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-122"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span>
</span><span id="line-123"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679063262"><span class="annot"><a href="#local-6989586621679063262"><span class="hs-identifier hs-type">b</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="#local-6989586621679062898"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679063262"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679062898"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679063262"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679062898"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679062897"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-124"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679062898"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Async</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">StM</span></span><span> </span><span class="annot"><a href="#local-6989586621679062898"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679062897"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span></span><span>
</span><span id="line-125"></span><span id="asyncOnWithUnmask"><span class="annot"><span class="annottext">asyncOnWithUnmask :: Int -&gt; ((forall b. m b -&gt; m b) -&gt; m a) -&gt; m (Async (StM m a))
</span><a href="Control.Concurrent.Async.Lifted.html#asyncOnWithUnmask"><span class="hs-identifier hs-var hs-var">asyncOnWithUnmask</span></a></span></span><span> </span><span id="local-6989586621679062896"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679062896"><span class="hs-identifier hs-var">cpu</span></a></span></span><span> </span><span id="local-6989586621679062895"><span class="annot"><span class="annottext">(forall b. m b -&gt; m b) -&gt; m a
</span><a href="#local-6989586621679062895"><span class="hs-identifier hs-var">actionWith</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-126"></span><span>  </span><span class="annot"><span class="annottext">(IO (StM m a) -&gt; IO (Async (StM m a)))
-&gt; m a -&gt; m (Async (StM m a))
forall (m :: * -&gt; *) a.
MonadBaseControl IO m =&gt;
(IO (StM m a) -&gt; IO (Async (StM m a)))
-&gt; m a -&gt; m (Async (StM m a))
</span><a href="Control.Concurrent.Async.Lifted.html#asyncUsing"><span class="hs-identifier hs-var">asyncUsing</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; IO (StM m a) -&gt; IO (Async (StM m a))
forall a. Int -&gt; IO a -&gt; IO (Async a)
</span><span class="hs-identifier hs-var">A.asyncOn</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679062896"><span class="hs-identifier hs-var">cpu</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(forall b. m b -&gt; m b) -&gt; m a
</span><a href="#local-6989586621679062895"><span class="hs-identifier hs-var">actionWith</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(IO (StM m b) -&gt; IO (StM m b)) -&gt; m b -&gt; m b
forall (b :: * -&gt; *) (m :: * -&gt; *) a c.
MonadBaseControl b m =&gt;
(b (StM m a) -&gt; b (StM m c)) -&gt; m a -&gt; m c
</span><span class="hs-identifier hs-var">liftBaseOp_</span></span><span> </span><span class="annot"><span class="annottext">IO (StM m b) -&gt; IO (StM m b)
forall a. IO a -&gt; IO a
</span><span class="hs-identifier hs-var">unsafeUnmask</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-127"></span><span>
</span><span id="line-128"></span><span id="local-6989586621679063279"><span id="local-6989586621679063281"><span class="annot"><a href="Control.Concurrent.Async.Lifted.html#asyncUsing"><span class="hs-identifier hs-type">asyncUsing</span></a></span><span>
</span><span id="line-129"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadBaseControl</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="#local-6989586621679063281"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-130"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">StM</span></span><span> </span><span class="annot"><a href="#local-6989586621679063281"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679063279"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Async</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">StM</span></span><span> </span><span class="annot"><a href="#local-6989586621679063281"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679063279"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-131"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679063281"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679063279"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-132"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679063281"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Async</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">StM</span></span><span> </span><span class="annot"><a href="#local-6989586621679063281"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679063279"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span></span><span>
</span><span id="line-133"></span><span id="asyncUsing"><span class="annot"><span class="annottext">asyncUsing :: (IO (StM m a) -&gt; IO (Async (StM m a)))
-&gt; m a -&gt; m (Async (StM m a))
</span><a href="Control.Concurrent.Async.Lifted.html#asyncUsing"><span class="hs-identifier hs-var hs-var">asyncUsing</span></a></span></span><span> </span><span id="local-6989586621679062894"><span class="annot"><span class="annottext">IO (StM m a) -&gt; IO (Async (StM m a))
</span><a href="#local-6989586621679062894"><span class="hs-identifier hs-var">fork</span></a></span></span><span> </span><span id="local-6989586621679062893"><span class="annot"><span class="annottext">m a
</span><a href="#local-6989586621679062893"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-134"></span><span>  </span><span class="annot"><span class="annottext">(RunInBase m IO -&gt; IO (Async (StM m a))) -&gt; m (Async (StM m a))
forall (b :: * -&gt; *) (m :: * -&gt; *) a.
MonadBaseControl b m =&gt;
(RunInBase m b -&gt; b a) -&gt; m a
</span><span class="hs-identifier hs-var">liftBaseWith</span></span><span> </span><span class="annot"><span class="annottext">((RunInBase m IO -&gt; IO (Async (StM m a))) -&gt; m (Async (StM m a)))
-&gt; (RunInBase m IO -&gt; IO (Async (StM m a))) -&gt; m (Async (StM m a))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679062891"><span class="annot"><span class="annottext">RunInBase m IO
</span><a href="#local-6989586621679062891"><span class="hs-identifier hs-var">runInIO</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">IO (StM m a) -&gt; IO (Async (StM m a))
</span><a href="#local-6989586621679062894"><span class="hs-identifier hs-var">fork</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">m a -&gt; IO (StM m a)
RunInBase m IO
</span><a href="#local-6989586621679062891"><span class="hs-identifier hs-var">runInIO</span></a></span><span> </span><span class="annot"><span class="annottext">m a
</span><a href="#local-6989586621679062893"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-135"></span><span>
</span><span id="line-136"></span><span class="hs-comment">-- | Generalized version of 'A.withAsync'.</span><span>
</span><span id="line-137"></span><span id="local-6989586621679063102"><span id="local-6989586621679063103"><span id="local-6989586621679063104"><span class="annot"><a href="Control.Concurrent.Async.Lifted.html#withAsync"><span class="hs-identifier hs-type">withAsync</span></a></span><span>
</span><span id="line-138"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadBaseControl</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="#local-6989586621679063104"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-139"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679063104"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679063103"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-140"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Async</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">StM</span></span><span> </span><span class="annot"><a href="#local-6989586621679063104"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679063103"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679063104"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679063102"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-141"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679063104"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679063102"><span class="hs-identifier hs-type">b</span></a></span></span></span></span><span>
</span><span id="line-142"></span><span id="withAsync"><span class="annot"><span class="annottext">withAsync :: m a -&gt; (Async (StM m a) -&gt; m b) -&gt; m b
</span><a href="Control.Concurrent.Async.Lifted.html#withAsync"><span class="hs-identifier hs-var hs-var">withAsync</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(IO (StM m a) -&gt; (Async (StM m a) -&gt; IO (StM m b)) -&gt; IO (StM m b))
-&gt; m a -&gt; (Async (StM m a) -&gt; m b) -&gt; m b
forall (m :: * -&gt; *) a b.
MonadBaseControl IO m =&gt;
(IO (StM m a) -&gt; (Async (StM m a) -&gt; IO (StM m b)) -&gt; IO (StM m b))
-&gt; m a -&gt; (Async (StM m a) -&gt; m b) -&gt; m b
</span><a href="Control.Concurrent.Async.Lifted.html#liftWithAsync"><span class="hs-identifier hs-var">liftWithAsync</span></a></span><span> </span><span class="annot"><span class="annottext">IO (StM m a) -&gt; (Async (StM m a) -&gt; IO (StM m b)) -&gt; IO (StM m b)
forall a b. IO a -&gt; (Async a -&gt; IO b) -&gt; IO b
</span><span class="hs-identifier hs-var">A.withAsync</span></span><span>
</span><span id="line-143"></span><span class="hs-pragma">{-# INLINABLE</span><span> </span><span class="annot"><a href="Control.Concurrent.Async.Lifted.html#withAsync"><span class="hs-pragma hs-type">withAsync</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-144"></span><span>
</span><span id="line-145"></span><span class="hs-comment">-- | Generalized version of 'A.withAsyncBound'.</span><span>
</span><span id="line-146"></span><span id="local-6989586621679062886"><span id="local-6989586621679062887"><span id="local-6989586621679062888"><span class="annot"><a href="Control.Concurrent.Async.Lifted.html#withAsyncBound"><span class="hs-identifier hs-type">withAsyncBound</span></a></span><span>
</span><span id="line-147"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadBaseControl</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="#local-6989586621679062888"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-148"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679062888"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679062887"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-149"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Async</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">StM</span></span><span> </span><span class="annot"><a href="#local-6989586621679062888"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679062887"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679062888"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679062886"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-150"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679062888"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679062886"><span class="hs-identifier hs-type">b</span></a></span></span></span></span><span>
</span><span id="line-151"></span><span id="withAsyncBound"><span class="annot"><span class="annottext">withAsyncBound :: m a -&gt; (Async (StM m a) -&gt; m b) -&gt; m b
</span><a href="Control.Concurrent.Async.Lifted.html#withAsyncBound"><span class="hs-identifier hs-var hs-var">withAsyncBound</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(IO (StM m a) -&gt; (Async (StM m a) -&gt; IO (StM m b)) -&gt; IO (StM m b))
-&gt; m a -&gt; (Async (StM m a) -&gt; m b) -&gt; m b
forall (m :: * -&gt; *) a b.
MonadBaseControl IO m =&gt;
(IO (StM m a) -&gt; (Async (StM m a) -&gt; IO (StM m b)) -&gt; IO (StM m b))
-&gt; m a -&gt; (Async (StM m a) -&gt; m b) -&gt; m b
</span><a href="Control.Concurrent.Async.Lifted.html#liftWithAsync"><span class="hs-identifier hs-var">liftWithAsync</span></a></span><span> </span><span class="annot"><span class="annottext">IO (StM m a) -&gt; (Async (StM m a) -&gt; IO (StM m b)) -&gt; IO (StM m b)
forall a b. IO a -&gt; (Async a -&gt; IO b) -&gt; IO b
</span><span class="hs-identifier hs-var">A.withAsyncBound</span></span><span>
</span><span id="line-152"></span><span class="hs-pragma">{-# INLINABLE</span><span> </span><span class="annot"><a href="Control.Concurrent.Async.Lifted.html#withAsyncBound"><span class="hs-pragma hs-type">withAsyncBound</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-153"></span><span>
</span><span id="line-154"></span><span id="local-6989586621679063245"><span id="local-6989586621679063246"><span id="local-6989586621679063247"><span class="annot"><a href="Control.Concurrent.Async.Lifted.html#liftWithAsync"><span class="hs-identifier hs-type">liftWithAsync</span></a></span><span>
</span><span id="line-155"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadBaseControl</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="#local-6989586621679063247"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-156"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">StM</span></span><span> </span><span class="annot"><a href="#local-6989586621679063247"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679063246"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Async</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">StM</span></span><span> </span><span class="annot"><a href="#local-6989586621679063247"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679063246"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">StM</span></span><span> </span><span class="annot"><a href="#local-6989586621679063247"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679063245"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">StM</span></span><span> </span><span class="annot"><a href="#local-6989586621679063247"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679063245"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-157"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679063247"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679063246"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Async</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">StM</span></span><span> </span><span class="annot"><a href="#local-6989586621679063247"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679063246"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679063247"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679063245"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679063247"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679063245"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-158"></span><span id="liftWithAsync"><span class="annot"><span class="annottext">liftWithAsync :: (IO (StM m a) -&gt; (Async (StM m a) -&gt; IO (StM m b)) -&gt; IO (StM m b))
-&gt; m a -&gt; (Async (StM m a) -&gt; m b) -&gt; m b
</span><a href="Control.Concurrent.Async.Lifted.html#liftWithAsync"><span class="hs-identifier hs-var hs-var">liftWithAsync</span></a></span></span><span> </span><span id="local-6989586621679062884"><span class="annot"><span class="annottext">IO (StM m a) -&gt; (Async (StM m a) -&gt; IO (StM m b)) -&gt; IO (StM m b)
</span><a href="#local-6989586621679062884"><span class="hs-identifier hs-var">withA</span></a></span></span><span> </span><span id="local-6989586621679062883"><span class="annot"><span class="annottext">m a
</span><a href="#local-6989586621679062883"><span class="hs-identifier hs-var">action</span></a></span></span><span> </span><span id="local-6989586621679062882"><span class="annot"><span class="annottext">Async (StM m a) -&gt; m b
</span><a href="#local-6989586621679062882"><span class="hs-identifier hs-var">cont</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">StM m b -&gt; m b
forall (b :: * -&gt; *) (m :: * -&gt; *) a.
MonadBaseControl b m =&gt;
StM m a -&gt; m a
</span><span class="hs-identifier hs-var">restoreM</span></span><span> </span><span class="annot"><span class="annottext">(StM m b -&gt; m b) -&gt; m (StM m b) -&gt; m b
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span><span class="hs-operator hs-var">=&lt;&lt;</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-159"></span><span>  </span><span class="annot"><span class="annottext">(RunInBase m IO -&gt; IO (StM m b)) -&gt; m (StM m b)
forall (b :: * -&gt; *) (m :: * -&gt; *) a.
MonadBaseControl b m =&gt;
(RunInBase m b -&gt; b a) -&gt; m a
</span><span class="hs-identifier hs-var">liftBaseWith</span></span><span> </span><span class="annot"><span class="annottext">((RunInBase m IO -&gt; IO (StM m b)) -&gt; m (StM m b))
-&gt; (RunInBase m IO -&gt; IO (StM m b)) -&gt; m (StM m b)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679062879"><span class="annot"><span class="annottext">RunInBase m IO
</span><a href="#local-6989586621679062879"><span class="hs-identifier hs-var">runInIO</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-160"></span><span>    </span><span class="annot"><span class="annottext">IO (StM m a) -&gt; (Async (StM m a) -&gt; IO (StM m b)) -&gt; IO (StM m b)
</span><a href="#local-6989586621679062884"><span class="hs-identifier hs-var">withA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">m a -&gt; IO (StM m a)
RunInBase m IO
</span><a href="#local-6989586621679062879"><span class="hs-identifier hs-var">runInIO</span></a></span><span> </span><span class="annot"><span class="annottext">m a
</span><a href="#local-6989586621679062883"><span class="hs-identifier hs-var">action</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">m b -&gt; IO (StM m b)
RunInBase m IO
</span><a href="#local-6989586621679062879"><span class="hs-identifier hs-var">runInIO</span></a></span><span> </span><span class="annot"><span class="annottext">(m b -&gt; IO (StM m b))
-&gt; (Async (StM m a) -&gt; m b) -&gt; Async (StM m a) -&gt; IO (StM m b)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Async (StM m a) -&gt; m b
</span><a href="#local-6989586621679062882"><span class="hs-identifier hs-var">cont</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-161"></span><span>
</span><span id="line-162"></span><span class="hs-comment">-- | Generalized version of 'A.withAsyncOn'.</span><span>
</span><span id="line-163"></span><span id="local-6989586621679062875"><span id="local-6989586621679062876"><span id="local-6989586621679062877"><span class="annot"><a href="Control.Concurrent.Async.Lifted.html#withAsyncOn"><span class="hs-identifier hs-type">withAsyncOn</span></a></span><span>
</span><span id="line-164"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadBaseControl</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="#local-6989586621679062877"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-165"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span>
</span><span id="line-166"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679062877"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679062876"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-167"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Async</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">StM</span></span><span> </span><span class="annot"><a href="#local-6989586621679062877"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679062876"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679062877"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679062875"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-168"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679062877"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679062875"><span class="hs-identifier hs-type">b</span></a></span></span></span></span><span>
</span><span id="line-169"></span><span id="withAsyncOn"><span class="annot"><span class="annottext">withAsyncOn :: Int -&gt; m a -&gt; (Async (StM m a) -&gt; m b) -&gt; m b
</span><a href="Control.Concurrent.Async.Lifted.html#withAsyncOn"><span class="hs-identifier hs-var hs-var">withAsyncOn</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(m a -&gt; m (Async (StM m a)))
-&gt; m a -&gt; (Async (StM m a) -&gt; m b) -&gt; m b
forall (m :: * -&gt; *) a b.
MonadBaseControl IO m =&gt;
(m a -&gt; m (Async (StM m a)))
-&gt; m a -&gt; (Async (StM m a) -&gt; m b) -&gt; m b
</span><a href="Control.Concurrent.Async.Lifted.html#withAsyncUsing"><span class="hs-identifier hs-var">withAsyncUsing</span></a></span><span> </span><span class="annot"><span class="annottext">((m a -&gt; m (Async (StM m a)))
 -&gt; m a -&gt; (Async (StM m a) -&gt; m b) -&gt; m b)
-&gt; (Int -&gt; m a -&gt; m (Async (StM m a)))
-&gt; Int
-&gt; m a
-&gt; (Async (StM m a) -&gt; m b)
-&gt; m b
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; m a -&gt; m (Async (StM m a))
forall (m :: * -&gt; *) a.
MonadBaseControl IO m =&gt;
Int -&gt; m a -&gt; m (Async (StM m a))
</span><a href="Control.Concurrent.Async.Lifted.html#asyncOn"><span class="hs-identifier hs-var">asyncOn</span></a></span><span>
</span><span id="line-170"></span><span class="hs-pragma">{-# INLINABLE</span><span> </span><span class="annot"><a href="Control.Concurrent.Async.Lifted.html#withAsyncOn"><span class="hs-pragma hs-type">withAsyncOn</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-171"></span><span>
</span><span id="line-172"></span><span class="hs-comment">-- | Generalized version of 'A.withAsyncWithUnmask'.</span><span>
</span><span id="line-173"></span><span id="local-6989586621679062871"><span id="local-6989586621679062872"><span id="local-6989586621679062873"><span class="annot"><a href="Control.Concurrent.Async.Lifted.html#withAsyncWithUnmask"><span class="hs-identifier hs-type">withAsyncWithUnmask</span></a></span><span>
</span><span id="line-174"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadBaseControl</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="#local-6989586621679062873"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-175"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679063220"><span class="annot"><a href="#local-6989586621679063220"><span class="hs-identifier hs-type">c</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="#local-6989586621679062873"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679063220"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679062873"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679063220"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679062873"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679062872"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-176"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Async</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">StM</span></span><span> </span><span class="annot"><a href="#local-6989586621679062873"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679062872"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679062873"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679062871"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-177"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679062873"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679062871"><span class="hs-identifier hs-type">b</span></a></span></span></span></span><span>
</span><span id="line-178"></span><span id="withAsyncWithUnmask"><span class="annot"><span class="annottext">withAsyncWithUnmask :: ((forall c. m c -&gt; m c) -&gt; m a) -&gt; (Async (StM m a) -&gt; m b) -&gt; m b
</span><a href="Control.Concurrent.Async.Lifted.html#withAsyncWithUnmask"><span class="hs-identifier hs-var hs-var">withAsyncWithUnmask</span></a></span></span><span> </span><span id="local-6989586621679062870"><span class="annot"><span class="annottext">(forall c. m c -&gt; m c) -&gt; m a
</span><a href="#local-6989586621679062870"><span class="hs-identifier hs-var">actionWith</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-179"></span><span>  </span><span class="annot"><span class="annottext">(m a -&gt; m (Async (StM m a)))
-&gt; m a -&gt; (Async (StM m a) -&gt; m b) -&gt; m b
forall (m :: * -&gt; *) a b.
MonadBaseControl IO m =&gt;
(m a -&gt; m (Async (StM m a)))
-&gt; m a -&gt; (Async (StM m a) -&gt; m b) -&gt; m b
</span><a href="Control.Concurrent.Async.Lifted.html#withAsyncUsing"><span class="hs-identifier hs-var">withAsyncUsing</span></a></span><span> </span><span class="annot"><span class="annottext">m a -&gt; m (Async (StM m a))
forall (m :: * -&gt; *) a.
MonadBaseControl IO m =&gt;
m a -&gt; m (Async (StM m a))
</span><a href="Control.Concurrent.Async.Lifted.html#async"><span class="hs-identifier hs-var">async</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(forall c. m c -&gt; m c) -&gt; m a
</span><a href="#local-6989586621679062870"><span class="hs-identifier hs-var">actionWith</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(IO (StM m c) -&gt; IO (StM m c)) -&gt; m c -&gt; m c
forall (b :: * -&gt; *) (m :: * -&gt; *) a c.
MonadBaseControl b m =&gt;
(b (StM m a) -&gt; b (StM m c)) -&gt; m a -&gt; m c
</span><span class="hs-identifier hs-var">liftBaseOp_</span></span><span> </span><span class="annot"><span class="annottext">IO (StM m c) -&gt; IO (StM m c)
forall a. IO a -&gt; IO a
</span><span class="hs-identifier hs-var">unsafeUnmask</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-180"></span><span class="hs-pragma">{-# INLINABLE</span><span> </span><span class="annot"><a href="Control.Concurrent.Async.Lifted.html#withAsyncWithUnmask"><span class="hs-pragma hs-type">withAsyncWithUnmask</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-181"></span><span>
</span><span id="line-182"></span><span class="hs-comment">-- | Generalized version of 'A.withAsyncOnWithUnmask'.</span><span>
</span><span id="line-183"></span><span id="local-6989586621679062867"><span id="local-6989586621679062868"><span id="local-6989586621679062869"><span class="annot"><a href="Control.Concurrent.Async.Lifted.html#withAsyncOnWithUnmask"><span class="hs-identifier hs-type">withAsyncOnWithUnmask</span></a></span><span>
</span><span id="line-184"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadBaseControl</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="#local-6989586621679062869"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-185"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span>
</span><span id="line-186"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679063213"><span class="annot"><a href="#local-6989586621679063213"><span class="hs-identifier hs-type">c</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="#local-6989586621679062869"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679063213"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679062869"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679063213"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679062869"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679062868"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-187"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Async</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">StM</span></span><span> </span><span class="annot"><a href="#local-6989586621679062869"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679062868"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679062869"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679062867"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-188"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679062869"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679062867"><span class="hs-identifier hs-type">b</span></a></span></span></span></span><span>
</span><span id="line-189"></span><span id="withAsyncOnWithUnmask"><span class="annot"><span class="annottext">withAsyncOnWithUnmask :: Int
-&gt; ((forall c. m c -&gt; m c) -&gt; m a)
-&gt; (Async (StM m a) -&gt; m b)
-&gt; m b
</span><a href="Control.Concurrent.Async.Lifted.html#withAsyncOnWithUnmask"><span class="hs-identifier hs-var hs-var">withAsyncOnWithUnmask</span></a></span></span><span> </span><span id="local-6989586621679062866"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679062866"><span class="hs-identifier hs-var">cpu</span></a></span></span><span> </span><span id="local-6989586621679062865"><span class="annot"><span class="annottext">(forall c. m c -&gt; m c) -&gt; m a
</span><a href="#local-6989586621679062865"><span class="hs-identifier hs-var">actionWith</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-190"></span><span>  </span><span class="annot"><span class="annottext">(m a -&gt; m (Async (StM m a)))
-&gt; m a -&gt; (Async (StM m a) -&gt; m b) -&gt; m b
forall (m :: * -&gt; *) a b.
MonadBaseControl IO m =&gt;
(m a -&gt; m (Async (StM m a)))
-&gt; m a -&gt; (Async (StM m a) -&gt; m b) -&gt; m b
</span><a href="Control.Concurrent.Async.Lifted.html#withAsyncUsing"><span class="hs-identifier hs-var">withAsyncUsing</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; m a -&gt; m (Async (StM m a))
forall (m :: * -&gt; *) a.
MonadBaseControl IO m =&gt;
Int -&gt; m a -&gt; m (Async (StM m a))
</span><a href="Control.Concurrent.Async.Lifted.html#asyncOn"><span class="hs-identifier hs-var">asyncOn</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679062866"><span class="hs-identifier hs-var">cpu</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(forall c. m c -&gt; m c) -&gt; m a
</span><a href="#local-6989586621679062865"><span class="hs-identifier hs-var">actionWith</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(IO (StM m c) -&gt; IO (StM m c)) -&gt; m c -&gt; m c
forall (b :: * -&gt; *) (m :: * -&gt; *) a c.
MonadBaseControl b m =&gt;
(b (StM m a) -&gt; b (StM m c)) -&gt; m a -&gt; m c
</span><span class="hs-identifier hs-var">liftBaseOp_</span></span><span> </span><span class="annot"><span class="annottext">IO (StM m c) -&gt; IO (StM m c)
forall a. IO a -&gt; IO a
</span><span class="hs-identifier hs-var">unsafeUnmask</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-191"></span><span class="hs-pragma">{-# INLINABLE</span><span> </span><span class="annot"><a href="Control.Concurrent.Async.Lifted.html#withAsyncOnWithUnmask"><span class="hs-pragma hs-type">withAsyncOnWithUnmask</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-192"></span><span>
</span><span id="line-193"></span><span id="local-6989586621679063224"><span id="local-6989586621679063225"><span id="local-6989586621679063226"><span class="annot"><a href="Control.Concurrent.Async.Lifted.html#withAsyncUsing"><span class="hs-identifier hs-type">withAsyncUsing</span></a></span><span>
</span><span id="line-194"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadBaseControl</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="#local-6989586621679063226"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-195"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679063226"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679063225"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679063226"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Async</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">StM</span></span><span> </span><span class="annot"><a href="#local-6989586621679063226"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679063225"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-196"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679063226"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679063225"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-197"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Async</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">StM</span></span><span> </span><span class="annot"><a href="#local-6989586621679063226"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679063225"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679063226"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679063224"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-198"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679063226"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679063224"><span class="hs-identifier hs-type">b</span></a></span></span></span></span><span>
</span><span id="line-199"></span><span id="withAsyncUsing"><span class="annot"><span class="annottext">withAsyncUsing :: (m a -&gt; m (Async (StM m a)))
-&gt; m a -&gt; (Async (StM m a) -&gt; m b) -&gt; m b
</span><a href="Control.Concurrent.Async.Lifted.html#withAsyncUsing"><span class="hs-identifier hs-var hs-var">withAsyncUsing</span></a></span></span><span> </span><span id="local-6989586621679062864"><span class="annot"><span class="annottext">m a -&gt; m (Async (StM m a))
</span><a href="#local-6989586621679062864"><span class="hs-identifier hs-var">fork</span></a></span></span><span> </span><span id="local-6989586621679062863"><span class="annot"><span class="annottext">m a
</span><a href="#local-6989586621679062863"><span class="hs-identifier hs-var">action</span></a></span></span><span> </span><span id="local-6989586621679062862"><span class="annot"><span class="annottext">Async (StM m a) -&gt; m b
</span><a href="#local-6989586621679062862"><span class="hs-identifier hs-var">inner</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((forall a. m a -&gt; m a) -&gt; m b) -&gt; m b
forall (m :: * -&gt; *) b.
MonadBaseControl IO m =&gt;
((forall a. m a -&gt; m a) -&gt; m b) -&gt; m b
</span><span class="hs-identifier hs-var">E.mask</span></span><span> </span><span class="annot"><span class="annottext">(((forall a. m a -&gt; m a) -&gt; m b) -&gt; m b)
-&gt; ((forall a. m a -&gt; m a) -&gt; m b) -&gt; m b
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679062860"><span class="annot"><span class="annottext">forall a. m a -&gt; m a
</span><a href="#local-6989586621679062860"><span class="hs-identifier hs-var">restore</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-200"></span><span>  </span><span id="local-6989586621679062859"><span class="annot"><span class="annottext">Async (StM m a)
</span><a href="#local-6989586621679062859"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">m a -&gt; m (Async (StM m a))
</span><a href="#local-6989586621679062864"><span class="hs-identifier hs-var">fork</span></a></span><span> </span><span class="annot"><span class="annottext">(m a -&gt; m (Async (StM m a))) -&gt; m a -&gt; m (Async (StM m a))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">m a -&gt; m a
forall a. m a -&gt; m a
</span><a href="#local-6989586621679062860"><span class="hs-identifier hs-var">restore</span></a></span><span> </span><span class="annot"><span class="annottext">m a
</span><a href="#local-6989586621679062863"><span class="hs-identifier hs-var">action</span></a></span><span>
</span><span id="line-201"></span><span>  </span><span id="local-6989586621679062858"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679062858"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">m b -&gt; m b
forall a. m a -&gt; m a
</span><a href="#local-6989586621679062860"><span class="hs-identifier hs-var">restore</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Async (StM m a) -&gt; m b
</span><a href="#local-6989586621679062862"><span class="hs-identifier hs-var">inner</span></a></span><span> </span><span class="annot"><span class="annottext">Async (StM m a)
</span><a href="#local-6989586621679062859"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">m b -&gt; (SomeException -&gt; m b) -&gt; m b
forall (m :: * -&gt; *) e a.
(MonadBaseControl IO m, Exception e) =&gt;
m a -&gt; (e -&gt; m a) -&gt; m a
</span><span class="hs-operator hs-var">`E.catch`</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679062856"><span class="annot"><span class="annottext">SomeException
</span><a href="#local-6989586621679062856"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-202"></span><span>    </span><span class="annot"><span class="annottext">Async (StM m a) -&gt; m ()
forall (m :: * -&gt; *) a. MonadBase IO m =&gt; Async a -&gt; m ()
</span><a href="Control.Concurrent.Async.Lifted.html#cancel"><span class="hs-identifier hs-var">cancel</span></a></span><span> </span><span class="annot"><span class="annottext">Async (StM m a)
</span><a href="#local-6989586621679062859"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-203"></span><span>    </span><span class="annot"><span class="annottext">SomeException -&gt; m b
forall (m :: * -&gt; *) e a. (MonadBase IO m, Exception e) =&gt; e -&gt; m a
</span><span class="hs-identifier hs-var">E.throwIO</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SomeException
</span><a href="#local-6989586621679062856"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">SomeException</span></span><span class="hs-special">)</span><span>
</span><span id="line-204"></span><span>  </span><span class="annot"><span class="annottext">Async (StM m a) -&gt; m ()
forall (m :: * -&gt; *) a. MonadBase IO m =&gt; Async a -&gt; m ()
</span><a href="Control.Concurrent.Async.Lifted.html#cancel"><span class="hs-identifier hs-var">cancel</span></a></span><span> </span><span class="annot"><span class="annottext">Async (StM m a)
</span><a href="#local-6989586621679062859"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-205"></span><span>  </span><span class="annot"><span class="annottext">b -&gt; m b
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679062858"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-206"></span><span>
</span><span id="line-207"></span><span class="hs-comment">-- | Generalized version of 'A.wait'.</span><span>
</span><span id="line-208"></span><span id="local-6989586621679062853"><span id="local-6989586621679062854"><span class="annot"><a href="Control.Concurrent.Async.Lifted.html#wait"><span class="hs-identifier hs-type">wait</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadBaseControl</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="#local-6989586621679062854"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Async</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">StM</span></span><span> </span><span class="annot"><a href="#local-6989586621679062854"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679062853"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679062854"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679062853"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-209"></span><span id="wait"><span class="annot"><span class="annottext">wait :: Async (StM m a) -&gt; m a
</span><a href="Control.Concurrent.Async.Lifted.html#wait"><span class="hs-identifier hs-var hs-var">wait</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IO (StM m a) -&gt; m (StM m a)
forall (b :: * -&gt; *) (m :: * -&gt; *) &#945;. MonadBase b m =&gt; b &#945; -&gt; m &#945;
</span><span class="hs-identifier hs-var">liftBase</span></span><span> </span><span class="annot"><span class="annottext">(IO (StM m a) -&gt; m (StM m a))
-&gt; (Async (StM m a) -&gt; IO (StM m a))
-&gt; Async (StM m a)
-&gt; m (StM m a)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Async (StM m a) -&gt; IO (StM m a)
forall a. Async a -&gt; IO a
</span><span class="hs-identifier hs-var">A.wait</span></span><span> </span><span class="annot"><span class="annottext">(Async (StM m a) -&gt; m (StM m a))
-&gt; (StM m a -&gt; m a) -&gt; Async (StM m a) -&gt; m a
forall (m :: * -&gt; *) a b c.
Monad m =&gt;
(a -&gt; m b) -&gt; (b -&gt; m c) -&gt; a -&gt; m c
</span><span class="hs-operator hs-var">&gt;=&gt;</span></span><span> </span><span class="annot"><span class="annottext">StM m a -&gt; m a
forall (b :: * -&gt; *) (m :: * -&gt; *) a.
MonadBaseControl b m =&gt;
StM m a -&gt; m a
</span><span class="hs-identifier hs-var">restoreM</span></span><span>
</span><span id="line-210"></span><span>
</span><span id="line-211"></span><span class="hs-comment">-- | Generalized version of 'A.poll'.</span><span>
</span><span id="line-212"></span><span id="local-6989586621679062849"><span id="local-6989586621679062850"><span class="annot"><a href="Control.Concurrent.Async.Lifted.html#poll"><span class="hs-identifier hs-type">poll</span></a></span><span>
</span><span id="line-213"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadBaseControl</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="#local-6989586621679062850"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-214"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Async</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">StM</span></span><span> </span><span class="annot"><a href="#local-6989586621679062850"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679062849"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-215"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679062850"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">SomeException</span></span><span> </span><span class="annot"><a href="#local-6989586621679062849"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span></span><span>
</span><span id="line-216"></span><span id="poll"><span class="annot"><span class="annottext">poll :: Async (StM m a) -&gt; m (Maybe (Either SomeException a))
</span><a href="Control.Concurrent.Async.Lifted.html#poll"><span class="hs-identifier hs-var hs-var">poll</span></a></span></span><span> </span><span id="local-6989586621679062848"><span class="annot"><span class="annottext">Async (StM m a)
</span><a href="#local-6989586621679062848"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-217"></span><span>  </span><span class="annot"><span class="annottext">IO (Maybe (Either SomeException (StM m a)))
-&gt; m (Maybe (Either SomeException (StM m a)))
forall (b :: * -&gt; *) (m :: * -&gt; *) &#945;. MonadBase b m =&gt; b &#945; -&gt; m &#945;
</span><span class="hs-identifier hs-var">liftBase</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Async (StM m a) -&gt; IO (Maybe (Either SomeException (StM m a)))
forall a. Async a -&gt; IO (Maybe (Either SomeException a))
</span><span class="hs-identifier hs-var">A.poll</span></span><span> </span><span class="annot"><span class="annottext">Async (StM m a)
</span><a href="#local-6989586621679062848"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">m (Maybe (Either SomeException (StM m a)))
-&gt; (Maybe (Either SomeException (StM m a))
    -&gt; m (Maybe (Either SomeException a)))
-&gt; m (Maybe (Either SomeException a))
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span>
</span><span id="line-218"></span><span>  </span><span class="annot"><span class="annottext">m (Maybe (Either SomeException a))
-&gt; (Either SomeException (StM m a)
    -&gt; m (Maybe (Either SomeException a)))
-&gt; Maybe (Either SomeException (StM m a))
-&gt; m (Maybe (Either SomeException a))
forall b a. b -&gt; (a -&gt; b) -&gt; Maybe a -&gt; b
</span><span class="hs-identifier hs-var">maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe (Either SomeException a)
-&gt; m (Maybe (Either SomeException a))
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">Maybe (Either SomeException a)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Either SomeException a -&gt; Maybe (Either SomeException a))
-&gt; m (Either SomeException a) -&gt; m (Maybe (Either SomeException a))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">Either SomeException a -&gt; Maybe (Either SomeException a)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(m (Either SomeException a) -&gt; m (Maybe (Either SomeException a)))
-&gt; (Either SomeException (StM m a) -&gt; m (Either SomeException a))
-&gt; Either SomeException (StM m a)
-&gt; m (Maybe (Either SomeException a))
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Either SomeException (StM m a) -&gt; m (Either SomeException a)
forall (m :: * -&gt; *) e a.
MonadBaseControl IO m =&gt;
Either e (StM m a) -&gt; m (Either e a)
</span><a href="Control.Concurrent.Async.Lifted.html#sequenceEither"><span class="hs-identifier hs-var">sequenceEither</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-219"></span><span>
</span><span id="line-220"></span><span class="hs-comment">-- | Generalized version of 'A.cancel'.</span><span>
</span><span id="line-221"></span><span id="local-6989586621679063196"><span id="local-6989586621679063198"><span class="annot"><a href="Control.Concurrent.Async.Lifted.html#cancel"><span class="hs-identifier hs-type">cancel</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadBase</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="#local-6989586621679063198"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Async</span></span><span> </span><span class="annot"><a href="#local-6989586621679063196"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679063198"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span></span><span>
</span><span id="line-222"></span><span id="cancel"><span class="annot"><span class="annottext">cancel :: Async a -&gt; m ()
</span><a href="Control.Concurrent.Async.Lifted.html#cancel"><span class="hs-identifier hs-var hs-var">cancel</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IO () -&gt; m ()
forall (b :: * -&gt; *) (m :: * -&gt; *) &#945;. MonadBase b m =&gt; b &#945; -&gt; m &#945;
</span><span class="hs-identifier hs-var">liftBase</span></span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; m ()) -&gt; (Async a -&gt; IO ()) -&gt; Async a -&gt; m ()
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Async a -&gt; IO ()
forall a. Async a -&gt; IO ()
</span><span class="hs-identifier hs-var">A.cancel</span></span><span>
</span><span id="line-223"></span><span>
</span><span id="line-224"></span><span class="hs-comment">-- | Generalized version of 'A.cancelWith'.</span><span>
</span><span id="line-225"></span><span id="local-6989586621679062841"><span id="local-6989586621679062842"><span id="local-6989586621679062843"><span class="annot"><a href="Control.Concurrent.Async.Lifted.html#cancelWith"><span class="hs-identifier hs-type">cancelWith</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadBase</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="#local-6989586621679062843"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Exception</span></span><span> </span><span class="annot"><a href="#local-6989586621679062842"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Async</span></span><span> </span><span class="annot"><a href="#local-6989586621679062841"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679062842"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679062843"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-226"></span><span id="cancelWith"><span class="annot"><span class="annottext">cancelWith :: Async a -&gt; e -&gt; m ()
</span><a href="Control.Concurrent.Async.Lifted.html#cancelWith"><span class="hs-identifier hs-var hs-var">cancelWith</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IO () -&gt; m ()
forall (b :: * -&gt; *) (m :: * -&gt; *) &#945;. MonadBase b m =&gt; b &#945; -&gt; m &#945;
</span><span class="hs-identifier hs-var">liftBase</span></span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; m ()) -&gt; (e -&gt; IO ()) -&gt; e -&gt; m ()
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((e -&gt; IO ()) -&gt; e -&gt; m ())
-&gt; (Async a -&gt; e -&gt; IO ()) -&gt; Async a -&gt; e -&gt; m ()
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Async a -&gt; e -&gt; IO ()
forall e a. Exception e =&gt; Async a -&gt; e -&gt; IO ()
</span><span class="hs-identifier hs-var">A.cancelWith</span></span><span>
</span><span id="line-227"></span><span>
</span><span id="line-228"></span><span class="hs-comment">-- | Generalized version of 'A.uninterruptibleCancel'.</span><span>
</span><span id="line-229"></span><span id="local-6989586621679062838"><span id="local-6989586621679062839"><span class="annot"><a href="Control.Concurrent.Async.Lifted.html#uninterruptibleCancel"><span class="hs-identifier hs-type">uninterruptibleCancel</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadBase</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="#local-6989586621679062839"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Async</span></span><span> </span><span class="annot"><a href="#local-6989586621679062838"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679062839"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span></span><span>
</span><span id="line-230"></span><span id="uninterruptibleCancel"><span class="annot"><span class="annottext">uninterruptibleCancel :: Async a -&gt; m ()
</span><a href="Control.Concurrent.Async.Lifted.html#uninterruptibleCancel"><span class="hs-identifier hs-var hs-var">uninterruptibleCancel</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IO () -&gt; m ()
forall (b :: * -&gt; *) (m :: * -&gt; *) &#945;. MonadBase b m =&gt; b &#945; -&gt; m &#945;
</span><span class="hs-identifier hs-var">liftBase</span></span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; m ()) -&gt; (Async a -&gt; IO ()) -&gt; Async a -&gt; m ()
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Async a -&gt; IO ()
forall a. Async a -&gt; IO ()
</span><span class="hs-identifier hs-var">A.uninterruptibleCancel</span></span><span>
</span><span id="line-231"></span><span>
</span><span id="line-232"></span><span class="hs-comment">-- | Generalized version of 'A.waitCatch'.</span><span>
</span><span id="line-233"></span><span id="local-6989586621679062835"><span id="local-6989586621679062836"><span class="annot"><a href="Control.Concurrent.Async.Lifted.html#waitCatch"><span class="hs-identifier hs-type">waitCatch</span></a></span><span>
</span><span id="line-234"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadBaseControl</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="#local-6989586621679062836"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-235"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Async</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">StM</span></span><span> </span><span class="annot"><a href="#local-6989586621679062836"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679062835"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-236"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679062836"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">SomeException</span></span><span> </span><span class="annot"><a href="#local-6989586621679062835"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-237"></span><span id="waitCatch"><span class="annot"><span class="annottext">waitCatch :: Async (StM m a) -&gt; m (Either SomeException a)
</span><a href="Control.Concurrent.Async.Lifted.html#waitCatch"><span class="hs-identifier hs-var hs-var">waitCatch</span></a></span></span><span> </span><span id="local-6989586621679062834"><span class="annot"><span class="annottext">Async (StM m a)
</span><a href="#local-6989586621679062834"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IO (Either SomeException (StM m a))
-&gt; m (Either SomeException (StM m a))
forall (b :: * -&gt; *) (m :: * -&gt; *) &#945;. MonadBase b m =&gt; b &#945; -&gt; m &#945;
</span><span class="hs-identifier hs-var">liftBase</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Async (StM m a) -&gt; IO (Either SomeException (StM m a))
forall a. Async a -&gt; IO (Either SomeException a)
</span><span class="hs-identifier hs-var">A.waitCatch</span></span><span> </span><span class="annot"><span class="annottext">Async (StM m a)
</span><a href="#local-6989586621679062834"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">m (Either SomeException (StM m a))
-&gt; (Either SomeException (StM m a) -&gt; m (Either SomeException a))
-&gt; m (Either SomeException a)
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="annot"><span class="annottext">Either SomeException (StM m a) -&gt; m (Either SomeException a)
forall (m :: * -&gt; *) e a.
MonadBaseControl IO m =&gt;
Either e (StM m a) -&gt; m (Either e a)
</span><a href="Control.Concurrent.Async.Lifted.html#sequenceEither"><span class="hs-identifier hs-var">sequenceEither</span></a></span><span>
</span><span id="line-238"></span><span>
</span><span id="line-239"></span><span class="hs-comment">-- | Generalized version of 'A.waitAny'.</span><span>
</span><span id="line-240"></span><span id="local-6989586621679062831"><span id="local-6989586621679062832"><span class="annot"><a href="Control.Concurrent.Async.Lifted.html#waitAny"><span class="hs-identifier hs-type">waitAny</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadBaseControl</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="#local-6989586621679062832"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Async</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">StM</span></span><span> </span><span class="annot"><a href="#local-6989586621679062832"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679062831"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679062832"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Async</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">StM</span></span><span> </span><span class="annot"><a href="#local-6989586621679062832"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679062831"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679062831"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-241"></span><span id="waitAny"><span class="annot"><span class="annottext">waitAny :: [Async (StM m a)] -&gt; m (Async (StM m a), a)
</span><a href="Control.Concurrent.Async.Lifted.html#waitAny"><span class="hs-identifier hs-var hs-var">waitAny</span></a></span></span><span> </span><span id="local-6989586621679062830"><span class="annot"><span class="annottext">[Async (StM m a)]
</span><a href="#local-6989586621679062830"><span class="hs-keyword hs-var">as</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-242"></span><span>  </span><span class="hs-special">(</span><span id="local-6989586621679062829"><span class="annot"><span class="annottext">Async (StM m a)
</span><a href="#local-6989586621679062829"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679062828"><span class="annot"><span class="annottext">StM m a
</span><a href="#local-6989586621679062828"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO (Async (StM m a), StM m a) -&gt; m (Async (StM m a), StM m a)
forall (b :: * -&gt; *) (m :: * -&gt; *) &#945;. MonadBase b m =&gt; b &#945; -&gt; m &#945;
</span><span class="hs-identifier hs-var">liftBase</span></span><span> </span><span class="annot"><span class="annottext">(IO (Async (StM m a), StM m a) -&gt; m (Async (StM m a), StM m a))
-&gt; IO (Async (StM m a), StM m a) -&gt; m (Async (StM m a), StM m a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[Async (StM m a)] -&gt; IO (Async (StM m a), StM m a)
forall a. [Async a] -&gt; IO (Async a, a)
</span><span class="hs-identifier hs-var">A.waitAny</span></span><span> </span><span class="annot"><span class="annottext">[Async (StM m a)]
</span><a href="#local-6989586621679062830"><span class="hs-keyword hs-var">as</span></a></span><span>
</span><span id="line-243"></span><span>  </span><span id="local-6989586621679062826"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679062826"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">StM m a -&gt; m a
forall (b :: * -&gt; *) (m :: * -&gt; *) a.
MonadBaseControl b m =&gt;
StM m a -&gt; m a
</span><span class="hs-identifier hs-var">restoreM</span></span><span> </span><span class="annot"><span class="annottext">StM m a
</span><a href="#local-6989586621679062828"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-244"></span><span>  </span><span class="annot"><span class="annottext">(Async (StM m a), a) -&gt; m (Async (StM m a), a)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Async (StM m a)
</span><a href="#local-6989586621679062829"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679062826"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-245"></span><span>
</span><span id="line-246"></span><span class="hs-comment">-- | Generalized version of 'A.waitAnyCatch'.</span><span>
</span><span id="line-247"></span><span id="local-6989586621679062824"><span id="local-6989586621679062825"><span class="annot"><a href="Control.Concurrent.Async.Lifted.html#waitAnyCatch"><span class="hs-identifier hs-type">waitAnyCatch</span></a></span><span>
</span><span id="line-248"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadBaseControl</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="#local-6989586621679062825"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-249"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Async</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">StM</span></span><span> </span><span class="annot"><a href="#local-6989586621679062825"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679062824"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-250"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679062825"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Async</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">StM</span></span><span> </span><span class="annot"><a href="#local-6989586621679062825"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679062824"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">SomeException</span></span><span> </span><span class="annot"><a href="#local-6989586621679062824"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-251"></span><span id="waitAnyCatch"><span class="annot"><span class="annottext">waitAnyCatch :: [Async (StM m a)] -&gt; m (Async (StM m a), Either SomeException a)
</span><a href="Control.Concurrent.Async.Lifted.html#waitAnyCatch"><span class="hs-identifier hs-var hs-var">waitAnyCatch</span></a></span></span><span> </span><span id="local-6989586621679062823"><span class="annot"><span class="annottext">[Async (StM m a)]
</span><a href="#local-6989586621679062823"><span class="hs-keyword hs-var">as</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-252"></span><span>  </span><span class="hs-special">(</span><span id="local-6989586621679062822"><span class="annot"><span class="annottext">Async (StM m a)
</span><a href="#local-6989586621679062822"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679062821"><span class="annot"><span class="annottext">Either SomeException (StM m a)
</span><a href="#local-6989586621679062821"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO (Async (StM m a), Either SomeException (StM m a))
-&gt; m (Async (StM m a), Either SomeException (StM m a))
forall (b :: * -&gt; *) (m :: * -&gt; *) &#945;. MonadBase b m =&gt; b &#945; -&gt; m &#945;
</span><span class="hs-identifier hs-var">liftBase</span></span><span> </span><span class="annot"><span class="annottext">(IO (Async (StM m a), Either SomeException (StM m a))
 -&gt; m (Async (StM m a), Either SomeException (StM m a)))
-&gt; IO (Async (StM m a), Either SomeException (StM m a))
-&gt; m (Async (StM m a), Either SomeException (StM m a))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[Async (StM m a)]
-&gt; IO (Async (StM m a), Either SomeException (StM m a))
forall a. [Async a] -&gt; IO (Async a, Either SomeException a)
</span><span class="hs-identifier hs-var">A.waitAnyCatch</span></span><span> </span><span class="annot"><span class="annottext">[Async (StM m a)]
</span><a href="#local-6989586621679062823"><span class="hs-keyword hs-var">as</span></a></span><span>
</span><span id="line-253"></span><span>  </span><span id="local-6989586621679062819"><span class="annot"><span class="annottext">Either SomeException a
</span><a href="#local-6989586621679062819"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Either SomeException (StM m a) -&gt; m (Either SomeException a)
forall (m :: * -&gt; *) e a.
MonadBaseControl IO m =&gt;
Either e (StM m a) -&gt; m (Either e a)
</span><a href="Control.Concurrent.Async.Lifted.html#sequenceEither"><span class="hs-identifier hs-var">sequenceEither</span></a></span><span> </span><span class="annot"><span class="annottext">Either SomeException (StM m a)
</span><a href="#local-6989586621679062821"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-254"></span><span>  </span><span class="annot"><span class="annottext">(Async (StM m a), Either SomeException a)
-&gt; m (Async (StM m a), Either SomeException a)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Async (StM m a)
</span><a href="#local-6989586621679062822"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Either SomeException a
</span><a href="#local-6989586621679062819"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-255"></span><span>
</span><span id="line-256"></span><span class="hs-comment">-- | Generalized version of 'A.waitAnyCancel'.</span><span>
</span><span id="line-257"></span><span id="local-6989586621679062817"><span id="local-6989586621679062818"><span class="annot"><a href="Control.Concurrent.Async.Lifted.html#waitAnyCancel"><span class="hs-identifier hs-type">waitAnyCancel</span></a></span><span>
</span><span id="line-258"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadBaseControl</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="#local-6989586621679062818"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-259"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Async</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">StM</span></span><span> </span><span class="annot"><a href="#local-6989586621679062818"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679062817"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-260"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679062818"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Async</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">StM</span></span><span> </span><span class="annot"><a href="#local-6989586621679062818"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679062817"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679062817"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-261"></span><span id="waitAnyCancel"><span class="annot"><span class="annottext">waitAnyCancel :: [Async (StM m a)] -&gt; m (Async (StM m a), a)
</span><a href="Control.Concurrent.Async.Lifted.html#waitAnyCancel"><span class="hs-identifier hs-var hs-var">waitAnyCancel</span></a></span></span><span> </span><span id="local-6989586621679062816"><span class="annot"><span class="annottext">[Async (StM m a)]
</span><a href="#local-6989586621679062816"><span class="hs-keyword hs-var">as</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-262"></span><span>  </span><span class="hs-special">(</span><span id="local-6989586621679062815"><span class="annot"><span class="annottext">Async (StM m a)
</span><a href="#local-6989586621679062815"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679062814"><span class="annot"><span class="annottext">StM m a
</span><a href="#local-6989586621679062814"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO (Async (StM m a), StM m a) -&gt; m (Async (StM m a), StM m a)
forall (b :: * -&gt; *) (m :: * -&gt; *) &#945;. MonadBase b m =&gt; b &#945; -&gt; m &#945;
</span><span class="hs-identifier hs-var">liftBase</span></span><span> </span><span class="annot"><span class="annottext">(IO (Async (StM m a), StM m a) -&gt; m (Async (StM m a), StM m a))
-&gt; IO (Async (StM m a), StM m a) -&gt; m (Async (StM m a), StM m a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[Async (StM m a)] -&gt; IO (Async (StM m a), StM m a)
forall a. [Async a] -&gt; IO (Async a, a)
</span><span class="hs-identifier hs-var">A.waitAnyCancel</span></span><span> </span><span class="annot"><span class="annottext">[Async (StM m a)]
</span><a href="#local-6989586621679062816"><span class="hs-keyword hs-var">as</span></a></span><span>
</span><span id="line-263"></span><span>  </span><span id="local-6989586621679062812"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679062812"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">StM m a -&gt; m a
forall (b :: * -&gt; *) (m :: * -&gt; *) a.
MonadBaseControl b m =&gt;
StM m a -&gt; m a
</span><span class="hs-identifier hs-var">restoreM</span></span><span> </span><span class="annot"><span class="annottext">StM m a
</span><a href="#local-6989586621679062814"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-264"></span><span>  </span><span class="annot"><span class="annottext">(Async (StM m a), a) -&gt; m (Async (StM m a), a)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Async (StM m a)
</span><a href="#local-6989586621679062815"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679062812"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-265"></span><span>
</span><span id="line-266"></span><span class="hs-comment">-- | Generalized version of 'A.waitAnyCatchCancel'.</span><span>
</span><span id="line-267"></span><span id="local-6989586621679062810"><span id="local-6989586621679062811"><span class="annot"><a href="Control.Concurrent.Async.Lifted.html#waitAnyCatchCancel"><span class="hs-identifier hs-type">waitAnyCatchCancel</span></a></span><span>
</span><span id="line-268"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadBaseControl</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="#local-6989586621679062811"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-269"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Async</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">StM</span></span><span> </span><span class="annot"><a href="#local-6989586621679062811"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679062810"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-270"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679062811"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Async</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">StM</span></span><span> </span><span class="annot"><a href="#local-6989586621679062811"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679062810"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">SomeException</span></span><span> </span><span class="annot"><a href="#local-6989586621679062810"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-271"></span><span id="waitAnyCatchCancel"><span class="annot"><span class="annottext">waitAnyCatchCancel :: [Async (StM m a)] -&gt; m (Async (StM m a), Either SomeException a)
</span><a href="Control.Concurrent.Async.Lifted.html#waitAnyCatchCancel"><span class="hs-identifier hs-var hs-var">waitAnyCatchCancel</span></a></span></span><span> </span><span id="local-6989586621679062809"><span class="annot"><span class="annottext">[Async (StM m a)]
</span><a href="#local-6989586621679062809"><span class="hs-keyword hs-var">as</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-272"></span><span>  </span><span class="hs-special">(</span><span id="local-6989586621679062808"><span class="annot"><span class="annottext">Async (StM m a)
</span><a href="#local-6989586621679062808"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679062807"><span class="annot"><span class="annottext">Either SomeException (StM m a)
</span><a href="#local-6989586621679062807"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO (Async (StM m a), Either SomeException (StM m a))
-&gt; m (Async (StM m a), Either SomeException (StM m a))
forall (b :: * -&gt; *) (m :: * -&gt; *) &#945;. MonadBase b m =&gt; b &#945; -&gt; m &#945;
</span><span class="hs-identifier hs-var">liftBase</span></span><span> </span><span class="annot"><span class="annottext">(IO (Async (StM m a), Either SomeException (StM m a))
 -&gt; m (Async (StM m a), Either SomeException (StM m a)))
-&gt; IO (Async (StM m a), Either SomeException (StM m a))
-&gt; m (Async (StM m a), Either SomeException (StM m a))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[Async (StM m a)]
-&gt; IO (Async (StM m a), Either SomeException (StM m a))
forall a. [Async a] -&gt; IO (Async a, Either SomeException a)
</span><span class="hs-identifier hs-var">A.waitAnyCatchCancel</span></span><span> </span><span class="annot"><span class="annottext">[Async (StM m a)]
</span><a href="#local-6989586621679062809"><span class="hs-keyword hs-var">as</span></a></span><span>
</span><span id="line-273"></span><span>  </span><span id="local-6989586621679062805"><span class="annot"><span class="annottext">Either SomeException a
</span><a href="#local-6989586621679062805"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Either SomeException (StM m a) -&gt; m (Either SomeException a)
forall (m :: * -&gt; *) e a.
MonadBaseControl IO m =&gt;
Either e (StM m a) -&gt; m (Either e a)
</span><a href="Control.Concurrent.Async.Lifted.html#sequenceEither"><span class="hs-identifier hs-var">sequenceEither</span></a></span><span> </span><span class="annot"><span class="annottext">Either SomeException (StM m a)
</span><a href="#local-6989586621679062807"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-274"></span><span>  </span><span class="annot"><span class="annottext">(Async (StM m a), Either SomeException a)
-&gt; m (Async (StM m a), Either SomeException a)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Async (StM m a)
</span><a href="#local-6989586621679062808"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Either SomeException a
</span><a href="#local-6989586621679062805"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-275"></span><span>
</span><span id="line-276"></span><span class="hs-comment">-- | Generalized version of 'A.waitEither'.</span><span>
</span><span id="line-277"></span><span id="local-6989586621679063099"><span id="local-6989586621679063100"><span id="local-6989586621679063101"><span class="annot"><a href="Control.Concurrent.Async.Lifted.html#waitEither"><span class="hs-identifier hs-type">waitEither</span></a></span><span>
</span><span id="line-278"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadBaseControl</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="#local-6989586621679063101"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-279"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Async</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">StM</span></span><span> </span><span class="annot"><a href="#local-6989586621679063101"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679063100"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-280"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Async</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">StM</span></span><span> </span><span class="annot"><a href="#local-6989586621679063101"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679063099"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-281"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679063101"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="#local-6989586621679063100"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679063099"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-282"></span><span id="waitEither"><span class="annot"><span class="annottext">waitEither :: Async (StM m a) -&gt; Async (StM m b) -&gt; m (Either a b)
</span><a href="Control.Concurrent.Async.Lifted.html#waitEither"><span class="hs-identifier hs-var hs-var">waitEither</span></a></span></span><span> </span><span id="local-6989586621679062804"><span class="annot"><span class="annottext">Async (StM m a)
</span><a href="#local-6989586621679062804"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679062803"><span class="annot"><span class="annottext">Async (StM m b)
</span><a href="#local-6989586621679062803"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-283"></span><span>  </span><span class="annot"><span class="annottext">IO (Either (StM m a) (StM m b)) -&gt; m (Either (StM m a) (StM m b))
forall (b :: * -&gt; *) (m :: * -&gt; *) &#945;. MonadBase b m =&gt; b &#945; -&gt; m &#945;
</span><span class="hs-identifier hs-var">liftBase</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Async (StM m a)
-&gt; Async (StM m b) -&gt; IO (Either (StM m a) (StM m b))
forall a b. Async a -&gt; Async b -&gt; IO (Either a b)
</span><span class="hs-identifier hs-var">A.waitEither</span></span><span> </span><span class="annot"><span class="annottext">Async (StM m a)
</span><a href="#local-6989586621679062804"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Async (StM m b)
</span><a href="#local-6989586621679062803"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">m (Either (StM m a) (StM m b))
-&gt; (Either (StM m a) (StM m b) -&gt; m (Either a b)) -&gt; m (Either a b)
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span>
</span><span id="line-284"></span><span>  </span><span class="annot"><span class="annottext">(StM m a -&gt; m (Either a b))
-&gt; (StM m b -&gt; m (Either a b))
-&gt; Either (StM m a) (StM m b)
-&gt; m (Either a b)
forall a c b. (a -&gt; c) -&gt; (b -&gt; c) -&gt; Either a b -&gt; c
</span><span class="hs-identifier hs-var">either</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(a -&gt; Either a b) -&gt; m a -&gt; m (Either a b)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; Either a b
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">(m a -&gt; m (Either a b))
-&gt; (StM m a -&gt; m a) -&gt; StM m a -&gt; m (Either a b)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">StM m a -&gt; m a
forall (b :: * -&gt; *) (m :: * -&gt; *) a.
MonadBaseControl b m =&gt;
StM m a -&gt; m a
</span><span class="hs-identifier hs-var">restoreM</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(b -&gt; Either a b) -&gt; m b -&gt; m (Either a b)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">b -&gt; Either a b
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">(m b -&gt; m (Either a b))
-&gt; (StM m b -&gt; m b) -&gt; StM m b -&gt; m (Either a b)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">StM m b -&gt; m b
forall (b :: * -&gt; *) (m :: * -&gt; *) a.
MonadBaseControl b m =&gt;
StM m a -&gt; m a
</span><span class="hs-identifier hs-var">restoreM</span></span><span class="hs-special">)</span><span>
</span><span id="line-285"></span><span>
</span><span id="line-286"></span><span class="hs-comment">-- | Generalized version of 'A.waitEitherCatch'.</span><span>
</span><span id="line-287"></span><span id="local-6989586621679062798"><span id="local-6989586621679062799"><span id="local-6989586621679062800"><span class="annot"><a href="Control.Concurrent.Async.Lifted.html#waitEitherCatch"><span class="hs-identifier hs-type">waitEitherCatch</span></a></span><span>
</span><span id="line-288"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadBaseControl</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="#local-6989586621679062800"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-289"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Async</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">StM</span></span><span> </span><span class="annot"><a href="#local-6989586621679062800"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679062799"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-290"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Async</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">StM</span></span><span> </span><span class="annot"><a href="#local-6989586621679062800"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679062798"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-291"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679062800"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">SomeException</span></span><span> </span><span class="annot"><a href="#local-6989586621679062799"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">SomeException</span></span><span> </span><span class="annot"><a href="#local-6989586621679062798"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-292"></span><span id="waitEitherCatch"><span class="annot"><span class="annottext">waitEitherCatch :: Async (StM m a)
-&gt; Async (StM m b)
-&gt; m (Either (Either SomeException a) (Either SomeException b))
</span><a href="Control.Concurrent.Async.Lifted.html#waitEitherCatch"><span class="hs-identifier hs-var hs-var">waitEitherCatch</span></a></span></span><span> </span><span id="local-6989586621679062797"><span class="annot"><span class="annottext">Async (StM m a)
</span><a href="#local-6989586621679062797"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679062796"><span class="annot"><span class="annottext">Async (StM m b)
</span><a href="#local-6989586621679062796"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-293"></span><span>  </span><span class="annot"><span class="annottext">IO
  (Either
     (Either SomeException (StM m a)) (Either SomeException (StM m b)))
-&gt; m (Either
        (Either SomeException (StM m a)) (Either SomeException (StM m b)))
forall (b :: * -&gt; *) (m :: * -&gt; *) &#945;. MonadBase b m =&gt; b &#945; -&gt; m &#945;
</span><span class="hs-identifier hs-var">liftBase</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Async (StM m a)
-&gt; Async (StM m b)
-&gt; IO
     (Either
        (Either SomeException (StM m a)) (Either SomeException (StM m b)))
forall a b.
Async a
-&gt; Async b
-&gt; IO (Either (Either SomeException a) (Either SomeException b))
</span><span class="hs-identifier hs-var">A.waitEitherCatch</span></span><span> </span><span class="annot"><span class="annottext">Async (StM m a)
</span><a href="#local-6989586621679062797"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Async (StM m b)
</span><a href="#local-6989586621679062796"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">m (Either
     (Either SomeException (StM m a)) (Either SomeException (StM m b)))
-&gt; (Either
      (Either SomeException (StM m a)) (Either SomeException (StM m b))
    -&gt; m (Either (Either SomeException a) (Either SomeException b)))
-&gt; m (Either (Either SomeException a) (Either SomeException b))
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span>
</span><span id="line-294"></span><span>  </span><span class="annot"><span class="annottext">(Either SomeException (StM m a)
 -&gt; m (Either (Either SomeException a) (Either SomeException b)))
-&gt; (Either SomeException (StM m b)
    -&gt; m (Either (Either SomeException a) (Either SomeException b)))
-&gt; Either
     (Either SomeException (StM m a)) (Either SomeException (StM m b))
-&gt; m (Either (Either SomeException a) (Either SomeException b))
forall a c b. (a -&gt; c) -&gt; (b -&gt; c) -&gt; Either a b -&gt; c
</span><span class="hs-identifier hs-var">either</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Either SomeException a
 -&gt; Either (Either SomeException a) (Either SomeException b))
-&gt; m (Either SomeException a)
-&gt; m (Either (Either SomeException a) (Either SomeException b))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">Either SomeException a
-&gt; Either (Either SomeException a) (Either SomeException b)
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">(m (Either SomeException a)
 -&gt; m (Either (Either SomeException a) (Either SomeException b)))
-&gt; (Either SomeException (StM m a) -&gt; m (Either SomeException a))
-&gt; Either SomeException (StM m a)
-&gt; m (Either (Either SomeException a) (Either SomeException b))
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Either SomeException (StM m a) -&gt; m (Either SomeException a)
forall (m :: * -&gt; *) e a.
MonadBaseControl IO m =&gt;
Either e (StM m a) -&gt; m (Either e a)
</span><a href="Control.Concurrent.Async.Lifted.html#sequenceEither"><span class="hs-identifier hs-var">sequenceEither</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Either SomeException b
 -&gt; Either (Either SomeException a) (Either SomeException b))
-&gt; m (Either SomeException b)
-&gt; m (Either (Either SomeException a) (Either SomeException b))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">Either SomeException b
-&gt; Either (Either SomeException a) (Either SomeException b)
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">(m (Either SomeException b)
 -&gt; m (Either (Either SomeException a) (Either SomeException b)))
-&gt; (Either SomeException (StM m b) -&gt; m (Either SomeException b))
-&gt; Either SomeException (StM m b)
-&gt; m (Either (Either SomeException a) (Either SomeException b))
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Either SomeException (StM m b) -&gt; m (Either SomeException b)
forall (m :: * -&gt; *) e a.
MonadBaseControl IO m =&gt;
Either e (StM m a) -&gt; m (Either e a)
</span><a href="Control.Concurrent.Async.Lifted.html#sequenceEither"><span class="hs-identifier hs-var">sequenceEither</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-295"></span><span>
</span><span id="line-296"></span><span class="hs-comment">-- | Generalized version of 'A.waitEitherCancel'.</span><span>
</span><span id="line-297"></span><span id="local-6989586621679062792"><span id="local-6989586621679062793"><span id="local-6989586621679062794"><span class="annot"><a href="Control.Concurrent.Async.Lifted.html#waitEitherCancel"><span class="hs-identifier hs-type">waitEitherCancel</span></a></span><span>
</span><span id="line-298"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadBaseControl</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="#local-6989586621679062794"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-299"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Async</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">StM</span></span><span> </span><span class="annot"><a href="#local-6989586621679062794"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679062793"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-300"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Async</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">StM</span></span><span> </span><span class="annot"><a href="#local-6989586621679062794"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679062792"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-301"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679062794"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="#local-6989586621679062793"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679062792"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-302"></span><span id="waitEitherCancel"><span class="annot"><span class="annottext">waitEitherCancel :: Async (StM m a) -&gt; Async (StM m b) -&gt; m (Either a b)
</span><a href="Control.Concurrent.Async.Lifted.html#waitEitherCancel"><span class="hs-identifier hs-var hs-var">waitEitherCancel</span></a></span></span><span> </span><span id="local-6989586621679062791"><span class="annot"><span class="annottext">Async (StM m a)
</span><a href="#local-6989586621679062791"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679062790"><span class="annot"><span class="annottext">Async (StM m b)
</span><a href="#local-6989586621679062790"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-303"></span><span>  </span><span class="annot"><span class="annottext">IO (Either (StM m a) (StM m b)) -&gt; m (Either (StM m a) (StM m b))
forall (b :: * -&gt; *) (m :: * -&gt; *) &#945;. MonadBase b m =&gt; b &#945; -&gt; m &#945;
</span><span class="hs-identifier hs-var">liftBase</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Async (StM m a)
-&gt; Async (StM m b) -&gt; IO (Either (StM m a) (StM m b))
forall a b. Async a -&gt; Async b -&gt; IO (Either a b)
</span><span class="hs-identifier hs-var">A.waitEitherCancel</span></span><span> </span><span class="annot"><span class="annottext">Async (StM m a)
</span><a href="#local-6989586621679062791"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Async (StM m b)
</span><a href="#local-6989586621679062790"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">m (Either (StM m a) (StM m b))
-&gt; (Either (StM m a) (StM m b) -&gt; m (Either a b)) -&gt; m (Either a b)
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span>
</span><span id="line-304"></span><span>  </span><span class="annot"><span class="annottext">(StM m a -&gt; m (Either a b))
-&gt; (StM m b -&gt; m (Either a b))
-&gt; Either (StM m a) (StM m b)
-&gt; m (Either a b)
forall a c b. (a -&gt; c) -&gt; (b -&gt; c) -&gt; Either a b -&gt; c
</span><span class="hs-identifier hs-var">either</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(a -&gt; Either a b) -&gt; m a -&gt; m (Either a b)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; Either a b
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">(m a -&gt; m (Either a b))
-&gt; (StM m a -&gt; m a) -&gt; StM m a -&gt; m (Either a b)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">StM m a -&gt; m a
forall (b :: * -&gt; *) (m :: * -&gt; *) a.
MonadBaseControl b m =&gt;
StM m a -&gt; m a
</span><span class="hs-identifier hs-var">restoreM</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(b -&gt; Either a b) -&gt; m b -&gt; m (Either a b)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">b -&gt; Either a b
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">(m b -&gt; m (Either a b))
-&gt; (StM m b -&gt; m b) -&gt; StM m b -&gt; m (Either a b)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">StM m b -&gt; m b
forall (b :: * -&gt; *) (m :: * -&gt; *) a.
MonadBaseControl b m =&gt;
StM m a -&gt; m a
</span><span class="hs-identifier hs-var">restoreM</span></span><span class="hs-special">)</span><span>
</span><span id="line-305"></span><span>
</span><span id="line-306"></span><span class="hs-comment">-- | Generalized version of 'A.waitEitherCatchCancel'.</span><span>
</span><span id="line-307"></span><span id="local-6989586621679062786"><span id="local-6989586621679062787"><span id="local-6989586621679062788"><span class="annot"><a href="Control.Concurrent.Async.Lifted.html#waitEitherCatchCancel"><span class="hs-identifier hs-type">waitEitherCatchCancel</span></a></span><span>
</span><span id="line-308"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadBaseControl</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="#local-6989586621679062788"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-309"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Async</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">StM</span></span><span> </span><span class="annot"><a href="#local-6989586621679062788"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679062787"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-310"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Async</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">StM</span></span><span> </span><span class="annot"><a href="#local-6989586621679062788"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679062786"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-311"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679062788"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">SomeException</span></span><span> </span><span class="annot"><a href="#local-6989586621679062787"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">SomeException</span></span><span> </span><span class="annot"><a href="#local-6989586621679062786"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-312"></span><span id="waitEitherCatchCancel"><span class="annot"><span class="annottext">waitEitherCatchCancel :: Async (StM m a)
-&gt; Async (StM m b)
-&gt; m (Either (Either SomeException a) (Either SomeException b))
</span><a href="Control.Concurrent.Async.Lifted.html#waitEitherCatchCancel"><span class="hs-identifier hs-var hs-var">waitEitherCatchCancel</span></a></span></span><span> </span><span id="local-6989586621679062785"><span class="annot"><span class="annottext">Async (StM m a)
</span><a href="#local-6989586621679062785"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679062784"><span class="annot"><span class="annottext">Async (StM m b)
</span><a href="#local-6989586621679062784"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-313"></span><span>  </span><span class="annot"><span class="annottext">IO
  (Either
     (Either SomeException (StM m a)) (Either SomeException (StM m b)))
-&gt; m (Either
        (Either SomeException (StM m a)) (Either SomeException (StM m b)))
forall (b :: * -&gt; *) (m :: * -&gt; *) &#945;. MonadBase b m =&gt; b &#945; -&gt; m &#945;
</span><span class="hs-identifier hs-var">liftBase</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Async (StM m a)
-&gt; Async (StM m b)
-&gt; IO
     (Either
        (Either SomeException (StM m a)) (Either SomeException (StM m b)))
forall a b.
Async a
-&gt; Async b
-&gt; IO (Either (Either SomeException a) (Either SomeException b))
</span><span class="hs-identifier hs-var">A.waitEitherCatch</span></span><span> </span><span class="annot"><span class="annottext">Async (StM m a)
</span><a href="#local-6989586621679062785"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Async (StM m b)
</span><a href="#local-6989586621679062784"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">m (Either
     (Either SomeException (StM m a)) (Either SomeException (StM m b)))
-&gt; (Either
      (Either SomeException (StM m a)) (Either SomeException (StM m b))
    -&gt; m (Either (Either SomeException a) (Either SomeException b)))
-&gt; m (Either (Either SomeException a) (Either SomeException b))
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span>
</span><span id="line-314"></span><span>  </span><span class="annot"><span class="annottext">(Either SomeException (StM m a)
 -&gt; m (Either (Either SomeException a) (Either SomeException b)))
-&gt; (Either SomeException (StM m b)
    -&gt; m (Either (Either SomeException a) (Either SomeException b)))
-&gt; Either
     (Either SomeException (StM m a)) (Either SomeException (StM m b))
-&gt; m (Either (Either SomeException a) (Either SomeException b))
forall a c b. (a -&gt; c) -&gt; (b -&gt; c) -&gt; Either a b -&gt; c
</span><span class="hs-identifier hs-var">either</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Either SomeException a
 -&gt; Either (Either SomeException a) (Either SomeException b))
-&gt; m (Either SomeException a)
-&gt; m (Either (Either SomeException a) (Either SomeException b))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">Either SomeException a
-&gt; Either (Either SomeException a) (Either SomeException b)
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">(m (Either SomeException a)
 -&gt; m (Either (Either SomeException a) (Either SomeException b)))
-&gt; (Either SomeException (StM m a) -&gt; m (Either SomeException a))
-&gt; Either SomeException (StM m a)
-&gt; m (Either (Either SomeException a) (Either SomeException b))
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Either SomeException (StM m a) -&gt; m (Either SomeException a)
forall (m :: * -&gt; *) e a.
MonadBaseControl IO m =&gt;
Either e (StM m a) -&gt; m (Either e a)
</span><a href="Control.Concurrent.Async.Lifted.html#sequenceEither"><span class="hs-identifier hs-var">sequenceEither</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Either SomeException b
 -&gt; Either (Either SomeException a) (Either SomeException b))
-&gt; m (Either SomeException b)
-&gt; m (Either (Either SomeException a) (Either SomeException b))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">Either SomeException b
-&gt; Either (Either SomeException a) (Either SomeException b)
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">(m (Either SomeException b)
 -&gt; m (Either (Either SomeException a) (Either SomeException b)))
-&gt; (Either SomeException (StM m b) -&gt; m (Either SomeException b))
-&gt; Either SomeException (StM m b)
-&gt; m (Either (Either SomeException a) (Either SomeException b))
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Either SomeException (StM m b) -&gt; m (Either SomeException b)
forall (m :: * -&gt; *) e a.
MonadBaseControl IO m =&gt;
Either e (StM m a) -&gt; m (Either e a)
</span><a href="Control.Concurrent.Async.Lifted.html#sequenceEither"><span class="hs-identifier hs-var">sequenceEither</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-315"></span><span>
</span><span id="line-316"></span><span class="hs-comment">-- | Generalized version of 'A.waitEither_'.</span><span>
</span><span id="line-317"></span><span class="hs-comment">--</span><span>
</span><span id="line-318"></span><span class="hs-comment">-- NOTE: This function discards the monadic effects besides IO in the forked</span><span>
</span><span id="line-319"></span><span class="hs-comment">-- computation.</span><span>
</span><span id="line-320"></span><span id="local-6989586621679063093"><span id="local-6989586621679063094"><span id="local-6989586621679063095"><span class="annot"><a href="Control.Concurrent.Async.Lifted.html#waitEither_"><span class="hs-identifier hs-type">waitEither_</span></a></span><span>
</span><span id="line-321"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadBase</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="#local-6989586621679063095"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-322"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Async</span></span><span> </span><span class="annot"><a href="#local-6989586621679063094"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-323"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Async</span></span><span> </span><span class="annot"><a href="#local-6989586621679063093"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-324"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679063095"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-325"></span><span id="waitEither_"><span class="annot"><span class="annottext">waitEither_ :: Async a -&gt; Async b -&gt; m ()
</span><a href="Control.Concurrent.Async.Lifted.html#waitEither_"><span class="hs-identifier hs-var hs-var">waitEither_</span></a></span></span><span> </span><span id="local-6989586621679062783"><span class="annot"><span class="annottext">Async a
</span><a href="#local-6989586621679062783"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679062782"><span class="annot"><span class="annottext">Async b
</span><a href="#local-6989586621679062782"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IO () -&gt; m ()
forall (b :: * -&gt; *) (m :: * -&gt; *) &#945;. MonadBase b m =&gt; b &#945; -&gt; m &#945;
</span><span class="hs-identifier hs-var">liftBase</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Async a -&gt; Async b -&gt; IO ()
forall a b. Async a -&gt; Async b -&gt; IO ()
</span><span class="hs-identifier hs-var">A.waitEither_</span></span><span> </span><span class="annot"><span class="annottext">Async a
</span><a href="#local-6989586621679062783"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Async b
</span><a href="#local-6989586621679062782"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-326"></span><span>
</span><span id="line-327"></span><span class="hs-comment">-- | Generalized version of 'A.waitBoth'.</span><span>
</span><span id="line-328"></span><span id="local-6989586621679063087"><span id="local-6989586621679063088"><span id="local-6989586621679063089"><span class="annot"><a href="Control.Concurrent.Async.Lifted.html#waitBoth"><span class="hs-identifier hs-type">waitBoth</span></a></span><span>
</span><span id="line-329"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadBaseControl</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="#local-6989586621679063089"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-330"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Async</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">StM</span></span><span> </span><span class="annot"><a href="#local-6989586621679063089"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679063088"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-331"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Async</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">StM</span></span><span> </span><span class="annot"><a href="#local-6989586621679063089"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679063087"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-332"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679063089"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679063088"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679063087"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-333"></span><span id="waitBoth"><span class="annot"><span class="annottext">waitBoth :: Async (StM m a) -&gt; Async (StM m b) -&gt; m (a, b)
</span><a href="Control.Concurrent.Async.Lifted.html#waitBoth"><span class="hs-identifier hs-var hs-var">waitBoth</span></a></span></span><span> </span><span id="local-6989586621679062780"><span class="annot"><span class="annottext">Async (StM m a)
</span><a href="#local-6989586621679062780"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679062779"><span class="annot"><span class="annottext">Async (StM m b)
</span><a href="#local-6989586621679062779"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-334"></span><span>  </span><span class="hs-special">(</span><span id="local-6989586621679062778"><span class="annot"><span class="annottext">StM m a
</span><a href="#local-6989586621679062778"><span class="hs-identifier hs-var">sa</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679062777"><span class="annot"><span class="annottext">StM m b
</span><a href="#local-6989586621679062777"><span class="hs-identifier hs-var">sb</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO (StM m a, StM m b) -&gt; m (StM m a, StM m b)
forall (b :: * -&gt; *) (m :: * -&gt; *) &#945;. MonadBase b m =&gt; b &#945; -&gt; m &#945;
</span><span class="hs-identifier hs-var">liftBase</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Async (StM m a) -&gt; Async (StM m b) -&gt; IO (StM m a, StM m b)
forall a b. Async a -&gt; Async b -&gt; IO (a, b)
</span><span class="hs-identifier hs-var">A.waitBoth</span></span><span> </span><span class="annot"><span class="annottext">Async (StM m a)
</span><a href="#local-6989586621679062780"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Async (StM m b)
</span><a href="#local-6989586621679062779"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-335"></span><span>  </span><span id="local-6989586621679062775"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679062775"><span class="hs-identifier hs-var">ra</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">StM m a -&gt; m a
forall (b :: * -&gt; *) (m :: * -&gt; *) a.
MonadBaseControl b m =&gt;
StM m a -&gt; m a
</span><span class="hs-identifier hs-var">restoreM</span></span><span> </span><span class="annot"><span class="annottext">StM m a
</span><a href="#local-6989586621679062778"><span class="hs-identifier hs-var">sa</span></a></span><span>
</span><span id="line-336"></span><span>  </span><span id="local-6989586621679062774"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679062774"><span class="hs-identifier hs-var">rb</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">StM m b -&gt; m b
forall (b :: * -&gt; *) (m :: * -&gt; *) a.
MonadBaseControl b m =&gt;
StM m a -&gt; m a
</span><span class="hs-identifier hs-var">restoreM</span></span><span> </span><span class="annot"><span class="annottext">StM m b
</span><a href="#local-6989586621679062777"><span class="hs-identifier hs-var">sb</span></a></span><span>
</span><span id="line-337"></span><span>  </span><span class="annot"><span class="annottext">(a, b) -&gt; m (a, b)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679062775"><span class="hs-identifier hs-var">ra</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679062774"><span class="hs-identifier hs-var">rb</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-338"></span><span class="hs-pragma">{-# INLINABLE</span><span> </span><span class="annot"><a href="Control.Concurrent.Async.Lifted.html#waitBoth"><span class="hs-pragma hs-type">waitBoth</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-339"></span><span>
</span><span id="line-340"></span><span class="hs-comment">-- | Generalized version of 'A.link'.</span><span>
</span><span id="line-341"></span><span id="local-6989586621679062772"><span id="local-6989586621679062773"><span class="annot"><a href="Control.Concurrent.Async.Lifted.html#link"><span class="hs-identifier hs-type">link</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadBase</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="#local-6989586621679062773"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Async</span></span><span> </span><span class="annot"><a href="#local-6989586621679062772"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679062773"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span></span><span>
</span><span id="line-342"></span><span id="link"><span class="annot"><span class="annottext">link :: Async a -&gt; m ()
</span><a href="Control.Concurrent.Async.Lifted.html#link"><span class="hs-identifier hs-var hs-var">link</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IO () -&gt; m ()
forall (b :: * -&gt; *) (m :: * -&gt; *) &#945;. MonadBase b m =&gt; b &#945; -&gt; m &#945;
</span><span class="hs-identifier hs-var">liftBase</span></span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; m ()) -&gt; (Async a -&gt; IO ()) -&gt; Async a -&gt; m ()
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Async a -&gt; IO ()
forall a. Async a -&gt; IO ()
</span><span class="hs-identifier hs-var">A.link</span></span><span>
</span><span id="line-343"></span><span>
</span><span id="line-344"></span><span class="hs-comment">-- | Generalized version of 'A.link2'.</span><span>
</span><span id="line-345"></span><span id="local-6989586621679062768"><span id="local-6989586621679062769"><span id="local-6989586621679062770"><span class="annot"><a href="Control.Concurrent.Async.Lifted.html#link2"><span class="hs-identifier hs-type">link2</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadBase</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="#local-6989586621679062770"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Async</span></span><span> </span><span class="annot"><a href="#local-6989586621679062769"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Async</span></span><span> </span><span class="annot"><a href="#local-6989586621679062768"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679062770"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-346"></span><span id="link2"><span class="annot"><span class="annottext">link2 :: Async a -&gt; Async b -&gt; m ()
</span><a href="Control.Concurrent.Async.Lifted.html#link2"><span class="hs-identifier hs-var hs-var">link2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IO () -&gt; m ()
forall (b :: * -&gt; *) (m :: * -&gt; *) &#945;. MonadBase b m =&gt; b &#945; -&gt; m &#945;
</span><span class="hs-identifier hs-var">liftBase</span></span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; m ()) -&gt; (Async b -&gt; IO ()) -&gt; Async b -&gt; m ()
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((Async b -&gt; IO ()) -&gt; Async b -&gt; m ())
-&gt; (Async a -&gt; Async b -&gt; IO ()) -&gt; Async a -&gt; Async b -&gt; m ()
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Async a -&gt; Async b -&gt; IO ()
forall a b. Async a -&gt; Async b -&gt; IO ()
</span><span class="hs-identifier hs-var">A.link2</span></span><span>
</span><span id="line-347"></span><span>
</span><span id="line-348"></span><span class="hs-comment">-- | Generalized version of 'A.race'.</span><span>
</span><span id="line-349"></span><span id="local-6989586621679062979"><span id="local-6989586621679062980"><span id="local-6989586621679062981"><span class="annot"><a href="Control.Concurrent.Async.Lifted.html#race"><span class="hs-identifier hs-type">race</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadBaseControl</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="#local-6989586621679062981"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679062981"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679062980"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679062981"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679062979"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679062981"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="#local-6989586621679062980"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679062979"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-350"></span><span id="race"><span class="annot"><span class="annottext">race :: m a -&gt; m b -&gt; m (Either a b)
</span><a href="Control.Concurrent.Async.Lifted.html#race"><span class="hs-identifier hs-var hs-var">race</span></a></span></span><span> </span><span id="local-6989586621679062766"><span class="annot"><span class="annottext">m a
</span><a href="#local-6989586621679062766"><span class="hs-identifier hs-var">left</span></a></span></span><span> </span><span id="local-6989586621679062765"><span class="annot"><span class="annottext">m b
</span><a href="#local-6989586621679062765"><span class="hs-identifier hs-var">right</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-351"></span><span>  </span><span class="annot"><span class="annottext">m a -&gt; (Async (StM m a) -&gt; m (Either a b)) -&gt; m (Either a b)
forall (m :: * -&gt; *) a b.
MonadBaseControl IO m =&gt;
m a -&gt; (Async (StM m a) -&gt; m b) -&gt; m b
</span><a href="Control.Concurrent.Async.Lifted.html#withAsync"><span class="hs-identifier hs-var">withAsync</span></a></span><span> </span><span class="annot"><span class="annottext">m a
</span><a href="#local-6989586621679062766"><span class="hs-identifier hs-var">left</span></a></span><span> </span><span class="annot"><span class="annottext">((Async (StM m a) -&gt; m (Either a b)) -&gt; m (Either a b))
-&gt; (Async (StM m a) -&gt; m (Either a b)) -&gt; m (Either a b)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679062764"><span class="annot"><span class="annottext">Async (StM m a)
</span><a href="#local-6989586621679062764"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-352"></span><span>  </span><span class="annot"><span class="annottext">m b -&gt; (Async (StM m b) -&gt; m (Either a b)) -&gt; m (Either a b)
forall (m :: * -&gt; *) a b.
MonadBaseControl IO m =&gt;
m a -&gt; (Async (StM m a) -&gt; m b) -&gt; m b
</span><a href="Control.Concurrent.Async.Lifted.html#withAsync"><span class="hs-identifier hs-var">withAsync</span></a></span><span> </span><span class="annot"><span class="annottext">m b
</span><a href="#local-6989586621679062765"><span class="hs-identifier hs-var">right</span></a></span><span> </span><span class="annot"><span class="annottext">((Async (StM m b) -&gt; m (Either a b)) -&gt; m (Either a b))
-&gt; (Async (StM m b) -&gt; m (Either a b)) -&gt; m (Either a b)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679062763"><span class="annot"><span class="annottext">Async (StM m b)
</span><a href="#local-6989586621679062763"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-353"></span><span>  </span><span class="annot"><span class="annottext">Async (StM m a) -&gt; Async (StM m b) -&gt; m (Either a b)
forall (m :: * -&gt; *) a b.
MonadBaseControl IO m =&gt;
Async (StM m a) -&gt; Async (StM m b) -&gt; m (Either a b)
</span><a href="Control.Concurrent.Async.Lifted.html#waitEither"><span class="hs-identifier hs-var">waitEither</span></a></span><span> </span><span class="annot"><span class="annottext">Async (StM m a)
</span><a href="#local-6989586621679062764"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Async (StM m b)
</span><a href="#local-6989586621679062763"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-354"></span><span class="hs-pragma">{-# INLINABLE</span><span> </span><span class="annot"><a href="Control.Concurrent.Async.Lifted.html#race"><span class="hs-pragma hs-type">race</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-355"></span><span>
</span><span id="line-356"></span><span class="hs-comment">-- | Generalized version of 'A.race_'.</span><span>
</span><span id="line-357"></span><span class="hs-comment">--</span><span>
</span><span id="line-358"></span><span class="hs-comment">-- NOTE: This function discards the monadic effects besides IO in the forked</span><span>
</span><span id="line-359"></span><span class="hs-comment">-- computation.</span><span>
</span><span id="line-360"></span><span id="local-6989586621679062760"><span id="local-6989586621679062761"><span id="local-6989586621679062762"><span class="annot"><a href="Control.Concurrent.Async.Lifted.html#race_"><span class="hs-identifier hs-type">race_</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadBaseControl</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="#local-6989586621679062762"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679062762"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679062761"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679062762"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679062760"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679062762"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-361"></span><span id="race_"><span class="annot"><span class="annottext">race_ :: m a -&gt; m b -&gt; m ()
</span><a href="Control.Concurrent.Async.Lifted.html#race_"><span class="hs-identifier hs-var hs-var">race_</span></a></span></span><span> </span><span id="local-6989586621679062759"><span class="annot"><span class="annottext">m a
</span><a href="#local-6989586621679062759"><span class="hs-identifier hs-var">left</span></a></span></span><span> </span><span id="local-6989586621679062758"><span class="annot"><span class="annottext">m b
</span><a href="#local-6989586621679062758"><span class="hs-identifier hs-var">right</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-362"></span><span>  </span><span class="annot"><span class="annottext">m a -&gt; (Async (StM m a) -&gt; m ()) -&gt; m ()
forall (m :: * -&gt; *) a b.
MonadBaseControl IO m =&gt;
m a -&gt; (Async (StM m a) -&gt; m b) -&gt; m b
</span><a href="Control.Concurrent.Async.Lifted.html#withAsync"><span class="hs-identifier hs-var">withAsync</span></a></span><span> </span><span class="annot"><span class="annottext">m a
</span><a href="#local-6989586621679062759"><span class="hs-identifier hs-var">left</span></a></span><span> </span><span class="annot"><span class="annottext">((Async (StM m a) -&gt; m ()) -&gt; m ())
-&gt; (Async (StM m a) -&gt; m ()) -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679062757"><span class="annot"><span class="annottext">Async (StM m a)
</span><a href="#local-6989586621679062757"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-363"></span><span>  </span><span class="annot"><span class="annottext">m b -&gt; (Async (StM m b) -&gt; m ()) -&gt; m ()
forall (m :: * -&gt; *) a b.
MonadBaseControl IO m =&gt;
m a -&gt; (Async (StM m a) -&gt; m b) -&gt; m b
</span><a href="Control.Concurrent.Async.Lifted.html#withAsync"><span class="hs-identifier hs-var">withAsync</span></a></span><span> </span><span class="annot"><span class="annottext">m b
</span><a href="#local-6989586621679062758"><span class="hs-identifier hs-var">right</span></a></span><span> </span><span class="annot"><span class="annottext">((Async (StM m b) -&gt; m ()) -&gt; m ())
-&gt; (Async (StM m b) -&gt; m ()) -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679062756"><span class="annot"><span class="annottext">Async (StM m b)
</span><a href="#local-6989586621679062756"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-364"></span><span>  </span><span class="annot"><span class="annottext">Async (StM m a) -&gt; Async (StM m b) -&gt; m ()
forall (m :: * -&gt; *) a b.
MonadBase IO m =&gt;
Async a -&gt; Async b -&gt; m ()
</span><a href="Control.Concurrent.Async.Lifted.html#waitEither_"><span class="hs-identifier hs-var">waitEither_</span></a></span><span> </span><span class="annot"><span class="annottext">Async (StM m a)
</span><a href="#local-6989586621679062757"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Async (StM m b)
</span><a href="#local-6989586621679062756"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-365"></span><span class="hs-pragma">{-# INLINABLE</span><span> </span><span class="annot"><a href="Control.Concurrent.Async.Lifted.html#race_"><span class="hs-pragma hs-type">race_</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-366"></span><span>
</span><span id="line-367"></span><span class="hs-comment">-- | Generalized version of 'A.concurrently'.</span><span>
</span><span id="line-368"></span><span id="local-6989586621679063079"><span id="local-6989586621679063080"><span id="local-6989586621679063081"><span class="annot"><a href="Control.Concurrent.Async.Lifted.html#concurrently"><span class="hs-identifier hs-type">concurrently</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadBaseControl</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="#local-6989586621679063081"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679063081"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679063080"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679063081"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679063079"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679063081"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679063080"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679063079"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-369"></span><span id="concurrently"><span class="annot"><span class="annottext">concurrently :: m a -&gt; m b -&gt; m (a, b)
</span><a href="Control.Concurrent.Async.Lifted.html#concurrently"><span class="hs-identifier hs-var hs-var">concurrently</span></a></span></span><span> </span><span id="local-6989586621679062755"><span class="annot"><span class="annottext">m a
</span><a href="#local-6989586621679062755"><span class="hs-identifier hs-var">left</span></a></span></span><span> </span><span id="local-6989586621679062754"><span class="annot"><span class="annottext">m b
</span><a href="#local-6989586621679062754"><span class="hs-identifier hs-var">right</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-370"></span><span>  </span><span class="annot"><span class="annottext">m a -&gt; (Async (StM m a) -&gt; m (a, b)) -&gt; m (a, b)
forall (m :: * -&gt; *) a b.
MonadBaseControl IO m =&gt;
m a -&gt; (Async (StM m a) -&gt; m b) -&gt; m b
</span><a href="Control.Concurrent.Async.Lifted.html#withAsync"><span class="hs-identifier hs-var">withAsync</span></a></span><span> </span><span class="annot"><span class="annottext">m a
</span><a href="#local-6989586621679062755"><span class="hs-identifier hs-var">left</span></a></span><span> </span><span class="annot"><span class="annottext">((Async (StM m a) -&gt; m (a, b)) -&gt; m (a, b))
-&gt; (Async (StM m a) -&gt; m (a, b)) -&gt; m (a, b)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679062753"><span class="annot"><span class="annottext">Async (StM m a)
</span><a href="#local-6989586621679062753"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-371"></span><span>  </span><span class="annot"><span class="annottext">m b -&gt; (Async (StM m b) -&gt; m (a, b)) -&gt; m (a, b)
forall (m :: * -&gt; *) a b.
MonadBaseControl IO m =&gt;
m a -&gt; (Async (StM m a) -&gt; m b) -&gt; m b
</span><a href="Control.Concurrent.Async.Lifted.html#withAsync"><span class="hs-identifier hs-var">withAsync</span></a></span><span> </span><span class="annot"><span class="annottext">m b
</span><a href="#local-6989586621679062754"><span class="hs-identifier hs-var">right</span></a></span><span> </span><span class="annot"><span class="annottext">((Async (StM m b) -&gt; m (a, b)) -&gt; m (a, b))
-&gt; (Async (StM m b) -&gt; m (a, b)) -&gt; m (a, b)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679062752"><span class="annot"><span class="annottext">Async (StM m b)
</span><a href="#local-6989586621679062752"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-372"></span><span>  </span><span class="annot"><span class="annottext">Async (StM m a) -&gt; Async (StM m b) -&gt; m (a, b)
forall (m :: * -&gt; *) a b.
MonadBaseControl IO m =&gt;
Async (StM m a) -&gt; Async (StM m b) -&gt; m (a, b)
</span><a href="Control.Concurrent.Async.Lifted.html#waitBoth"><span class="hs-identifier hs-var">waitBoth</span></a></span><span> </span><span class="annot"><span class="annottext">Async (StM m a)
</span><a href="#local-6989586621679062753"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Async (StM m b)
</span><a href="#local-6989586621679062752"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-373"></span><span class="hs-pragma">{-# INLINABLE</span><span> </span><span class="annot"><a href="Control.Concurrent.Async.Lifted.html#concurrently"><span class="hs-pragma hs-type">concurrently</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-374"></span><span>
</span><span id="line-375"></span><span class="hs-comment">-- | Generalized version of 'A.concurrently_'.</span><span>
</span><span id="line-376"></span><span id="local-6989586621679062749"><span id="local-6989586621679062750"><span id="local-6989586621679062751"><span class="annot"><a href="Control.Concurrent.Async.Lifted.html#concurrently_"><span class="hs-identifier hs-type">concurrently_</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadBaseControl</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="#local-6989586621679062751"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679062751"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679062750"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679062751"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679062749"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679062751"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-377"></span><span id="concurrently_"><span class="annot"><span class="annottext">concurrently_ :: m a -&gt; m b -&gt; m ()
</span><a href="Control.Concurrent.Async.Lifted.html#concurrently_"><span class="hs-identifier hs-var hs-var">concurrently_</span></a></span></span><span> </span><span id="local-6989586621679062748"><span class="annot"><span class="annottext">m a
</span><a href="#local-6989586621679062748"><span class="hs-identifier hs-var">left</span></a></span></span><span> </span><span id="local-6989586621679062747"><span class="annot"><span class="annottext">m b
</span><a href="#local-6989586621679062747"><span class="hs-identifier hs-var">right</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">m (a, b) -&gt; m ()
forall (f :: * -&gt; *) a. Functor f =&gt; f a -&gt; f ()
</span><span class="hs-identifier hs-var">void</span></span><span> </span><span class="annot"><span class="annottext">(m (a, b) -&gt; m ()) -&gt; m (a, b) -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">m a -&gt; m b -&gt; m (a, b)
forall (m :: * -&gt; *) a b.
MonadBaseControl IO m =&gt;
m a -&gt; m b -&gt; m (a, b)
</span><a href="Control.Concurrent.Async.Lifted.html#concurrently"><span class="hs-identifier hs-var">concurrently</span></a></span><span> </span><span class="annot"><span class="annottext">m a
</span><a href="#local-6989586621679062748"><span class="hs-identifier hs-var">left</span></a></span><span> </span><span class="annot"><span class="annottext">m b
</span><a href="#local-6989586621679062747"><span class="hs-identifier hs-var">right</span></a></span><span>
</span><span id="line-378"></span><span class="hs-pragma">{-# INLINABLE</span><span> </span><span class="annot"><a href="Control.Concurrent.Async.Lifted.html#concurrently_"><span class="hs-pragma hs-type">concurrently_</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-379"></span><span>
</span><span id="line-380"></span><span class="hs-comment">-- | Generalized version of 'A.mapConcurrently'.</span><span>
</span><span id="line-381"></span><span id="local-6989586621679063050"><span id="local-6989586621679063051"><span id="local-6989586621679063052"><span id="local-6989586621679063053"><span class="annot"><a href="Control.Concurrent.Async.Lifted.html#mapConcurrently"><span class="hs-identifier hs-type">mapConcurrently</span></a></span><span>
</span><span id="line-382"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Traversable</span></span><span> </span><span class="annot"><a href="#local-6989586621679063053"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadBaseControl</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="#local-6989586621679063052"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-383"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679063051"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679063052"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679063050"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-384"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679063053"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679063051"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-385"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679063052"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679063053"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679063050"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-386"></span><span id="mapConcurrently"><span class="annot"><span class="annottext">mapConcurrently :: (a -&gt; m b) -&gt; t a -&gt; m (t b)
</span><a href="Control.Concurrent.Async.Lifted.html#mapConcurrently"><span class="hs-identifier hs-var hs-var">mapConcurrently</span></a></span></span><span> </span><span id="local-6989586621679062746"><span class="annot"><span class="annottext">a -&gt; m b
</span><a href="#local-6989586621679062746"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Concurrently m (t b) -&gt; m (t b)
forall (m :: * -&gt; *) a. Concurrently m a -&gt; m a
</span><a href="Control.Concurrent.Async.Lifted.html#runConcurrently"><span class="hs-identifier hs-var hs-var">runConcurrently</span></a></span><span> </span><span class="annot"><span class="annottext">(Concurrently m (t b) -&gt; m (t b))
-&gt; (t a -&gt; Concurrently m (t b)) -&gt; t a -&gt; m (t b)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; Concurrently m b) -&gt; t a -&gt; Concurrently m (t b)
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
</span><span class="hs-identifier hs-var">traverse</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">m b -&gt; Concurrently m b
forall (m :: * -&gt; *) a. m a -&gt; Concurrently m a
</span><a href="Control.Concurrent.Async.Lifted.html#Concurrently"><span class="hs-identifier hs-var">Concurrently</span></a></span><span> </span><span class="annot"><span class="annottext">(m b -&gt; Concurrently m b) -&gt; (a -&gt; m b) -&gt; a -&gt; Concurrently m b
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; m b
</span><a href="#local-6989586621679062746"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-387"></span><span>
</span><span id="line-388"></span><span class="hs-comment">-- | Generalized version of 'A.mapConcurrently_'.</span><span>
</span><span id="line-389"></span><span id="local-6989586621679063042"><span id="local-6989586621679063043"><span id="local-6989586621679063044"><span id="local-6989586621679063045"><span class="annot"><a href="Control.Concurrent.Async.Lifted.html#mapConcurrently_"><span class="hs-identifier hs-type">mapConcurrently_</span></a></span><span>
</span><span id="line-390"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Foldable</span></span><span> </span><span class="annot"><a href="#local-6989586621679063045"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadBaseControl</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="#local-6989586621679063044"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-391"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679063043"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679063044"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679063042"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-392"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679063045"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679063043"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-393"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679063044"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-394"></span><span id="mapConcurrently_"><span class="annot"><span class="annottext">mapConcurrently_ :: (a -&gt; m b) -&gt; t a -&gt; m ()
</span><a href="Control.Concurrent.Async.Lifted.html#mapConcurrently_"><span class="hs-identifier hs-var hs-var">mapConcurrently_</span></a></span></span><span> </span><span id="local-6989586621679062742"><span class="annot"><span class="annottext">a -&gt; m b
</span><a href="#local-6989586621679062742"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Concurrently m () -&gt; m ()
forall (m :: * -&gt; *) a. Concurrently m a -&gt; m a
</span><a href="Control.Concurrent.Async.Lifted.html#runConcurrently"><span class="hs-identifier hs-var hs-var">runConcurrently</span></a></span><span> </span><span class="annot"><span class="annottext">(Concurrently m () -&gt; m ())
-&gt; (t a -&gt; Concurrently m ()) -&gt; t a -&gt; m ()
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; Concurrently m ()) -&gt; t a -&gt; Concurrently m ()
forall (t :: * -&gt; *) m a.
(Foldable t, Monoid m) =&gt;
(a -&gt; m) -&gt; t a -&gt; m
</span><span class="hs-identifier hs-var">foldMap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">m () -&gt; Concurrently m ()
forall (m :: * -&gt; *) a. m a -&gt; Concurrently m a
</span><a href="Control.Concurrent.Async.Lifted.html#Concurrently"><span class="hs-identifier hs-var">Concurrently</span></a></span><span> </span><span class="annot"><span class="annottext">(m () -&gt; Concurrently m ())
-&gt; (a -&gt; m ()) -&gt; a -&gt; Concurrently m ()
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">m b -&gt; m ()
forall (f :: * -&gt; *) a. Functor f =&gt; f a -&gt; f ()
</span><span class="hs-identifier hs-var">void</span></span><span> </span><span class="annot"><span class="annottext">(m b -&gt; m ()) -&gt; (a -&gt; m b) -&gt; a -&gt; m ()
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; m b
</span><a href="#local-6989586621679062742"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-395"></span><span>
</span><span id="line-396"></span><span class="hs-comment">-- | Generalized version of 'A.forConcurrently'.</span><span>
</span><span id="line-397"></span><span id="local-6989586621679062737"><span id="local-6989586621679062738"><span id="local-6989586621679062739"><span id="local-6989586621679062740"><span class="annot"><a href="Control.Concurrent.Async.Lifted.html#forConcurrently"><span class="hs-identifier hs-type">forConcurrently</span></a></span><span>
</span><span id="line-398"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Traversable</span></span><span> </span><span class="annot"><a href="#local-6989586621679062740"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadBaseControl</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="#local-6989586621679062739"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-399"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679062740"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679062738"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-400"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679062738"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679062739"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679062737"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-401"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679062739"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679062740"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679062737"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-402"></span><span id="forConcurrently"><span class="annot"><span class="annottext">forConcurrently :: t a -&gt; (a -&gt; m b) -&gt; m (t b)
</span><a href="Control.Concurrent.Async.Lifted.html#forConcurrently"><span class="hs-identifier hs-var hs-var">forConcurrently</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((a -&gt; m b) -&gt; t a -&gt; m (t b)) -&gt; t a -&gt; (a -&gt; m b) -&gt; m (t b)
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><span class="hs-identifier hs-var">flip</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, MonadBaseControl IO m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
</span><a href="Control.Concurrent.Async.Lifted.html#mapConcurrently"><span class="hs-identifier hs-var">mapConcurrently</span></a></span><span>
</span><span id="line-403"></span><span>
</span><span id="line-404"></span><span class="hs-comment">-- | Generalized version of 'A.forConcurrently_'.</span><span>
</span><span id="line-405"></span><span id="local-6989586621679062732"><span id="local-6989586621679062733"><span id="local-6989586621679062734"><span id="local-6989586621679062735"><span class="annot"><a href="Control.Concurrent.Async.Lifted.html#forConcurrently_"><span class="hs-identifier hs-type">forConcurrently_</span></a></span><span>
</span><span id="line-406"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Foldable</span></span><span> </span><span class="annot"><a href="#local-6989586621679062735"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadBaseControl</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="#local-6989586621679062734"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-407"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679062735"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679062733"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-408"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679062733"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679062734"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679062732"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-409"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679062734"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-410"></span><span id="forConcurrently_"><span class="annot"><span class="annottext">forConcurrently_ :: t a -&gt; (a -&gt; m b) -&gt; m ()
</span><a href="Control.Concurrent.Async.Lifted.html#forConcurrently_"><span class="hs-identifier hs-var hs-var">forConcurrently_</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((a -&gt; m b) -&gt; t a -&gt; m ()) -&gt; t a -&gt; (a -&gt; m b) -&gt; m ()
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><span class="hs-identifier hs-var">flip</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; m b) -&gt; t a -&gt; m ()
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Foldable t, MonadBaseControl IO m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m ()
</span><a href="Control.Concurrent.Async.Lifted.html#mapConcurrently_"><span class="hs-identifier hs-var">mapConcurrently_</span></a></span><span>
</span><span id="line-411"></span><span>
</span><span id="line-412"></span><span class="hs-comment">-- | Generalized version of 'A.replicateConcurrently'.</span><span>
</span><span id="line-413"></span><span id="local-6989586621679062730"><span id="local-6989586621679062731"><span class="annot"><a href="Control.Concurrent.Async.Lifted.html#replicateConcurrently"><span class="hs-identifier hs-type">replicateConcurrently</span></a></span><span>
</span><span id="line-414"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadBaseControl</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="#local-6989586621679062731"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-415"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span>
</span><span id="line-416"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679062731"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679062730"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-417"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679062731"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621679062730"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span></span></span><span>
</span><span id="line-418"></span><span id="replicateConcurrently"><span class="annot"><span class="annottext">replicateConcurrently :: Int -&gt; m a -&gt; m [a]
</span><a href="Control.Concurrent.Async.Lifted.html#replicateConcurrently"><span class="hs-identifier hs-var hs-var">replicateConcurrently</span></a></span></span><span> </span><span id="local-6989586621679062729"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679062729"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-419"></span><span>  </span><span class="annot"><span class="annottext">Concurrently m [a] -&gt; m [a]
forall (m :: * -&gt; *) a. Concurrently m a -&gt; m a
</span><a href="Control.Concurrent.Async.Lifted.html#runConcurrently"><span class="hs-identifier hs-var hs-var">runConcurrently</span></a></span><span> </span><span class="annot"><span class="annottext">(Concurrently m [a] -&gt; m [a])
-&gt; (m a -&gt; Concurrently m [a]) -&gt; m a -&gt; m [a]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">[Concurrently m a] -&gt; Concurrently m [a]
forall (t :: * -&gt; *) (f :: * -&gt; *) a.
(Traversable t, Applicative f) =&gt;
t (f a) -&gt; f (t a)
</span><span class="hs-identifier hs-var">sequenceA</span></span><span> </span><span class="annot"><span class="annottext">([Concurrently m a] -&gt; Concurrently m [a])
-&gt; (m a -&gt; [Concurrently m a]) -&gt; m a -&gt; Concurrently m [a]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Concurrently m a -&gt; [Concurrently m a]
forall a. Int -&gt; a -&gt; [a]
</span><span class="hs-identifier hs-var">replicate</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679062729"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">(Concurrently m a -&gt; [Concurrently m a])
-&gt; (m a -&gt; Concurrently m a) -&gt; m a -&gt; [Concurrently m a]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">m a -&gt; Concurrently m a
forall (m :: * -&gt; *) a. m a -&gt; Concurrently m a
</span><a href="Control.Concurrent.Async.Lifted.html#Concurrently"><span class="hs-identifier hs-var">Concurrently</span></a></span><span>
</span><span id="line-420"></span><span>
</span><span id="line-421"></span><span class="hs-comment">-- | Generalized version of 'A.replicateConcurrently_'.</span><span>
</span><span id="line-422"></span><span id="local-6989586621679062725"><span id="local-6989586621679062726"><span class="annot"><a href="Control.Concurrent.Async.Lifted.html#replicateConcurrently_"><span class="hs-identifier hs-type">replicateConcurrently_</span></a></span><span>
</span><span id="line-423"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadBaseControl</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="#local-6989586621679062726"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-424"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span>
</span><span id="line-425"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679062726"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679062725"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-426"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679062726"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span></span><span>
</span><span id="line-427"></span><span id="replicateConcurrently_"><span class="annot"><span class="annottext">replicateConcurrently_ :: Int -&gt; m a -&gt; m ()
</span><a href="Control.Concurrent.Async.Lifted.html#replicateConcurrently_"><span class="hs-identifier hs-var hs-var">replicateConcurrently_</span></a></span></span><span> </span><span id="local-6989586621679062724"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679062724"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-428"></span><span>  </span><span class="annot"><span class="annottext">Concurrently m () -&gt; m ()
forall (m :: * -&gt; *) a. Concurrently m a -&gt; m a
</span><a href="Control.Concurrent.Async.Lifted.html#runConcurrently"><span class="hs-identifier hs-var hs-var">runConcurrently</span></a></span><span> </span><span class="annot"><span class="annottext">(Concurrently m () -&gt; m ())
-&gt; (m a -&gt; Concurrently m ()) -&gt; m a -&gt; m ()
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">[Concurrently m ()] -&gt; Concurrently m ()
forall (t :: * -&gt; *) m. (Foldable t, Monoid m) =&gt; t m -&gt; m
</span><span class="hs-identifier hs-var">fold</span></span><span> </span><span class="annot"><span class="annottext">([Concurrently m ()] -&gt; Concurrently m ())
-&gt; (m a -&gt; [Concurrently m ()]) -&gt; m a -&gt; Concurrently m ()
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Concurrently m () -&gt; [Concurrently m ()]
forall a. Int -&gt; a -&gt; [a]
</span><span class="hs-identifier hs-var">replicate</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679062724"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">(Concurrently m () -&gt; [Concurrently m ()])
-&gt; (m a -&gt; Concurrently m ()) -&gt; m a -&gt; [Concurrently m ()]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">m () -&gt; Concurrently m ()
forall (m :: * -&gt; *) a. m a -&gt; Concurrently m a
</span><a href="Control.Concurrent.Async.Lifted.html#Concurrently"><span class="hs-identifier hs-var">Concurrently</span></a></span><span> </span><span class="annot"><span class="annottext">(m () -&gt; Concurrently m ())
-&gt; (m a -&gt; m ()) -&gt; m a -&gt; Concurrently m ()
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">m a -&gt; m ()
forall (f :: * -&gt; *) a. Functor f =&gt; f a -&gt; f ()
</span><span class="hs-identifier hs-var">void</span></span><span>
</span><span id="line-429"></span><span>
</span><span id="line-430"></span><span class="hs-comment">-- | Generalized version of 'A.Concurrently'.</span><span>
</span><span id="line-431"></span><span class="hs-comment">--</span><span>
</span><span id="line-432"></span><span class="hs-comment">-- A value of type @'Concurrently' m a@ is an IO-based operation that can be</span><span>
</span><span id="line-433"></span><span class="hs-comment">-- composed with other 'Concurrently' values, using the 'Applicative' and</span><span>
</span><span id="line-434"></span><span class="hs-comment">-- 'Alternative' instances.</span><span>
</span><span id="line-435"></span><span class="hs-comment">--</span><span>
</span><span id="line-436"></span><span class="hs-comment">-- Calling 'runConcurrently' on a value of type @'Concurrently' m a@ will</span><span>
</span><span id="line-437"></span><span class="hs-comment">-- execute the IO-based lifted operations it contains concurrently, before</span><span>
</span><span id="line-438"></span><span class="hs-comment">-- delivering the result of type 'a'.</span><span>
</span><span id="line-439"></span><span class="hs-comment">--</span><span>
</span><span id="line-440"></span><span class="hs-comment">-- For example</span><span>
</span><span id="line-441"></span><span class="hs-comment">--</span><span>
</span><span id="line-442"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-443"></span><span class="hs-comment">--   (page1, page2, page3) &lt;- 'runConcurrently' $ (,,)</span><span>
</span><span id="line-444"></span><span class="hs-comment">--     '&lt;$&gt;' 'Concurrently' (getURL &quot;url1&quot;)</span><span>
</span><span id="line-445"></span><span class="hs-comment">--     '&lt;*&gt;' 'Concurrently' (getURL &quot;url2&quot;)</span><span>
</span><span id="line-446"></span><span class="hs-comment">--     '&lt;*&gt;' 'Concurrently' (getURL &quot;url3&quot;)</span><span>
</span><span id="line-447"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-448"></span><span class="hs-keyword">newtype</span><span> </span><span id="Concurrently"><span class="annot"><a href="Control.Concurrent.Async.Lifted.html#Concurrently"><span class="hs-identifier hs-var">Concurrently</span></a></span></span><span> </span><span id="local-6989586621679063073"><span class="annot"><a href="#local-6989586621679063073"><span class="hs-identifier hs-type">m</span></a></span></span><span> </span><span id="local-6989586621679063072"><span class="annot"><a href="#local-6989586621679063072"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Concurrently"><span class="annot"><a href="Control.Concurrent.Async.Lifted.html#Concurrently"><span class="hs-identifier hs-var">Concurrently</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="runConcurrently"><span class="annot"><span class="annottext">Concurrently m a -&gt; m a
</span><a href="Control.Concurrent.Async.Lifted.html#runConcurrently"><span class="hs-identifier hs-var hs-var">runConcurrently</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679063073"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679063072"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-449"></span><span>
</span><span id="line-450"></span><span id="local-6989586621679062723"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679062720"><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="annot"><a href="#local-6989586621679062723"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Concurrent.Async.Lifted.html#Concurrently"><span class="hs-identifier hs-type">Concurrently</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679062723"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-451"></span><span>  </span><span id="local-6989586621679062718"><span class="annot"><span class="annottext">fmap :: (a -&gt; b) -&gt; Concurrently m a -&gt; Concurrently m b
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">fmap</span></span></span><span> </span><span id="local-6989586621679062717"><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679062717"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Concurrent.Async.Lifted.html#Concurrently"><span class="hs-identifier hs-type">Concurrently</span></a></span><span> </span><span id="local-6989586621679062716"><span class="annot"><span class="annottext">m a
</span><a href="#local-6989586621679062716"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">m b -&gt; Concurrently m b
forall (m :: * -&gt; *) a. m a -&gt; Concurrently m a
</span><a href="Control.Concurrent.Async.Lifted.html#Concurrently"><span class="hs-identifier hs-var">Concurrently</span></a></span><span> </span><span class="annot"><span class="annottext">(m b -&gt; Concurrently m b) -&gt; m b -&gt; Concurrently m b
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679062717"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">(a -&gt; b) -&gt; m a -&gt; m b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">m a
</span><a href="#local-6989586621679062716"><span class="hs-identifier hs-var">a</span></a></span></span><span>
</span><span id="line-452"></span><span>
</span><span id="line-453"></span><span id="local-6989586621679062714"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679062705"><span id="local-6989586621679062707"><span id="local-6989586621679062709"><span class="annot"><span class="hs-identifier hs-type">MonadBaseControl</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="#local-6989586621679062714"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Applicative</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Concurrent.Async.Lifted.html#Concurrently"><span class="hs-identifier hs-type">Concurrently</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679062714"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-454"></span><span>  </span><span id="local-6989586621679062703"><span class="annot"><span class="annottext">pure :: a -&gt; Concurrently m a
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">pure</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">m a -&gt; Concurrently m a
forall (m :: * -&gt; *) a. m a -&gt; Concurrently m a
</span><a href="Control.Concurrent.Async.Lifted.html#Concurrently"><span class="hs-identifier hs-var">Concurrently</span></a></span><span> </span><span class="annot"><span class="annottext">(m a -&gt; Concurrently m a) -&gt; (a -&gt; m a) -&gt; a -&gt; Concurrently m a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span>
</span><span id="line-455"></span><span>  </span><span class="annot"><a href="Control.Concurrent.Async.Lifted.html#Concurrently"><span class="hs-identifier hs-type">Concurrently</span></a></span><span> </span><span id="local-6989586621679062702"><span class="annot"><span class="annottext">m (a -&gt; b)
</span><a href="#local-6989586621679062702"><span class="hs-identifier hs-var">fs</span></a></span></span><span> </span><span id="local-6989586621679062701"><span class="annot"><span class="annottext">&lt;*&gt; :: Concurrently m (a -&gt; b) -&gt; Concurrently m a -&gt; Concurrently m b
</span><span class="hs-operator hs-var hs-var hs-var hs-var">&lt;*&gt;</span></span></span><span> </span><span class="annot"><a href="Control.Concurrent.Async.Lifted.html#Concurrently"><span class="hs-identifier hs-type">Concurrently</span></a></span><span> </span><span id="local-6989586621679062700"><span class="annot"><span class="annottext">m a
</span><a href="#local-6989586621679062700"><span class="hs-keyword hs-var">as</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-456"></span><span>    </span><span class="annot"><span class="annottext">m b -&gt; Concurrently m b
forall (m :: * -&gt; *) a. m a -&gt; Concurrently m a
</span><a href="Control.Concurrent.Async.Lifted.html#Concurrently"><span class="hs-identifier hs-var">Concurrently</span></a></span><span> </span><span class="annot"><span class="annottext">(m b -&gt; Concurrently m b) -&gt; m b -&gt; Concurrently m b
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">((a -&gt; b) -&gt; a -&gt; b) -&gt; (a -&gt; b, a) -&gt; b
forall a b c. (a -&gt; b -&gt; c) -&gt; (a, b) -&gt; c
</span><span class="hs-identifier hs-var">uncurry</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; b) -&gt; a -&gt; b
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">($)</span></span><span> </span><span class="annot"><span class="annottext">((a -&gt; b, a) -&gt; b) -&gt; m (a -&gt; b, a) -&gt; m b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">m (a -&gt; b) -&gt; m a -&gt; m (a -&gt; b, a)
forall (m :: * -&gt; *) a b.
MonadBaseControl IO m =&gt;
m a -&gt; m b -&gt; m (a, b)
</span><a href="Control.Concurrent.Async.Lifted.html#concurrently"><span class="hs-identifier hs-var">concurrently</span></a></span><span> </span><span class="annot"><span class="annottext">m (a -&gt; b)
</span><a href="#local-6989586621679062702"><span class="hs-identifier hs-var">fs</span></a></span><span> </span><span class="annot"><span class="annottext">m a
</span><a href="#local-6989586621679062700"><span class="hs-keyword hs-var">as</span></a></span></span><span>
</span><span id="line-457"></span><span>
</span><span id="line-458"></span><span id="local-6989586621679062698"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679062691"><span id="local-6989586621679062693"><span class="annot"><span class="hs-identifier hs-type">MonadBaseControl</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="#local-6989586621679062698"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Alternative</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Concurrent.Async.Lifted.html#Concurrently"><span class="hs-identifier hs-type">Concurrently</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679062698"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-459"></span><span>  </span><span id="local-6989586621679062689"><span class="annot"><span class="annottext">empty :: Concurrently m a
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">empty</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">m a -&gt; Concurrently m a
forall (m :: * -&gt; *) a. m a -&gt; Concurrently m a
</span><a href="Control.Concurrent.Async.Lifted.html#Concurrently"><span class="hs-identifier hs-var">Concurrently</span></a></span><span> </span><span class="annot"><span class="annottext">(m a -&gt; Concurrently m a) -&gt; m a -&gt; Concurrently m a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(RunInBase m IO -&gt; IO a) -&gt; m a
forall (b :: * -&gt; *) (m :: * -&gt; *) a.
MonadBaseControl b m =&gt;
(RunInBase m b -&gt; b a) -&gt; m a
</span><span class="hs-identifier hs-var">liftBaseWith</span></span><span> </span><span class="annot"><span class="annottext">((RunInBase m IO -&gt; IO a) -&gt; m a)
-&gt; (RunInBase m IO -&gt; IO a) -&gt; m a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">RunInBase m IO
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">IO () -&gt; IO a
forall (f :: * -&gt; *) a b. Applicative f =&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">forever</span></span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; IO a) -&gt; IO () -&gt; IO a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; IO ()
</span><span class="hs-identifier hs-var">threadDelay</span></span><span> </span><span class="annot"><span class="annottext">Int
forall a. Bounded a =&gt; a
</span><span class="hs-identifier hs-var">maxBound</span></span><span>
</span><span id="line-460"></span><span>  </span><span class="annot"><a href="Control.Concurrent.Async.Lifted.html#Concurrently"><span class="hs-identifier hs-type">Concurrently</span></a></span><span> </span><span id="local-6989586621679062686"><span class="annot"><span class="annottext">m a
</span><a href="#local-6989586621679062686"><span class="hs-keyword hs-var">as</span></a></span></span><span> </span><span id="local-6989586621679062685"><span class="annot"><span class="annottext">&lt;|&gt; :: Concurrently m a -&gt; Concurrently m a -&gt; Concurrently m a
</span><span class="hs-operator hs-var hs-var hs-var hs-var">&lt;|&gt;</span></span></span><span> </span><span class="annot"><a href="Control.Concurrent.Async.Lifted.html#Concurrently"><span class="hs-identifier hs-type">Concurrently</span></a></span><span> </span><span id="local-6989586621679062683"><span class="annot"><span class="annottext">m a
</span><a href="#local-6989586621679062683"><span class="hs-identifier hs-var">bs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-461"></span><span>    </span><span class="annot"><span class="annottext">m a -&gt; Concurrently m a
forall (m :: * -&gt; *) a. m a -&gt; Concurrently m a
</span><a href="Control.Concurrent.Async.Lifted.html#Concurrently"><span class="hs-identifier hs-var">Concurrently</span></a></span><span> </span><span class="annot"><span class="annottext">(m a -&gt; Concurrently m a) -&gt; m a -&gt; Concurrently m a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; a) -&gt; (a -&gt; a) -&gt; Either a a -&gt; a
forall a c b. (a -&gt; c) -&gt; (b -&gt; c) -&gt; Either a b -&gt; c
</span><span class="hs-identifier hs-var">either</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; a
forall a. a -&gt; a
</span><span class="hs-identifier hs-var">id</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; a
forall a. a -&gt; a
</span><span class="hs-identifier hs-var">id</span></span><span> </span><span class="annot"><span class="annottext">(Either a a -&gt; a) -&gt; m (Either a a) -&gt; m a
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">m a -&gt; m a -&gt; m (Either a a)
forall (m :: * -&gt; *) a b.
MonadBaseControl IO m =&gt;
m a -&gt; m b -&gt; m (Either a b)
</span><a href="Control.Concurrent.Async.Lifted.html#race"><span class="hs-identifier hs-var">race</span></a></span><span> </span><span class="annot"><span class="annottext">m a
</span><a href="#local-6989586621679062686"><span class="hs-keyword hs-var">as</span></a></span><span> </span><span class="annot"><span class="annottext">m a
</span><a href="#local-6989586621679062683"><span class="hs-identifier hs-var">bs</span></a></span></span><span class="hs-cpp">

#if MIN_VERSION_base(4, 9, 0)
</span><span id="local-6989586621679062680"><span id="local-6989586621679062681"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679062675"><span id="local-6989586621679062677"><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadBaseControl</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="#local-6989586621679062681"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Semigroup</span></span><span> </span><span class="annot"><a href="#local-6989586621679062680"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-465"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Semigroup</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Concurrent.Async.Lifted.html#Concurrently"><span class="hs-identifier hs-type">Concurrently</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679062681"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679062680"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-466"></span><span>    </span><span id="local-6989586621679062673"><span class="annot"><span class="annottext">&lt;&gt; :: Concurrently m a -&gt; Concurrently m a -&gt; Concurrently m a
</span><span class="hs-operator hs-var hs-var hs-var hs-var">(&lt;&gt;)</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a -&gt; a -&gt; a)
-&gt; Concurrently m a -&gt; Concurrently m a -&gt; Concurrently m a
forall (f :: * -&gt; *) a b c.
Applicative f =&gt;
(a -&gt; b -&gt; c) -&gt; f a -&gt; f b -&gt; f c
</span><span class="hs-identifier hs-var">liftA2</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">(&lt;&gt;)</span></span></span></span><span>
</span><span id="line-467"></span><span>
</span><span id="line-468"></span><span id="local-6989586621679062670"><span id="local-6989586621679062671"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679062665"><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadBaseControl</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="#local-6989586621679062671"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Semigroup</span></span><span> </span><span class="annot"><a href="#local-6989586621679062670"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Monoid</span></span><span> </span><span class="annot"><a href="#local-6989586621679062670"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-469"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Monoid</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Concurrent.Async.Lifted.html#Concurrently"><span class="hs-identifier hs-type">Concurrently</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679062671"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679062670"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-470"></span><span>    </span><span id="local-6989586621679062663"><span class="annot"><span class="annottext">mempty :: Concurrently m a
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">mempty</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; Concurrently m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">a
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span>
</span><span id="line-471"></span><span>    </span><span id="local-6989586621679062662"><span class="annot"><span class="annottext">mappend :: Concurrently m a -&gt; Concurrently m a -&gt; Concurrently m a
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">mappend</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Concurrently m a -&gt; Concurrently m a -&gt; Concurrently m a
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">(&lt;&gt;)</span></span></span></span><span class="hs-cpp">
#else
</span><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">MonadBaseControl</span><span> </span><span class="hs-identifier">IO</span><span> </span><span class="hs-identifier">m</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">Monoid</span><span> </span><span class="hs-identifier">a</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-identifier">Monoid</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Concurrently</span><span> </span><span class="hs-identifier">m</span><span> </span><span class="hs-identifier">a</span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-474"></span><span>  </span><span class="hs-identifier">mempty</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">pure</span><span> </span><span class="hs-identifier">mempty</span><span>
</span><span id="line-475"></span><span>  </span><span class="hs-identifier">mappend</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">liftA2</span><span> </span><span class="hs-identifier">mappend</span><span class="hs-cpp">
#endif
</span><span>
</span><span id="line-478"></span><span id="local-6989586621679063167"><span id="local-6989586621679063168"><span id="local-6989586621679063169"><span class="annot"><a href="Control.Concurrent.Async.Lifted.html#sequenceEither"><span class="hs-identifier hs-type">sequenceEither</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadBaseControl</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="#local-6989586621679063169"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="#local-6989586621679063168"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">StM</span></span><span> </span><span class="annot"><a href="#local-6989586621679063169"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679063167"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679063169"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="#local-6989586621679063168"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679063167"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-479"></span><span id="sequenceEither"><span class="annot"><span class="annottext">sequenceEither :: Either e (StM m a) -&gt; m (Either e a)
</span><a href="Control.Concurrent.Async.Lifted.html#sequenceEither"><span class="hs-identifier hs-var hs-var">sequenceEither</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(e -&gt; m (Either e a))
-&gt; (StM m a -&gt; m (Either e a))
-&gt; Either e (StM m a)
-&gt; m (Either e a)
forall a c b. (a -&gt; c) -&gt; (b -&gt; c) -&gt; Either a b -&gt; c
</span><span class="hs-identifier hs-var">either</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Either e a -&gt; m (Either e a)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(Either e a -&gt; m (Either e a))
-&gt; (e -&gt; Either e a) -&gt; e -&gt; m (Either e a)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">e -&gt; Either e a
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(a -&gt; Either e a) -&gt; m a -&gt; m (Either e a)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; Either e a
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">(m a -&gt; m (Either e a))
-&gt; (StM m a -&gt; m a) -&gt; StM m a -&gt; m (Either e a)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">StM m a -&gt; m a
forall (b :: * -&gt; *) (m :: * -&gt; *) a.
MonadBaseControl b m =&gt;
StM m a -&gt; m a
</span><span class="hs-identifier hs-var">restoreM</span></span><span class="hs-special">)</span><span>
</span><span id="line-480"></span></pre></body></html>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE ApplicativeDo     #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE OverloadedStrings #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE QuasiQuotes       #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE RecordWildCards   #-}</span><span>
</span><span id="line-5"></span><span class="hs-comment">{- HLINT ignore -}</span><span>
</span><span id="line-6"></span><span class="hs-comment">{-|
Copyright   : Written by David Himmelstrup
License     : Unlicense
Maintainer  : lemmih@gmail.com
Stability   : experimental
Portability : POSIX
-}</span><span>
</span><span id="line-13"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Reanimate.Builtin.Flip</span><span>
</span><span id="line-14"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Reanimate.Builtin.Flip.html#FlipSprite"><span class="hs-identifier">FlipSprite</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-15"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Reanimate.Builtin.Flip.html#flipSprite"><span class="hs-identifier">flipSprite</span></a></span><span>
</span><span id="line-16"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Reanimate.Builtin.Flip.html#flipTransition"><span class="hs-identifier">flipTransition</span></a></span><span>
</span><span id="line-17"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-18"></span><span>
</span><span id="line-19"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Reanimate.Animation.html"><span class="hs-identifier">Reanimate.Animation</span></a></span><span>        </span><span class="hs-special">(</span><span class="annot"><a href="Reanimate.Animation.html#Animation"><span class="hs-identifier">Animation</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Reanimate.Animation.html#duration"><span class="hs-identifier">duration</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Reanimate.Animation.html#frameAt"><span class="hs-identifier">frameAt</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Reanimate.Animation.html#setDuration"><span class="hs-identifier">setDuration</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-20"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Reanimate.Blender.html"><span class="hs-identifier">Reanimate.Blender</span></a></span><span>          </span><span class="hs-special">(</span><span class="annot"><a href="Reanimate.Blender.html#blender"><span class="hs-identifier">blender</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-21"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Reanimate.Ease.html"><span class="hs-identifier">Reanimate.Ease</span></a></span><span>             </span><span class="hs-special">(</span><span class="annot"><a href="Reanimate.Ease.html#fromToS"><span class="hs-identifier">fromToS</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Reanimate.Ease.html#oscillateS"><span class="hs-identifier">oscillateS</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-22"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Reanimate.Raster.html"><span class="hs-identifier">Reanimate.Raster</span></a></span><span>           </span><span class="hs-special">(</span><span class="annot"><a href="Reanimate.Raster.html#svgAsPngFile"><span class="hs-identifier">svgAsPngFile</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-23"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Reanimate.Scene.html"><span class="hs-identifier">Reanimate.Scene</span></a></span><span>            </span><span class="hs-special">(</span><span class="annot"><a href="Reanimate.Scene.Core.html#Scene"><span class="hs-identifier">Scene</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Reanimate.Scene.Sprite.html#Sprite"><span class="hs-identifier">Sprite</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Reanimate.Scene.Var.html#Var"><span class="hs-identifier">Var</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Reanimate.Scene.Core.html#fork"><span class="hs-identifier">fork</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Reanimate.Scene.Sprite.html#newSprite"><span class="hs-identifier">newSprite</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Reanimate.Scene.Var.html#newVar"><span class="hs-identifier">newVar</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Reanimate.Scene.Core.html#scene"><span class="hs-identifier">scene</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-24"></span><span>                                             </span><span class="annot"><a href="Reanimate.Scene.Sprite.html#spriteDuration"><span class="hs-identifier">spriteDuration</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Reanimate.Scene.Sprite.html#spriteT"><span class="hs-identifier">spriteT</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Reanimate.Scene.Var.html#tweenVar"><span class="hs-identifier">tweenVar</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Reanimate.Scene.Sprite.html#unVar"><span class="hs-identifier">unVar</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-25"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Reanimate.Svg.Constructors.html"><span class="hs-identifier">Reanimate.Svg.Constructors</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Reanimate.Svg.Constructors.html#flipXAxis"><span class="hs-identifier">flipXAxis</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-26"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Reanimate.Transition.html"><span class="hs-identifier">Reanimate.Transition</span></a></span><span>       </span><span class="hs-special">(</span><span class="annot"><a href="Reanimate.Transition.html#Transition"><span class="hs-identifier">Transition</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-27"></span><span>
</span><span id="line-28"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Text</span></span><span>                  </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">T</span></span><span>
</span><span id="line-29"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">NeatInterpolation</span></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">text</span></span><span class="hs-special">)</span><span>
</span><span id="line-30"></span><span>
</span><span id="line-31"></span><span class="hs-comment">-- | Control structure with parameters for the blender script.</span><span>
</span><span id="line-32"></span><span class="hs-keyword">data</span><span> </span><span id="FlipSprite"><span class="annot"><a href="Reanimate.Builtin.Flip.html#FlipSprite"><span class="hs-identifier hs-var">FlipSprite</span></a></span></span><span> </span><span id="local-6989586621679549498"><span class="annot"><a href="#local-6989586621679549498"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="FlipSprite"><span class="annot"><a href="Reanimate.Builtin.Flip.html#FlipSprite"><span class="hs-identifier hs-var">FlipSprite</span></a></span></span><span>
</span><span id="line-33"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="fsSprite"><span class="annot"><span class="annottext">FlipSprite s -&gt; Sprite s
</span><a href="Reanimate.Builtin.Flip.html#fsSprite"><span class="hs-identifier hs-var hs-var">fsSprite</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Reanimate.Scene.Sprite.html#Sprite"><span class="hs-identifier hs-type">Sprite</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679549498"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-34"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="fsBend"><span class="annot"><span class="annottext">FlipSprite s -&gt; Var s Double
</span><a href="Reanimate.Builtin.Flip.html#fsBend"><span class="hs-identifier hs-var hs-var">fsBend</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Reanimate.Scene.Var.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679549498"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span>
</span><span id="line-35"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="fsZoom"><span class="annot"><span class="annottext">FlipSprite s -&gt; Var s Double
</span><a href="Reanimate.Builtin.Flip.html#fsZoom"><span class="hs-identifier hs-var hs-var">fsZoom</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Reanimate.Scene.Var.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679549498"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span>
</span><span id="line-36"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="fsWobble"><span class="annot"><span class="annottext">FlipSprite s -&gt; Var s Double
</span><a href="Reanimate.Builtin.Flip.html#fsWobble"><span class="hs-identifier hs-var hs-var">fsWobble</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Reanimate.Scene.Var.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679549498"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span>
</span><span id="line-37"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-38"></span><span>
</span><span id="line-39"></span><span class="hs-comment">-- | Project two animations on each side of a plane and flip the plane</span><span>
</span><span id="line-40"></span><span class="hs-comment">--   upside down.</span><span>
</span><span id="line-41"></span><span id="local-6989586621679549493"><span class="annot"><a href="Reanimate.Builtin.Flip.html#flipSprite"><span class="hs-identifier hs-type">flipSprite</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Reanimate.Animation.html#Animation"><span class="hs-identifier hs-type">Animation</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Reanimate.Animation.html#Animation"><span class="hs-identifier hs-type">Animation</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Reanimate.Scene.Core.html#Scene"><span class="hs-identifier hs-type">Scene</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679549493"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Reanimate.Builtin.Flip.html#FlipSprite"><span class="hs-identifier hs-type">FlipSprite</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679549493"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-42"></span><span id="flipSprite"><span class="annot"><span class="annottext">flipSprite :: Animation -&gt; Animation -&gt; Scene s (FlipSprite s)
</span><a href="Reanimate.Builtin.Flip.html#flipSprite"><span class="hs-identifier hs-var hs-var">flipSprite</span></a></span></span><span> </span><span id="local-6989586621679549458"><span class="annot"><span class="annottext">Animation
</span><a href="#local-6989586621679549458"><span class="hs-identifier hs-var">front</span></a></span></span><span> </span><span id="local-6989586621679549457"><span class="annot"><span class="annottext">Animation
</span><a href="#local-6989586621679549457"><span class="hs-identifier hs-var">back</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-43"></span><span>    </span><span id="local-6989586621679549456"><span class="annot"><span class="annottext">Var s Double
</span><a href="#local-6989586621679549456"><span class="hs-identifier hs-var">bend</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Double -&gt; Scene s (Var s Double)
forall a s. a -&gt; Scene s (Var s a)
</span><a href="Reanimate.Scene.Var.html#newVar"><span class="hs-identifier hs-var">newVar</span></a></span><span> </span><span class="annot"><span class="annottext">Double
</span><span class="hs-number">0</span></span><span>
</span><span id="line-44"></span><span>    </span><span id="local-6989586621679549455"><span class="annot"><span class="annottext">Var s Double
</span><a href="#local-6989586621679549455"><span class="hs-identifier hs-var">trans</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Double -&gt; Scene s (Var s Double)
forall a s. a -&gt; Scene s (Var s a)
</span><a href="Reanimate.Scene.Var.html#newVar"><span class="hs-identifier hs-var">newVar</span></a></span><span> </span><span class="annot"><span class="annottext">Double
</span><span class="hs-number">0</span></span><span>
</span><span id="line-45"></span><span>    </span><span id="local-6989586621679549454"><span class="annot"><span class="annottext">Var s Double
</span><a href="#local-6989586621679549454"><span class="hs-identifier hs-var">rotX</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Double -&gt; Scene s (Var s Double)
forall a s. a -&gt; Scene s (Var s a)
</span><a href="Reanimate.Scene.Var.html#newVar"><span class="hs-identifier hs-var">newVar</span></a></span><span> </span><span class="annot"><span class="annottext">Double
</span><span class="hs-number">0</span></span><span>
</span><span id="line-46"></span><span>    </span><span id="local-6989586621679549453"><span class="annot"><span class="annottext">Sprite s
</span><a href="#local-6989586621679549453"><span class="hs-identifier hs-var">sprite</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Frame s SVG -&gt; Scene s (Sprite s)
forall s. Frame s SVG -&gt; Scene s (Sprite s)
</span><a href="Reanimate.Scene.Sprite.html#newSprite"><span class="hs-identifier hs-var">newSprite</span></a></span><span> </span><span class="annot"><span class="annottext">(Frame s SVG -&gt; Scene s (Sprite s))
-&gt; Frame s SVG -&gt; Scene s (Sprite s)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-47"></span><span>      </span><span id="local-6989586621679549452"><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679549452"><span class="hs-identifier hs-var">getBend</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Var s Double -&gt; Frame s Double
forall s a. Var s a -&gt; Frame s a
</span><a href="Reanimate.Scene.Sprite.html#unVar"><span class="hs-identifier hs-var">unVar</span></a></span><span> </span><span class="annot"><span class="annottext">Var s Double
</span><a href="#local-6989586621679549456"><span class="hs-identifier hs-var">bend</span></a></span><span>
</span><span id="line-48"></span><span>      </span><span id="local-6989586621679549451"><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679549451"><span class="hs-identifier hs-var">getTrans</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Var s Double -&gt; Frame s Double
forall s a. Var s a -&gt; Frame s a
</span><a href="Reanimate.Scene.Sprite.html#unVar"><span class="hs-identifier hs-var">unVar</span></a></span><span> </span><span class="annot"><span class="annottext">Var s Double
</span><a href="#local-6989586621679549455"><span class="hs-identifier hs-var">trans</span></a></span><span>
</span><span id="line-49"></span><span>      </span><span id="local-6989586621679549450"><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679549450"><span class="hs-identifier hs-var">getRotX</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Var s Double -&gt; Frame s Double
forall s a. Var s a -&gt; Frame s a
</span><a href="Reanimate.Scene.Sprite.html#unVar"><span class="hs-identifier hs-var">unVar</span></a></span><span> </span><span class="annot"><span class="annottext">Var s Double
</span><a href="#local-6989586621679549454"><span class="hs-identifier hs-var">rotX</span></a></span><span>
</span><span id="line-50"></span><span>      </span><span id="local-6989586621679549449"><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679549449"><span class="hs-identifier hs-var">time</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Frame s Double
forall s. Frame s Double
</span><a href="Reanimate.Scene.Sprite.html#spriteT"><span class="hs-identifier hs-var">spriteT</span></a></span><span>
</span><span id="line-51"></span><span>      </span><span id="local-6989586621679549448"><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679549448"><span class="hs-identifier hs-var">dur</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Frame s Double
forall s. Frame s Double
</span><a href="Reanimate.Scene.Sprite.html#spriteDuration"><span class="hs-identifier hs-var">spriteDuration</span></a></span><span>
</span><span id="line-52"></span><span>      </span><span class="hs-identifier">return</span><span> </span><span class="hs-operator">$</span><span>
</span><span id="line-53"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679549447"><span class="annot"><span class="annottext">rotY :: Double
</span><a href="#local-6989586621679549447"><span class="hs-identifier hs-var hs-var">rotY</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Signal
</span><a href="Reanimate.Ease.html#fromToS"><span class="hs-identifier hs-var">fromToS</span></a></span><span> </span><span class="annot"><span class="annottext">Double
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">Double
forall a. Floating a =&gt; a
</span><span class="hs-identifier hs-var">pi</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679549449"><span class="hs-identifier hs-var">time</span></a></span><span class="annot"><span class="annottext">Double -&gt; Signal
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679549448"><span class="hs-identifier hs-var">dur</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-54"></span><span>            </span><span id="local-6989586621679549444"><span class="annot"><span class="annottext">frontTexture :: FilePath
</span><a href="#local-6989586621679549444"><span class="hs-identifier hs-var hs-var">frontTexture</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SVG -&gt; FilePath
</span><a href="Reanimate.Raster.html#svgAsPngFile"><span class="hs-identifier hs-var">svgAsPngFile</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Double -&gt; Animation -&gt; SVG
</span><a href="Reanimate.Animation.html#frameAt"><span class="hs-identifier hs-var">frameAt</span></a></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679549449"><span class="hs-identifier hs-var">time</span></a></span><span> </span><span class="annot"><span class="annottext">(Animation -&gt; SVG) -&gt; Animation -&gt; SVG
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Animation -&gt; Animation
</span><a href="Reanimate.Animation.html#setDuration"><span class="hs-identifier hs-var">setDuration</span></a></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679549448"><span class="hs-identifier hs-var">dur</span></a></span><span> </span><span class="annot"><span class="annottext">Animation
</span><a href="#local-6989586621679549458"><span class="hs-identifier hs-var">front</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-55"></span><span>            </span><span id="local-6989586621679549443"><span class="annot"><span class="annottext">backTexture :: FilePath
</span><a href="#local-6989586621679549443"><span class="hs-identifier hs-var hs-var">backTexture</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SVG -&gt; FilePath
</span><a href="Reanimate.Raster.html#svgAsPngFile"><span class="hs-identifier hs-var">svgAsPngFile</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SVG -&gt; SVG
</span><a href="Reanimate.Svg.Constructors.html#flipXAxis"><span class="hs-identifier hs-var">flipXAxis</span></a></span><span> </span><span class="annot"><span class="annottext">(SVG -&gt; SVG) -&gt; SVG -&gt; SVG
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Animation -&gt; SVG
</span><a href="Reanimate.Animation.html#frameAt"><span class="hs-identifier hs-var">frameAt</span></a></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679549449"><span class="hs-identifier hs-var">time</span></a></span><span> </span><span class="annot"><span class="annottext">(Animation -&gt; SVG) -&gt; Animation -&gt; SVG
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Animation -&gt; Animation
</span><a href="Reanimate.Animation.html#setDuration"><span class="hs-identifier hs-var">setDuration</span></a></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679549448"><span class="hs-identifier hs-var">dur</span></a></span><span> </span><span class="annot"><span class="annottext">Animation
</span><a href="#local-6989586621679549457"><span class="hs-identifier hs-var">back</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-56"></span><span>           </span><span class="hs-comment">-- seq'ing frontTexture and backTexture is required to avoid segfaults. :(</span><span>
</span><span id="line-57"></span><span>        </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679549444"><span class="hs-identifier hs-var">frontTexture</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; SVG -&gt; SVG
</span><span class="hs-operator hs-var">`seq`</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679549443"><span class="hs-identifier hs-var">backTexture</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; SVG -&gt; SVG
</span><span class="hs-operator hs-var">`seq`</span></span><span>
</span><span id="line-58"></span><span>           </span><span class="annot"><span class="annottext">Text -&gt; SVG
</span><a href="Reanimate.Blender.html#blender"><span class="hs-identifier hs-var">blender</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FilePath
-&gt; FilePath -&gt; Double -&gt; Double -&gt; Double -&gt; Double -&gt; Text
</span><a href="Reanimate.Builtin.Flip.html#script"><span class="hs-identifier hs-var">script</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679549444"><span class="hs-identifier hs-var">frontTexture</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679549443"><span class="hs-identifier hs-var">backTexture</span></a></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679549452"><span class="hs-identifier hs-var">getBend</span></a></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679549451"><span class="hs-identifier hs-var">getTrans</span></a></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679549450"><span class="hs-identifier hs-var">getRotX</span></a></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679549447"><span class="hs-identifier hs-var">rotY</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-59"></span><span>    </span><span class="hs-identifier">return</span><span> </span><span class="annot"><span class="annottext">FlipSprite :: forall s.
Sprite s
-&gt; Var s Double -&gt; Var s Double -&gt; Var s Double -&gt; FlipSprite s
</span><a href="Reanimate.Builtin.Flip.html#FlipSprite"><span class="hs-identifier hs-type">FlipSprite</span></a></span><span>
</span><span id="line-60"></span><span>      </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">fsSprite :: Sprite s
</span><a href="Reanimate.Builtin.Flip.html#fsSprite"><span class="hs-identifier hs-var">fsSprite</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Sprite s
</span><a href="#local-6989586621679549453"><span class="hs-identifier hs-var">sprite</span></a></span><span>
</span><span id="line-61"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">fsBend :: Var s Double
</span><a href="Reanimate.Builtin.Flip.html#fsBend"><span class="hs-identifier hs-var">fsBend</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Var s Double
</span><a href="#local-6989586621679549456"><span class="hs-identifier hs-var">bend</span></a></span><span>
</span><span id="line-62"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">fsZoom :: Var s Double
</span><a href="Reanimate.Builtin.Flip.html#fsZoom"><span class="hs-identifier hs-var">fsZoom</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Var s Double
</span><a href="#local-6989586621679549455"><span class="hs-identifier hs-var">trans</span></a></span><span>
</span><span id="line-63"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">fsWobble :: Var s Double
</span><a href="Reanimate.Builtin.Flip.html#fsWobble"><span class="hs-identifier hs-var">fsWobble</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Var s Double
</span><a href="#local-6989586621679549454"><span class="hs-identifier hs-var">rotX</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-64"></span><span>
</span><span id="line-65"></span><span class="annot"><a href="Reanimate.Builtin.Flip.html#flipTransitionOpts"><span class="hs-identifier hs-type">flipTransitionOpts</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Reanimate.Transition.html#Transition"><span class="hs-identifier hs-type">Transition</span></a></span><span>
</span><span id="line-66"></span><span id="flipTransitionOpts"><span class="annot"><span class="annottext">flipTransitionOpts :: Double -&gt; Double -&gt; Double -&gt; Transition
</span><a href="Reanimate.Builtin.Flip.html#flipTransitionOpts"><span class="hs-identifier hs-var hs-var">flipTransitionOpts</span></a></span></span><span> </span><span id="local-6989586621679549440"><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679549440"><span class="hs-identifier hs-var">bend</span></a></span></span><span> </span><span id="local-6989586621679549439"><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679549439"><span class="hs-identifier hs-var">zoom</span></a></span></span><span> </span><span id="local-6989586621679549438"><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679549438"><span class="hs-identifier hs-var">wobble</span></a></span></span><span> </span><span id="local-6989586621679549437"><span class="annot"><span class="annottext">Animation
</span><a href="#local-6989586621679549437"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679549436"><span class="annot"><span class="annottext">Animation
</span><a href="#local-6989586621679549436"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall s. Scene s ()) -&gt; Animation
forall a. (forall s. Scene s a) -&gt; Animation
</span><a href="Reanimate.Scene.Core.html#scene"><span class="hs-identifier hs-var">scene</span></a></span><span> </span><span class="annot"><span class="annottext">((forall s. Scene s ()) -&gt; Animation)
-&gt; (forall s. Scene s ()) -&gt; Animation
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-67"></span><span>    </span><span class="annot"><a href="Reanimate.Builtin.Flip.html#FlipSprite"><span class="hs-identifier hs-type">FlipSprite</span></a></span><span class="hs-special">{</span><span id="local-6989586621679549432"><span id="local-6989586621679549433"><span id="local-6989586621679549434"><span id="local-6989586621679549435"><span class="annot"><span class="annottext">Var s Double
Sprite s
fsWobble :: Var s Double
fsZoom :: Var s Double
fsBend :: Var s Double
fsSprite :: Sprite s
fsWobble :: forall s. FlipSprite s -&gt; Var s Double
fsZoom :: forall s. FlipSprite s -&gt; Var s Double
fsBend :: forall s. FlipSprite s -&gt; Var s Double
fsSprite :: forall s. FlipSprite s -&gt; Sprite s
</span><a href="#local-6989586621679549432"><span class="hs-glyph hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">..</span></a></span></span></span></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Animation -&gt; Animation -&gt; Scene s (FlipSprite s)
forall s. Animation -&gt; Animation -&gt; Scene s (FlipSprite s)
</span><a href="Reanimate.Builtin.Flip.html#flipSprite"><span class="hs-identifier hs-var">flipSprite</span></a></span><span> </span><span class="annot"><span class="annottext">Animation
</span><a href="#local-6989586621679549437"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Animation
</span><a href="#local-6989586621679549436"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-68"></span><span>    </span><span class="annot"><span class="annottext">Scene s () -&gt; Scene s ()
forall s a. Scene s a -&gt; Scene s a
</span><a href="Reanimate.Scene.Core.html#fork"><span class="hs-identifier hs-var">fork</span></a></span><span> </span><span class="annot"><span class="annottext">(Scene s () -&gt; Scene s ()) -&gt; Scene s () -&gt; Scene s ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Var s Double -&gt; Double -&gt; (Double -&gt; Signal) -&gt; Scene s ()
forall s a. Var s a -&gt; Double -&gt; (a -&gt; Double -&gt; a) -&gt; Scene s ()
</span><a href="Reanimate.Scene.Var.html#tweenVar"><span class="hs-identifier hs-var">tweenVar</span></a></span><span> </span><span class="annot"><span class="annottext">Var s Double
</span><a href="#local-6989586621679549433"><span class="hs-identifier hs-var">fsZoom</span></a></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679549431"><span class="hs-identifier hs-var">dur</span></a></span><span>   </span><span class="annot"><span class="annottext">((Double -&gt; Signal) -&gt; Scene s ())
-&gt; (Double -&gt; Signal) -&gt; Scene s ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679549430"><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679549430"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Signal
</span><a href="Reanimate.Ease.html#fromToS"><span class="hs-identifier hs-var">fromToS</span></a></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679549430"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679549439"><span class="hs-identifier hs-var">zoom</span></a></span><span> </span><span class="annot"><span class="annottext">Signal -&gt; Signal -&gt; Signal
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Signal
</span><a href="Reanimate.Ease.html#oscillateS"><span class="hs-identifier hs-var">oscillateS</span></a></span><span>
</span><span id="line-69"></span><span>    </span><span class="annot"><span class="annottext">Scene s () -&gt; Scene s ()
forall s a. Scene s a -&gt; Scene s a
</span><a href="Reanimate.Scene.Core.html#fork"><span class="hs-identifier hs-var">fork</span></a></span><span> </span><span class="annot"><span class="annottext">(Scene s () -&gt; Scene s ()) -&gt; Scene s () -&gt; Scene s ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Var s Double -&gt; Double -&gt; (Double -&gt; Signal) -&gt; Scene s ()
forall s a. Var s a -&gt; Double -&gt; (a -&gt; Double -&gt; a) -&gt; Scene s ()
</span><a href="Reanimate.Scene.Var.html#tweenVar"><span class="hs-identifier hs-var">tweenVar</span></a></span><span> </span><span class="annot"><span class="annottext">Var s Double
</span><a href="#local-6989586621679549434"><span class="hs-identifier hs-var">fsBend</span></a></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679549431"><span class="hs-identifier hs-var">dur</span></a></span><span>   </span><span class="annot"><span class="annottext">((Double -&gt; Signal) -&gt; Scene s ())
-&gt; (Double -&gt; Signal) -&gt; Scene s ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679549428"><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679549428"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Signal
</span><a href="Reanimate.Ease.html#fromToS"><span class="hs-identifier hs-var">fromToS</span></a></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679549428"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679549440"><span class="hs-identifier hs-var">bend</span></a></span><span> </span><span class="annot"><span class="annottext">Signal -&gt; Signal -&gt; Signal
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Signal
</span><a href="Reanimate.Ease.html#oscillateS"><span class="hs-identifier hs-var">oscillateS</span></a></span><span>
</span><span id="line-70"></span><span>    </span><span class="annot"><span class="annottext">Scene s () -&gt; Scene s ()
forall s a. Scene s a -&gt; Scene s a
</span><a href="Reanimate.Scene.Core.html#fork"><span class="hs-identifier hs-var">fork</span></a></span><span> </span><span class="annot"><span class="annottext">(Scene s () -&gt; Scene s ()) -&gt; Scene s () -&gt; Scene s ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Var s Double -&gt; Double -&gt; (Double -&gt; Signal) -&gt; Scene s ()
forall s a. Var s a -&gt; Double -&gt; (a -&gt; Double -&gt; a) -&gt; Scene s ()
</span><a href="Reanimate.Scene.Var.html#tweenVar"><span class="hs-identifier hs-var">tweenVar</span></a></span><span> </span><span class="annot"><span class="annottext">Var s Double
</span><a href="#local-6989586621679549432"><span class="hs-identifier hs-var">fsWobble</span></a></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679549431"><span class="hs-identifier hs-var">dur</span></a></span><span> </span><span class="annot"><span class="annottext">((Double -&gt; Signal) -&gt; Scene s ())
-&gt; (Double -&gt; Signal) -&gt; Scene s ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679549427"><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679549427"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Signal
</span><a href="Reanimate.Ease.html#fromToS"><span class="hs-identifier hs-var">fromToS</span></a></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679549427"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679549438"><span class="hs-identifier hs-var">wobble</span></a></span><span> </span><span class="annot"><span class="annottext">Signal -&gt; Signal -&gt; Signal
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Signal
</span><a href="Reanimate.Ease.html#oscillateS"><span class="hs-identifier hs-var">oscillateS</span></a></span><span>
</span><span id="line-71"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-72"></span><span>    </span><span id="local-6989586621679549431"><span class="annot"><span class="annottext">dur :: Double
</span><a href="#local-6989586621679549431"><span class="hs-identifier hs-var hs-var">dur</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Double -&gt; Signal
forall a. Ord a =&gt; a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var">max</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Animation -&gt; Double
</span><a href="Reanimate.Animation.html#duration"><span class="hs-identifier hs-var">duration</span></a></span><span> </span><span class="annot"><span class="annottext">Animation
</span><a href="#local-6989586621679549437"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Animation -&gt; Double
</span><a href="Reanimate.Animation.html#duration"><span class="hs-identifier hs-var">duration</span></a></span><span> </span><span class="annot"><span class="annottext">Animation
</span><a href="#local-6989586621679549436"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-73"></span><span>
</span><span id="line-74"></span><span class="hs-comment">-- | 3D flip transition.</span><span>
</span><span id="line-75"></span><span class="annot"><a href="Reanimate.Builtin.Flip.html#flipTransition"><span class="hs-identifier hs-type">flipTransition</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Reanimate.Transition.html#Transition"><span class="hs-identifier hs-type">Transition</span></a></span><span>
</span><span id="line-76"></span><span id="flipTransition"><span class="annot"><span class="annottext">flipTransition :: Transition
</span><a href="Reanimate.Builtin.Flip.html#flipTransition"><span class="hs-identifier hs-var hs-var">flipTransition</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Double -&gt; Transition
</span><a href="Reanimate.Builtin.Flip.html#flipTransitionOpts"><span class="hs-identifier hs-var">flipTransitionOpts</span></a></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679549425"><span class="hs-identifier hs-var">bend</span></a></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679549424"><span class="hs-identifier hs-var">zoom</span></a></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679549423"><span class="hs-identifier hs-var">wobble</span></a></span><span>
</span><span id="line-77"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-78"></span><span>    </span><span id="local-6989586621679549425"><span class="annot"><span class="annottext">bend :: Double
</span><a href="#local-6989586621679549425"><span class="hs-identifier hs-var hs-var">bend</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Double
</span><span class="hs-number">1</span></span><span class="annot"><span class="annottext">Double -&gt; Signal
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span class="annot"><span class="annottext">Double
</span><span class="hs-number">3</span></span><span>
</span><span id="line-79"></span><span>    </span><span id="local-6989586621679549424"><span class="annot"><span class="annottext">zoom :: Double
</span><a href="#local-6989586621679549424"><span class="hs-identifier hs-var hs-var">zoom</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Double
</span><span class="hs-number">3</span></span><span>
</span><span id="line-80"></span><span>    </span><span id="local-6989586621679549423"><span class="annot"><span class="annottext">wobble :: Double
</span><a href="#local-6989586621679549423"><span class="hs-identifier hs-var hs-var">wobble</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">-</span><span class="annot"><span class="annottext">Double
forall a. Floating a =&gt; a
</span><span class="hs-identifier hs-var">pi</span></span><span class="annot"><span class="annottext">Double -&gt; Signal
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span class="annot"><span class="annottext">Double
</span><span class="hs-number">0.10</span></span><span>
</span><span id="line-81"></span><span>
</span><span id="line-82"></span><span class="annot"><a href="Reanimate.Builtin.Flip.html#script"><span class="hs-identifier hs-type">script</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">T.Text</span></span><span>
</span><span id="line-83"></span><span id="script"><span class="annot"><span class="annottext">script :: FilePath
-&gt; FilePath -&gt; Double -&gt; Double -&gt; Double -&gt; Double -&gt; Text
</span><a href="Reanimate.Builtin.Flip.html#script"><span class="hs-identifier hs-var hs-var">script</span></a></span></span><span> </span><span id="local-6989586621679549421"><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679549421"><span class="hs-identifier hs-var">frontImage</span></a></span></span><span> </span><span id="local-6989586621679549420"><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679549420"><span class="hs-identifier hs-var">backImage</span></a></span></span><span> </span><span id="local-6989586621679549419"><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679549419"><span class="hs-identifier hs-var">bend</span></a></span></span><span> </span><span id="local-6989586621679549418"><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679549418"><span class="hs-identifier hs-var">transZ</span></a></span></span><span> </span><span id="local-6989586621679549417"><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679549417"><span class="hs-identifier hs-var">rotX</span></a></span></span><span> </span><span id="local-6989586621679549416"><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679549416"><span class="hs-identifier hs-var">rotY</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-84"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679549415"><span class="annot"><span class="annottext">transZ_ :: Text
</span><a href="#local-6989586621679549415"><span class="hs-identifier hs-var hs-var">transZ_</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Text
</span><span class="hs-identifier hs-var">T.pack</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Double -&gt; FilePath
forall a. Show a =&gt; a -&gt; FilePath
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679549418"><span class="hs-identifier hs-var">transZ</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-85"></span><span>      </span><span id="local-6989586621679549412"><span class="annot"><span class="annottext">rotX_ :: Text
</span><a href="#local-6989586621679549412"><span class="hs-identifier hs-var hs-var">rotX_</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Text
</span><span class="hs-identifier hs-var">T.pack</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Double -&gt; FilePath
forall a. Show a =&gt; a -&gt; FilePath
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679549417"><span class="hs-identifier hs-var">rotX</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-86"></span><span>      </span><span id="local-6989586621679549411"><span class="annot"><span class="annottext">bend_ :: Text
</span><a href="#local-6989586621679549411"><span class="hs-identifier hs-var hs-var">bend_</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Text
</span><span class="hs-identifier hs-var">T.pack</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Double -&gt; FilePath
forall a. Show a =&gt; a -&gt; FilePath
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679549419"><span class="hs-identifier hs-var">bend</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-87"></span><span>      </span><span id="local-6989586621679549410"><span class="annot"><span class="annottext">yScale_ :: Text
</span><a href="#local-6989586621679549410"><span class="hs-identifier hs-var hs-var">yScale_</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Text
</span><span class="hs-identifier hs-var">T.pack</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Double -&gt; FilePath
forall a. Show a =&gt; a -&gt; FilePath
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">(Double -&gt; FilePath) -&gt; Double -&gt; FilePath
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Signal
</span><a href="Reanimate.Ease.html#fromToS"><span class="hs-identifier hs-var">fromToS</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Double
</span><span class="hs-number">9</span></span><span class="annot"><span class="annottext">Double -&gt; Signal
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">/</span></span><span class="annot"><span class="annottext">Double
</span><span class="hs-number">2</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Double
</span><span class="hs-number">4</span></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679549419"><span class="hs-identifier hs-var">bend</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-88"></span><span>      </span><span id="local-6989586621679549409"><span class="annot"><span class="annottext">frontImage_ :: Text
</span><a href="#local-6989586621679549409"><span class="hs-identifier hs-var hs-var">frontImage_</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Text
</span><span class="hs-identifier hs-var">T.pack</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679549421"><span class="hs-identifier hs-var">frontImage</span></a></span><span>
</span><span id="line-89"></span><span>      </span><span id="local-6989586621679549408"><span class="annot"><span class="annottext">backImage_ :: Text
</span><a href="#local-6989586621679549408"><span class="hs-identifier hs-var hs-var">backImage_</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Text
</span><span class="hs-identifier hs-var">T.pack</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679549420"><span class="hs-identifier hs-var">backImage</span></a></span><span>
</span><span id="line-90"></span><span>      </span><span id="local-6989586621679549407"><span class="annot"><span class="annottext">rotY_ :: Text
</span><a href="#local-6989586621679549407"><span class="hs-identifier hs-var hs-var">rotY_</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Text
</span><span class="hs-identifier hs-var">T.pack</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Double -&gt; FilePath
forall a. Show a =&gt; a -&gt; FilePath
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679549416"><span class="hs-identifier hs-var">rotY</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-91"></span><span>  </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="">[text|
import os
import math

import bpy

light = bpy.data.objects['Light']
bpy.ops.object.select_all(action='DESELECT')
light.select_set(True)
bpy.ops.object.delete()


cam = bpy.data.objects['Camera']
cam.location = (0,0,22.22 + $transZ_)
cam.rotation_euler = (0, 0, 0)
bpy.ops.object.empty_add(location=(0.0, 0, 0))
focus_target = bpy.context.object
bpy.ops.object.select_all(action='DESELECT')
cam.select_set(True)
focus_target.select_set(True)
bpy.ops.object.parent_set()

focus_target.rotation_euler = ($rotX_, 0, 0)


origin = bpy.data.objects['Cube']
bpy.ops.object.select_all(action='DESELECT')
origin.select_set(True)
bpy.ops.object.delete()

x = $bend_
bpy.ops.mesh.primitive_plane_add()
plane = bpy.context.object
plane.scale = (16/2,$yScale_,1)
bpy.ops.object.shade_smooth()

bpy.context.object.active_material = bpy.data.materials['Material']
mat = bpy.context.object.active_material
mix = mat.node_tree.nodes.new('ShaderNodeMixShader')
geo = mat.node_tree.nodes.new('ShaderNodeNewGeometry')

mat.blend_method = 'HASHED'

image_node = mat.node_tree.nodes.new('ShaderNodeTexImage')
gh_node = mat.node_tree.nodes.new('ShaderNodeTexImage')
output = mat.node_tree.nodes['Material Output']

gh_mix = mat.node_tree.nodes.new('ShaderNodeMixShader')
transparent = mat.node_tree.nodes.new('ShaderNodeBsdfTransparent')

mat.node_tree.links.new(geo.outputs['Backfacing'], mix.inputs['Fac'])
mat.node_tree.links.new(mix.outputs['Shader'], output.inputs['Surface'])
mat.node_tree.links.new(image_node.outputs['Color'], mix.inputs[1])

#mat.node_tree.links.new(gh_node.outputs['Color'], mix.inputs[2])
mat.node_tree.links.new(gh_node.outputs['Color'], gh_mix.inputs[2])
mat.node_tree.links.new(gh_node.outputs['Alpha'], gh_mix.inputs['Fac'])
mat.node_tree.links.new(transparent.outputs['BSDF'], gh_mix.inputs[1])
mat.node_tree.links.new(gh_mix.outputs['Shader'], mix.inputs[2])

image_node.image = bpy.data.images.load('${frontImage_}')
image_node.interpolation = 'Closest'

gh_node.image = bpy.data.images.load('${backImage_}')
gh_node.interpolation = 'Closest'


modifier = plane.modifiers.new(name='Subsurf', type='SUBSURF')
modifier.levels = 7
modifier.render_levels = 7
modifier.subdivision_type = 'SIMPLE'

bpy.ops.object.empty_add(type='ARROWS',rotation=(math.pi/2,0,0))
empty = bpy.context.object

bendUp = plane.modifiers.new(name='Bend up', type='SIMPLE_DEFORM')
bendUp.deform_method = 'BEND'
bendUp.origin = empty
bendUp.deform_axis = 'X'
bendUp.factor = -math.pi*x

bendAround = plane.modifiers.new(name='Bend around', type='SIMPLE_DEFORM')
bendAround.deform_method = 'BEND'
bendAround.origin = empty
bendAround.deform_axis = 'Z'
bendAround.factor = -math.pi*2*x

bpy.context.view_layer.objects.active = plane
bpy.ops.object.modifier_apply(modifier='Subsurf')
bpy.ops.object.modifier_apply(modifier='Bend up')
bpy.ops.object.modifier_apply(modifier='Bend around')

bpy.ops.object.select_all(action='DESELECT')
plane.select_set(True);
bpy.ops.object.origin_clear()
bpy.ops.object.origin_set(type='GEOMETRY_ORIGIN')

plane.rotation_euler = (0, $rotY_, 0)

scn = bpy.context.scene

#scn.render.engine = 'CYCLES'
#scn.render.resolution_percentage = 10

scn.view_settings.view_transform = 'Standard'


scn.render.resolution_x = 2560
scn.render.resolution_y = 1440

scn.render.film_transparent = True

bpy.ops.render.render( write_still=True )
|]</span></span><span>
</span><span id="line-205"></span></pre></body></html>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Reanimate.Raster</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">reanimate-1.1.4.0: Animation library based on SVGs.</span><ul class="links" id="page-menu"><li><a href="src/Reanimate.Raster.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>Written by David Himmelstrup</td></tr><tr><th>License</th><td>Unlicense</td></tr><tr><th>Maintainer</th><td>lemmih@gmail.com</td></tr><tr><th>Stability</th><td>experimental</td></tr><tr><th>Portability</th><td>POSIX</td></tr><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Reanimate.Raster</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Tools for generating, manipulating, and embedding raster images.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:mkImage">mkImage</a> :: <a href="../base-4.14.3.0/Prelude.html#t:Double" title="Prelude">Double</a> -&gt; <a href="../base-4.14.3.0/Prelude.html#t:Double" title="Prelude">Double</a> -&gt; <a href="../base-4.14.3.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a> -&gt; <a href="Reanimate-Animation.html#t:SVG" title="Reanimate.Animation">SVG</a></li><li class="src short"><a href="#v:cacheImage">cacheImage</a> :: (<a href="../JuicyPixels-3.3.5/Codec-Picture-Png-Internal-Export.html#t:PngSavable" title="Codec.Picture.Png.Internal.Export">PngSavable</a> pixel, <a href="../hashable-1.3.0.0/Data-Hashable.html#t:Hashable" title="Data.Hashable">Hashable</a> a) =&gt; a -&gt; <a href="../JuicyPixels-3.3.5/Codec-Picture-Types.html#t:Image" title="Codec.Picture.Types">Image</a> pixel -&gt; <a href="../base-4.14.3.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a></li><li class="src short"><a href="#v:prerenderSvg">prerenderSvg</a> :: <a href="../hashable-1.3.0.0/Data-Hashable.html#t:Hashable" title="Data.Hashable">Hashable</a> a =&gt; a -&gt; <a href="Reanimate-Animation.html#t:SVG" title="Reanimate.Animation">SVG</a> -&gt; <a href="Reanimate-Animation.html#t:SVG" title="Reanimate.Animation">SVG</a></li><li class="src short"><a href="#v:prerenderSvgFile">prerenderSvgFile</a> :: <a href="../hashable-1.3.0.0/Data-Hashable.html#t:Hashable" title="Data.Hashable">Hashable</a> a =&gt; a -&gt; <a href="Reanimate-Parameters.html#t:Width" title="Reanimate.Parameters">Width</a> -&gt; <a href="Reanimate-Parameters.html#t:Height" title="Reanimate.Parameters">Height</a> -&gt; <a href="Reanimate-Animation.html#t:SVG" title="Reanimate.Animation">SVG</a> -&gt; <a href="../base-4.14.3.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a></li><li class="src short"><a href="#v:embedImage">embedImage</a> :: <a href="../JuicyPixels-3.3.5/Codec-Picture-Png-Internal-Export.html#t:PngSavable" title="Codec.Picture.Png.Internal.Export">PngSavable</a> a =&gt; <a href="../JuicyPixels-3.3.5/Codec-Picture-Types.html#t:Image" title="Codec.Picture.Types">Image</a> a -&gt; <a href="Reanimate-Animation.html#t:SVG" title="Reanimate.Animation">SVG</a></li><li class="src short"><a href="#v:embedDynamicImage">embedDynamicImage</a> :: <a href="../JuicyPixels-3.3.5/Codec-Picture-Types.html#t:DynamicImage" title="Codec.Picture.Types">DynamicImage</a> -&gt; <a href="Reanimate-Animation.html#t:SVG" title="Reanimate.Animation">SVG</a></li><li class="src short"><a href="#v:embedPng">embedPng</a> :: <a href="../base-4.14.3.0/Prelude.html#t:Double" title="Prelude">Double</a> -&gt; <a href="../base-4.14.3.0/Prelude.html#t:Double" title="Prelude">Double</a> -&gt; <a href="../bytestring-0.10.12.0/Data-ByteString-Lazy.html#t:ByteString" title="Data.ByteString.Lazy">ByteString</a> -&gt; <a href="Reanimate-Animation.html#t:SVG" title="Reanimate.Animation">SVG</a></li><li class="src short"><a href="#v:raster">raster</a> :: <a href="Reanimate-Animation.html#t:SVG" title="Reanimate.Animation">SVG</a> -&gt; <a href="../JuicyPixels-3.3.5/Codec-Picture-Types.html#t:DynamicImage" title="Codec.Picture.Types">DynamicImage</a></li><li class="src short"><a href="#v:rasterSized">rasterSized</a> :: <a href="Reanimate-Parameters.html#t:Width" title="Reanimate.Parameters">Width</a> -&gt; <a href="Reanimate-Parameters.html#t:Height" title="Reanimate.Parameters">Height</a> -&gt; <a href="Reanimate-Animation.html#t:SVG" title="Reanimate.Animation">SVG</a> -&gt; <a href="../JuicyPixels-3.3.5/Codec-Picture-Types.html#t:DynamicImage" title="Codec.Picture.Types">DynamicImage</a></li><li class="src short"><a href="#v:vectorize">vectorize</a> :: <a href="../base-4.14.3.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a> -&gt; <a href="Reanimate-Animation.html#t:SVG" title="Reanimate.Animation">SVG</a></li><li class="src short"><a href="#v:vectorize_">vectorize_</a> :: [<a href="../base-4.14.3.0/Data-String.html#t:String" title="Data.String">String</a>] -&gt; <a href="../base-4.14.3.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a> -&gt; <a href="Reanimate-Animation.html#t:SVG" title="Reanimate.Animation">SVG</a></li><li class="src short"><a href="#v:svgAsPngFile">svgAsPngFile</a> :: <a href="Reanimate-Animation.html#t:SVG" title="Reanimate.Animation">SVG</a> -&gt; <a href="../base-4.14.3.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a></li><li class="src short"><a href="#v:svgAsPngFile-39-">svgAsPngFile'</a> :: <a href="Reanimate-Parameters.html#t:Width" title="Reanimate.Parameters">Width</a> -&gt; <a href="Reanimate-Parameters.html#t:Height" title="Reanimate.Parameters">Height</a> -&gt; <a href="Reanimate-Animation.html#t:SVG" title="Reanimate.Animation">SVG</a> -&gt; <a href="../base-4.14.3.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a></li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a id="v:mkImage" class="def">mkImage</a> <a href="src/Reanimate.Raster.html#mkImage" class="link">Source</a> <a href="#v:mkImage" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="../base-4.14.3.0/Prelude.html#t:Double" title="Prelude">Double</a></td><td class="doc"><p>Desired image width.</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.14.3.0/Prelude.html#t:Double" title="Prelude">Double</a></td><td class="doc"><p>Desired image height.</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.14.3.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a></td><td class="doc"><p>Path to external image file.</p></td></tr><tr><td class="src">-&gt; <a href="Reanimate-Animation.html#t:SVG" title="Reanimate.Animation">SVG</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Load an external image. Width and height must be specified,
   ignoring the image's aspect ratio. The center of the image is
   placed at position (0,0).</p><p>For security reasons, must SVG renderer do not allow arbitrary
   image links. For some renderers, we can get around this by placing
   the images in the same root directory as the parent SVG file. Other
   renderers (like Chrome and ffmpeg) requires that the image is inlined
   as base64 data. External SVG files are an exception, though, as must
   always be inlined directly. <code><a href="Reanimate-Raster.html#v:mkImage" title="Reanimate.Raster">mkImage</a></code> attempts to hide all the complexity
   but edge-cases may exist.</p><p>Example:</p><pre><code><a href="Reanimate-Raster.html#v:mkImage" title="Reanimate.Raster">mkImage</a></code> <code><a href="Reanimate-Constants.html#v:screenWidth" title="Reanimate.Constants">screenWidth</a></code> <code><a href="Reanimate-Constants.html#v:screenHeight" title="Reanimate.Constants">screenHeight</a></code> &quot;../data/haskell.svg&quot;
</pre><p><img src="docs/gifs/doc_mkImage.gif" /></p></div></div><div class="top"><p class="src"><a id="v:cacheImage" class="def">cacheImage</a> :: (<a href="../JuicyPixels-3.3.5/Codec-Picture-Png-Internal-Export.html#t:PngSavable" title="Codec.Picture.Png.Internal.Export">PngSavable</a> pixel, <a href="../hashable-1.3.0.0/Data-Hashable.html#t:Hashable" title="Data.Hashable">Hashable</a> a) =&gt; a -&gt; <a href="../JuicyPixels-3.3.5/Codec-Picture-Types.html#t:Image" title="Codec.Picture.Types">Image</a> pixel -&gt; <a href="../base-4.14.3.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a> <a href="src/Reanimate.Raster.html#cacheImage" class="link">Source</a> <a href="#v:cacheImage" class="selflink">#</a></p><div class="doc"><p>Write in-memory image to cache file if (and only if) such cache file doesn't
   already exist.</p></div></div><div class="top"><p class="src"><a id="v:prerenderSvg" class="def">prerenderSvg</a> :: <a href="../hashable-1.3.0.0/Data-Hashable.html#t:Hashable" title="Data.Hashable">Hashable</a> a =&gt; a -&gt; <a href="Reanimate-Animation.html#t:SVG" title="Reanimate.Animation">SVG</a> -&gt; <a href="Reanimate-Animation.html#t:SVG" title="Reanimate.Animation">SVG</a> <a href="src/Reanimate.Raster.html#prerenderSvg" class="link">Source</a> <a href="#v:prerenderSvg" class="selflink">#</a></p><div class="doc"><p>Render SVG node to a PNG file and return a new node containing
   that image. For static SVG nodes, this can hugely improve performance.
   The first argument is the key that determines SVG uniqueness. It
   is entirely your responsibility to ensure that all keys are unique.
   If they are not, you will be served stale results from the cache.</p></div></div><div class="top"><p class="src"><a id="v:prerenderSvgFile" class="def">prerenderSvgFile</a> :: <a href="../hashable-1.3.0.0/Data-Hashable.html#t:Hashable" title="Data.Hashable">Hashable</a> a =&gt; a -&gt; <a href="Reanimate-Parameters.html#t:Width" title="Reanimate.Parameters">Width</a> -&gt; <a href="Reanimate-Parameters.html#t:Height" title="Reanimate.Parameters">Height</a> -&gt; <a href="Reanimate-Animation.html#t:SVG" title="Reanimate.Animation">SVG</a> -&gt; <a href="../base-4.14.3.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a> <a href="src/Reanimate.Raster.html#prerenderSvgFile" class="link">Source</a> <a href="#v:prerenderSvgFile" class="selflink">#</a></p><div class="doc"><p>Same as <code><a href="Reanimate-Raster.html#v:prerenderSvg" title="Reanimate.Raster">prerenderSvg</a></code> but returns the location of the rendered image
   as a FilePath.</p></div></div><div class="top"><p class="src"><a id="v:embedImage" class="def">embedImage</a> :: <a href="../JuicyPixels-3.3.5/Codec-Picture-Png-Internal-Export.html#t:PngSavable" title="Codec.Picture.Png.Internal.Export">PngSavable</a> a =&gt; <a href="../JuicyPixels-3.3.5/Codec-Picture-Types.html#t:Image" title="Codec.Picture.Types">Image</a> a -&gt; <a href="Reanimate-Animation.html#t:SVG" title="Reanimate.Animation">SVG</a> <a href="src/Reanimate.Raster.html#embedImage" class="link">Source</a> <a href="#v:embedImage" class="selflink">#</a></p><div class="doc"><p>Embed an in-memory PNG image. Note, the pixel size of the image
   is used as the dimensions. As such, embedding a 100x100 PNG will
   result in an image 100 units wide and 100 units high. Consider
   using with <code>scaleToSize</code>.</p></div></div><div class="top"><p class="src"><a id="v:embedDynamicImage" class="def">embedDynamicImage</a> :: <a href="../JuicyPixels-3.3.5/Codec-Picture-Types.html#t:DynamicImage" title="Codec.Picture.Types">DynamicImage</a> -&gt; <a href="Reanimate-Animation.html#t:SVG" title="Reanimate.Animation">SVG</a> <a href="src/Reanimate.Raster.html#embedDynamicImage" class="link">Source</a> <a href="#v:embedDynamicImage" class="selflink">#</a></p><div class="doc"><p>Embed an in-memory image. Note, the pixel size of the image
   is used as the dimensions. As such, embedding a 100x100 image will
   result in an image 100 units wide and 100 units high. Consider
   using with <code>scaleToSize</code>.</p></div></div><div class="top"><p class="src"><a id="v:embedPng" class="def">embedPng</a> <a href="src/Reanimate.Raster.html#embedPng" class="link">Source</a> <a href="#v:embedPng" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="../base-4.14.3.0/Prelude.html#t:Double" title="Prelude">Double</a></td><td class="doc"><p>Width</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.14.3.0/Prelude.html#t:Double" title="Prelude">Double</a></td><td class="doc"><p>Height</p></td></tr><tr><td class="src">-&gt; <a href="../bytestring-0.10.12.0/Data-ByteString-Lazy.html#t:ByteString" title="Data.ByteString.Lazy">ByteString</a></td><td class="doc"><p>Raw PNG data</p></td></tr><tr><td class="src">-&gt; <a href="Reanimate-Animation.html#t:SVG" title="Reanimate.Animation">SVG</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Embed in-memory PNG bytestring without parsing it.</p></div></div><div class="top"><p class="src"><a id="v:raster" class="def">raster</a> :: <a href="Reanimate-Animation.html#t:SVG" title="Reanimate.Animation">SVG</a> -&gt; <a href="../JuicyPixels-3.3.5/Codec-Picture-Types.html#t:DynamicImage" title="Codec.Picture.Types">DynamicImage</a> <a href="src/Reanimate.Raster.html#raster" class="link">Source</a> <a href="#v:raster" class="selflink">#</a></p><div class="doc"><p>Convert an SVG object to a pixel-based image. The default resolution
   is 2560x1440. See also <code><a href="Reanimate-Raster.html#v:rasterSized" title="Reanimate.Raster">rasterSized</a></code>. Multiple raster engines are supported
   and are selected using the '--raster' flag in the driver.</p></div></div><div class="top"><p class="src"><a id="v:rasterSized" class="def">rasterSized</a> <a href="src/Reanimate.Raster.html#rasterSized" class="link">Source</a> <a href="#v:rasterSized" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Reanimate-Parameters.html#t:Width" title="Reanimate.Parameters">Width</a></td><td class="doc"><p>X resolution in pixels</p></td></tr><tr><td class="src">-&gt; <a href="Reanimate-Parameters.html#t:Height" title="Reanimate.Parameters">Height</a></td><td class="doc"><p>Y resolution in pixels</p></td></tr><tr><td class="src">-&gt; <a href="Reanimate-Animation.html#t:SVG" title="Reanimate.Animation">SVG</a></td><td class="doc"><p>SVG object</p></td></tr><tr><td class="src">-&gt; <a href="../JuicyPixels-3.3.5/Codec-Picture-Types.html#t:DynamicImage" title="Codec.Picture.Types">DynamicImage</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Convert an SVG object to a pixel-based image.</p></div></div><div class="top"><p class="src"><a id="v:vectorize" class="def">vectorize</a> :: <a href="../base-4.14.3.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a> -&gt; <a href="Reanimate-Animation.html#t:SVG" title="Reanimate.Animation">SVG</a> <a href="src/Reanimate.Raster.html#vectorize" class="link">Source</a> <a href="#v:vectorize" class="selflink">#</a></p><div class="doc"><p>Use 'potrace' to trace edges in a raster image and convert them to SVG polygons.</p></div></div><div class="top"><p class="src"><a id="v:vectorize_" class="def">vectorize_</a> :: [<a href="../base-4.14.3.0/Data-String.html#t:String" title="Data.String">String</a>] -&gt; <a href="../base-4.14.3.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a> -&gt; <a href="Reanimate-Animation.html#t:SVG" title="Reanimate.Animation">SVG</a> <a href="src/Reanimate.Raster.html#vectorize_" class="link">Source</a> <a href="#v:vectorize_" class="selflink">#</a></p><div class="doc"><p>Same as <code><a href="Reanimate-Raster.html#v:vectorize" title="Reanimate.Raster">vectorize</a></code> but takes a list of arguments for 'potrace'.</p></div></div><div class="top"><p class="src"><a id="v:svgAsPngFile" class="def">svgAsPngFile</a> :: <a href="Reanimate-Animation.html#t:SVG" title="Reanimate.Animation">SVG</a> -&gt; <a href="../base-4.14.3.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a> <a href="src/Reanimate.Raster.html#svgAsPngFile" class="link">Source</a> <a href="#v:svgAsPngFile" class="selflink">#</a></p><div class="doc"><p>Convert an SVG object to a pixel-based image and save it to disk, returning
   the filepath. The default resolution is 2560x1440. See also <code><a href="Reanimate-Raster.html#v:svgAsPngFile-39-" title="Reanimate.Raster">svgAsPngFile'</a></code>.
   Multiple raster engines are supported and are selected using the '--raster'
   flag in the driver.</p></div></div><div class="top"><p class="src"><a id="v:svgAsPngFile-39-" class="def">svgAsPngFile'</a> <a href="src/Reanimate.Raster.html#svgAsPngFile%27" class="link">Source</a> <a href="#v:svgAsPngFile-39-" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Reanimate-Parameters.html#t:Width" title="Reanimate.Parameters">Width</a></td><td class="doc"><p>Width</p></td></tr><tr><td class="src">-&gt; <a href="Reanimate-Parameters.html#t:Height" title="Reanimate.Parameters">Height</a></td><td class="doc"><p>Height</p></td></tr><tr><td class="src">-&gt; <a href="Reanimate-Animation.html#t:SVG" title="Reanimate.Animation">SVG</a></td><td class="doc"><p>SVG object</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.14.3.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Convert an SVG object to a pixel-based image and save it to disk, returning
   the filepath.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.24.2</p></div></body></html>
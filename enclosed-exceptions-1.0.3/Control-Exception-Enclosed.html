<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Control.Exception.Enclosed</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">enclosed-exceptions-1.0.3: Catching all exceptions from within an enclosed computation</span><ul class="links" id="page-menu"><li><a href="src/Control.Exception.Enclosed.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr><tr><th>Language</th><td>Haskell98</td></tr></table><p class="caption">Control.Exception.Enclosed</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#g:1">Exceptions</a></li><li><a href="#g:2">Force types</a></li></ul></div></div><div id="description"><p class="caption">Description</p><div class="doc"><p>The purpose of this module is to allow you to capture all exceptions
 originating from within the enclosed computation, while still reacting
 to asynchronous exceptions aimed at the calling thread.</p><p>This way, you can be sure that the function that calls, for example,
 <code><code><a href="Control-Exception-Enclosed.html#v:catchAny" title="Control.Exception.Enclosed">catchAny</a></code></code>, will still respond to <code><code><a href="../base-4.14.3.0/Control-Exception-Base.html#v:ThreadKilled" title="Control.Exception.Base">ThreadKilled</a></code></code> or <code><code>Timeout</code></code>
 events raised by another thread (with <code><code><a href="../base-4.14.3.0/Control-Exception-Base.html#v:throwTo" title="Control.Exception.Base">throwTo</a></code></code>), while capturing
 all exceptions, synchronous or asynchronous, resulting from the
 execution of the enclosed computation.</p><p>One particular use case is to allow the safe execution of code from various
 libraries (which you do not control), capturing any faults that might
 occur, while remaining responsive to higher level events and control
 actions.</p><p>This library was originally developed by Michael Snoyman for the
 <code>ClassyPrelude</code> library, and was latter 'spun-off' into a separate
 independent package.</p><p>For a more detailed explanation of the motivation behind this functions,
 see:</p><p><a href="https://www.fpcomplete.com/user/snoyberg/general-haskell/exceptions/catching-all-exceptions">https://www.fpcomplete.com/user/snoyberg/general-haskell/exceptions/catching-all-exceptions</a></p><p>and</p><p><a href="https://groups.google.com/forum/#!topic/haskell-cafe/e9H2I-3uVJE">https://groups.google.com/forum/#!topic/haskell-cafe/e9H2I-3uVJE</a></p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:catchAny">catchAny</a> :: <a href="../monad-control-1.0.3.1/Control-Monad-Trans-Control.html#t:MonadBaseControl" title="Control.Monad.Trans.Control">MonadBaseControl</a> <a href="../base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> m =&gt; m a -&gt; (<a href="../base-4.14.3.0/Control-Exception-Base.html#t:SomeException" title="Control.Exception.Base">SomeException</a> -&gt; m a) -&gt; m a</li><li class="src short"><a href="#v:handleAny">handleAny</a> :: <a href="../monad-control-1.0.3.1/Control-Monad-Trans-Control.html#t:MonadBaseControl" title="Control.Monad.Trans.Control">MonadBaseControl</a> <a href="../base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> m =&gt; (<a href="../base-4.14.3.0/Control-Exception-Base.html#t:SomeException" title="Control.Exception.Base">SomeException</a> -&gt; m a) -&gt; m a -&gt; m a</li><li class="src short"><a href="#v:tryAny">tryAny</a> :: <a href="../monad-control-1.0.3.1/Control-Monad-Trans-Control.html#t:MonadBaseControl" title="Control.Monad.Trans.Control">MonadBaseControl</a> <a href="../base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> m =&gt; m a -&gt; m (<a href="../base-4.14.3.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="../base-4.14.3.0/Control-Exception-Base.html#t:SomeException" title="Control.Exception.Base">SomeException</a> a)</li><li class="src short"><a href="#v:catchDeep">catchDeep</a> :: (<a href="../base-4.14.3.0/Control-Exception-Base.html#t:Exception" title="Control.Exception.Base">Exception</a> e, <a href="../deepseq-1.4.4.0/Control-DeepSeq.html#t:NFData" title="Control.DeepSeq">NFData</a> a, <a href="../monad-control-1.0.3.1/Control-Monad-Trans-Control.html#t:MonadBaseControl" title="Control.Monad.Trans.Control">MonadBaseControl</a> <a href="../base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> m) =&gt; m a -&gt; (e -&gt; m a) -&gt; m a</li><li class="src short"><a href="#v:catchAnyDeep">catchAnyDeep</a> :: (<a href="../deepseq-1.4.4.0/Control-DeepSeq.html#t:NFData" title="Control.DeepSeq">NFData</a> a, <a href="../monad-control-1.0.3.1/Control-Monad-Trans-Control.html#t:MonadBaseControl" title="Control.Monad.Trans.Control">MonadBaseControl</a> <a href="../base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> m) =&gt; m a -&gt; (<a href="../base-4.14.3.0/Control-Exception-Base.html#t:SomeException" title="Control.Exception.Base">SomeException</a> -&gt; m a) -&gt; m a</li><li class="src short"><a href="#v:handleAnyDeep">handleAnyDeep</a> :: (<a href="../deepseq-1.4.4.0/Control-DeepSeq.html#t:NFData" title="Control.DeepSeq">NFData</a> a, <a href="../monad-control-1.0.3.1/Control-Monad-Trans-Control.html#t:MonadBaseControl" title="Control.Monad.Trans.Control">MonadBaseControl</a> <a href="../base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> m) =&gt; (<a href="../base-4.14.3.0/Control-Exception-Base.html#t:SomeException" title="Control.Exception.Base">SomeException</a> -&gt; m a) -&gt; m a -&gt; m a</li><li class="src short"><a href="#v:tryDeep">tryDeep</a> :: (<a href="../base-4.14.3.0/Control-Exception-Base.html#t:Exception" title="Control.Exception.Base">Exception</a> e, <a href="../deepseq-1.4.4.0/Control-DeepSeq.html#t:NFData" title="Control.DeepSeq">NFData</a> a, <a href="../monad-control-1.0.3.1/Control-Monad-Trans-Control.html#t:MonadBaseControl" title="Control.Monad.Trans.Control">MonadBaseControl</a> <a href="../base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> m) =&gt; m a -&gt; m (<a href="../base-4.14.3.0/Data-Either.html#t:Either" title="Data.Either">Either</a> e a)</li><li class="src short"><a href="#v:tryAnyDeep">tryAnyDeep</a> :: (<a href="../deepseq-1.4.4.0/Control-DeepSeq.html#t:NFData" title="Control.DeepSeq">NFData</a> a, <a href="../monad-control-1.0.3.1/Control-Monad-Trans-Control.html#t:MonadBaseControl" title="Control.Monad.Trans.Control">MonadBaseControl</a> <a href="../base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> m) =&gt; m a -&gt; m (<a href="../base-4.14.3.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="../base-4.14.3.0/Control-Exception-Base.html#t:SomeException" title="Control.Exception.Base">SomeException</a> a)</li><li class="src short"><a href="#v:catchIO">catchIO</a> :: <a href="../monad-control-1.0.3.1/Control-Monad-Trans-Control.html#t:MonadBaseControl" title="Control.Monad.Trans.Control">MonadBaseControl</a> <a href="../base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> m =&gt; m a -&gt; (<a href="../base-4.14.3.0/Control-Exception-Base.html#t:IOException" title="Control.Exception.Base">IOException</a> -&gt; m a) -&gt; m a</li><li class="src short"><a href="#v:handleIO">handleIO</a> :: <a href="../monad-control-1.0.3.1/Control-Monad-Trans-Control.html#t:MonadBaseControl" title="Control.Monad.Trans.Control">MonadBaseControl</a> <a href="../base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> m =&gt; (<a href="../base-4.14.3.0/Control-Exception-Base.html#t:IOException" title="Control.Exception.Base">IOException</a> -&gt; m a) -&gt; m a -&gt; m a</li><li class="src short"><a href="#v:tryIO">tryIO</a> :: <a href="../monad-control-1.0.3.1/Control-Monad-Trans-Control.html#t:MonadBaseControl" title="Control.Monad.Trans.Control">MonadBaseControl</a> <a href="../base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> m =&gt; m a -&gt; m (<a href="../base-4.14.3.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="../base-4.14.3.0/Control-Exception-Base.html#t:IOException" title="Control.Exception.Base">IOException</a> a)</li><li class="src short"><a href="#v:asIOException">asIOException</a> :: <a href="../base-4.14.3.0/Control-Exception-Base.html#t:IOException" title="Control.Exception.Base">IOException</a> -&gt; <a href="../base-4.14.3.0/Control-Exception-Base.html#t:IOException" title="Control.Exception.Base">IOException</a></li><li class="src short"><a href="#v:asSomeException">asSomeException</a> :: <a href="../base-4.14.3.0/Control-Exception-Base.html#t:SomeException" title="Control.Exception.Base">SomeException</a> -&gt; <a href="../base-4.14.3.0/Control-Exception-Base.html#t:SomeException" title="Control.Exception.Base">SomeException</a></li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h2>Exceptions</h2></a><div class="top"><p class="src"><a id="v:catchAny" class="def">catchAny</a> :: <a href="../monad-control-1.0.3.1/Control-Monad-Trans-Control.html#t:MonadBaseControl" title="Control.Monad.Trans.Control">MonadBaseControl</a> <a href="../base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> m =&gt; m a -&gt; (<a href="../base-4.14.3.0/Control-Exception-Base.html#t:SomeException" title="Control.Exception.Base">SomeException</a> -&gt; m a) -&gt; m a <a href="src/Control.Exception.Enclosed.html#catchAny" class="link">Source</a> <a href="#v:catchAny" class="selflink">#</a></p><div class="doc"><p>A version of <code><a href="../base-4.14.3.0/Control-Exception-Base.html#v:catch" title="Control.Exception.Base">catch</a></code> which is specialized for any exception. This
 simplifies usage as no explicit type signatures are necessary.</p><p>Note that since version 0.5.9, this function now has proper support for
 asynchronous exceptions, by only catching exceptions generated by the
 internal (enclosed) action.</p><p>Since 0.5.6</p></div></div><div class="top"><p class="src"><a id="v:handleAny" class="def">handleAny</a> :: <a href="../monad-control-1.0.3.1/Control-Monad-Trans-Control.html#t:MonadBaseControl" title="Control.Monad.Trans.Control">MonadBaseControl</a> <a href="../base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> m =&gt; (<a href="../base-4.14.3.0/Control-Exception-Base.html#t:SomeException" title="Control.Exception.Base">SomeException</a> -&gt; m a) -&gt; m a -&gt; m a <a href="src/Control.Exception.Enclosed.html#handleAny" class="link">Source</a> <a href="#v:handleAny" class="selflink">#</a></p><div class="doc"><p>A version of <code><a href="../base-4.14.3.0/Control-Exception-Base.html#v:handle" title="Control.Exception.Base">handle</a></code> which is specialized for any exception.  This
 simplifies usage as no explicit type signatures are necessary.</p><p>Note that since version 0.5.9, this function now has proper support for
 asynchronous exceptions, by only catching exceptions generated by the
 internal (enclosed) action.</p><p>Since 0.5.6</p></div></div><div class="top"><p class="src"><a id="v:tryAny" class="def">tryAny</a> :: <a href="../monad-control-1.0.3.1/Control-Monad-Trans-Control.html#t:MonadBaseControl" title="Control.Monad.Trans.Control">MonadBaseControl</a> <a href="../base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> m =&gt; m a -&gt; m (<a href="../base-4.14.3.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="../base-4.14.3.0/Control-Exception-Base.html#t:SomeException" title="Control.Exception.Base">SomeException</a> a) <a href="src/Control.Exception.Enclosed.html#tryAny" class="link">Source</a> <a href="#v:tryAny" class="selflink">#</a></p><div class="doc"><p>A version of <code><a href="../base-4.14.3.0/Control-Exception-Base.html#v:try" title="Control.Exception.Base">try</a></code> which is specialized for any exception.
 This simplifies usage as no explicit type signatures are necessary.</p><p>Note that since version 0.5.9, this function now has proper support for
 asynchronous exceptions, by only catching exceptions generated by the
 internal (enclosed) action.</p><p>Since 0.5.6</p></div></div><div class="top"><p class="src"><a id="v:catchDeep" class="def">catchDeep</a> :: (<a href="../base-4.14.3.0/Control-Exception-Base.html#t:Exception" title="Control.Exception.Base">Exception</a> e, <a href="../deepseq-1.4.4.0/Control-DeepSeq.html#t:NFData" title="Control.DeepSeq">NFData</a> a, <a href="../monad-control-1.0.3.1/Control-Monad-Trans-Control.html#t:MonadBaseControl" title="Control.Monad.Trans.Control">MonadBaseControl</a> <a href="../base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> m) =&gt; m a -&gt; (e -&gt; m a) -&gt; m a <a href="src/Control.Exception.Enclosed.html#catchDeep" class="link">Source</a> <a href="#v:catchDeep" class="selflink">#</a></p><div class="doc"><p>An extension to <code>catch</code> which ensures that the return value is fully
 evaluated. See <code>tryAny</code>.</p><p>Since 1.0.1</p></div></div><div class="top"><p class="src"><a id="v:catchAnyDeep" class="def">catchAnyDeep</a> :: (<a href="../deepseq-1.4.4.0/Control-DeepSeq.html#t:NFData" title="Control.DeepSeq">NFData</a> a, <a href="../monad-control-1.0.3.1/Control-Monad-Trans-Control.html#t:MonadBaseControl" title="Control.Monad.Trans.Control">MonadBaseControl</a> <a href="../base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> m) =&gt; m a -&gt; (<a href="../base-4.14.3.0/Control-Exception-Base.html#t:SomeException" title="Control.Exception.Base">SomeException</a> -&gt; m a) -&gt; m a <a href="src/Control.Exception.Enclosed.html#catchAnyDeep" class="link">Source</a> <a href="#v:catchAnyDeep" class="selflink">#</a></p><div class="doc"><p>An extension to <code>catchAny</code> which ensures that the return value is fully
 evaluated. See <code>tryAnyDeep</code>.</p><p>Since 0.5.9</p></div></div><div class="top"><p class="src"><a id="v:handleAnyDeep" class="def">handleAnyDeep</a> :: (<a href="../deepseq-1.4.4.0/Control-DeepSeq.html#t:NFData" title="Control.DeepSeq">NFData</a> a, <a href="../monad-control-1.0.3.1/Control-Monad-Trans-Control.html#t:MonadBaseControl" title="Control.Monad.Trans.Control">MonadBaseControl</a> <a href="../base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> m) =&gt; (<a href="../base-4.14.3.0/Control-Exception-Base.html#t:SomeException" title="Control.Exception.Base">SomeException</a> -&gt; m a) -&gt; m a -&gt; m a <a href="src/Control.Exception.Enclosed.html#handleAnyDeep" class="link">Source</a> <a href="#v:handleAnyDeep" class="selflink">#</a></p><div class="doc"><pre>flip catchAnyDeep</pre><p>Since 0.5.6</p></div></div><div class="top"><p class="src"><a id="v:tryDeep" class="def">tryDeep</a> :: (<a href="../base-4.14.3.0/Control-Exception-Base.html#t:Exception" title="Control.Exception.Base">Exception</a> e, <a href="../deepseq-1.4.4.0/Control-DeepSeq.html#t:NFData" title="Control.DeepSeq">NFData</a> a, <a href="../monad-control-1.0.3.1/Control-Monad-Trans-Control.html#t:MonadBaseControl" title="Control.Monad.Trans.Control">MonadBaseControl</a> <a href="../base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> m) =&gt; m a -&gt; m (<a href="../base-4.14.3.0/Data-Either.html#t:Either" title="Data.Either">Either</a> e a) <a href="src/Control.Exception.Enclosed.html#tryDeep" class="link">Source</a> <a href="#v:tryDeep" class="selflink">#</a></p><div class="doc"><p>an extension to <code>try</code> which ensures that the return value is fully
 evaluated. in other words, if you get a <code>right</code> response here, you can be
 confident that using it will not result in another exception.</p><p>Since 1.0.1</p></div></div><div class="top"><p class="src"><a id="v:tryAnyDeep" class="def">tryAnyDeep</a> :: (<a href="../deepseq-1.4.4.0/Control-DeepSeq.html#t:NFData" title="Control.DeepSeq">NFData</a> a, <a href="../monad-control-1.0.3.1/Control-Monad-Trans-Control.html#t:MonadBaseControl" title="Control.Monad.Trans.Control">MonadBaseControl</a> <a href="../base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> m) =&gt; m a -&gt; m (<a href="../base-4.14.3.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="../base-4.14.3.0/Control-Exception-Base.html#t:SomeException" title="Control.Exception.Base">SomeException</a> a) <a href="src/Control.Exception.Enclosed.html#tryAnyDeep" class="link">Source</a> <a href="#v:tryAnyDeep" class="selflink">#</a></p><div class="doc"><p>an extension to <code>tryany</code> which ensures that the return value is fully
 evaluated. in other words, if you get a <code>right</code> response here, you can be
 confident that using it will not result in another exception.</p><p>Since 0.5.9</p></div></div><div class="top"><p class="src"><a id="v:catchIO" class="def">catchIO</a> :: <a href="../monad-control-1.0.3.1/Control-Monad-Trans-Control.html#t:MonadBaseControl" title="Control.Monad.Trans.Control">MonadBaseControl</a> <a href="../base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> m =&gt; m a -&gt; (<a href="../base-4.14.3.0/Control-Exception-Base.html#t:IOException" title="Control.Exception.Base">IOException</a> -&gt; m a) -&gt; m a <a href="src/Control.Exception.Enclosed.html#catchIO" class="link">Source</a> <a href="#v:catchIO" class="selflink">#</a></p><div class="doc"><p>A version of <code><a href="../base-4.14.3.0/Control-Exception-Base.html#v:catch" title="Control.Exception.Base">catch</a></code> which is specialized for IO exceptions. This
 simplifies usage as no explicit type signatures are necessary.</p><p>Since 0.5.6</p></div></div><div class="top"><p class="src"><a id="v:handleIO" class="def">handleIO</a> :: <a href="../monad-control-1.0.3.1/Control-Monad-Trans-Control.html#t:MonadBaseControl" title="Control.Monad.Trans.Control">MonadBaseControl</a> <a href="../base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> m =&gt; (<a href="../base-4.14.3.0/Control-Exception-Base.html#t:IOException" title="Control.Exception.Base">IOException</a> -&gt; m a) -&gt; m a -&gt; m a <a href="src/Control.Exception.Enclosed.html#handleIO" class="link">Source</a> <a href="#v:handleIO" class="selflink">#</a></p><div class="doc"><p>A version of <code><a href="../base-4.14.3.0/Control-Exception-Base.html#v:handle" title="Control.Exception.Base">handle</a></code> which is specialized for IO exceptions.  This
 simplifies usage as no explicit type signatures are necessary.</p><p>Since 0.5.6</p></div></div><div class="top"><p class="src"><a id="v:tryIO" class="def">tryIO</a> :: <a href="../monad-control-1.0.3.1/Control-Monad-Trans-Control.html#t:MonadBaseControl" title="Control.Monad.Trans.Control">MonadBaseControl</a> <a href="../base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> m =&gt; m a -&gt; m (<a href="../base-4.14.3.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="../base-4.14.3.0/Control-Exception-Base.html#t:IOException" title="Control.Exception.Base">IOException</a> a) <a href="src/Control.Exception.Enclosed.html#tryIO" class="link">Source</a> <a href="#v:tryIO" class="selflink">#</a></p><div class="doc"><p>A version of <code><a href="../base-4.14.3.0/Control-Exception-Base.html#v:try" title="Control.Exception.Base">try</a></code> which is specialized for IO exceptions.
 This simplifies usage as no explicit type signatures are necessary.</p><p>Since 0.5.6</p></div></div><a href="#g:2" id="g:2"><h2>Force types</h2></a><div class="doc"><p>Helper functions for situations where type inferer gets confused.</p></div><div class="top"><p class="src"><a id="v:asIOException" class="def">asIOException</a> :: <a href="../base-4.14.3.0/Control-Exception-Base.html#t:IOException" title="Control.Exception.Base">IOException</a> -&gt; <a href="../base-4.14.3.0/Control-Exception-Base.html#t:IOException" title="Control.Exception.Base">IOException</a> <a href="src/Control.Exception.Enclosed.html#asIOException" class="link">Source</a> <a href="#v:asIOException" class="selflink">#</a></p><div class="doc"><p>Since 0.5.6</p></div></div><div class="top"><p class="src"><a id="v:asSomeException" class="def">asSomeException</a> :: <a href="../base-4.14.3.0/Control-Exception-Base.html#t:SomeException" title="Control.Exception.Base">SomeException</a> -&gt; <a href="../base-4.14.3.0/Control-Exception-Base.html#t:SomeException" title="Control.Exception.Base">SomeException</a> <a href="src/Control.Exception.Enclosed.html#asSomeException" class="link">Source</a> <a href="#v:asSomeException" class="selflink">#</a></p><div class="doc"><p>Since 0.5.6</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.24.2</p></div></body></html>